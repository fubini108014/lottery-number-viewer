(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();function XC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qm={exports:{}},Jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oT;function $C(){if(oT)return Jl;oT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:c,ref:o!==void 0?o:null,props:u}}return Jl.Fragment=t,Jl.jsx=e,Jl.jsxs=e,Jl}var lT;function WC(){return lT||(lT=1,qm.exports=$C()),qm.exports}var Y=WC(),Gm={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uT;function ZC(){if(uT)return bt;uT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),S=Symbol.iterator;function C(P){return P===null||typeof P!="object"?null:(P=S&&P[S]||P["@@iterator"],typeof P=="function"?P:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,L={};function q(P,tt,lt){this.props=P,this.context=tt,this.refs=L,this.updater=lt||x}q.prototype.isReactComponent={},q.prototype.setState=function(P,tt){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,tt,"setState")},q.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function W(){}W.prototype=q.prototype;function Q(P,tt,lt){this.props=P,this.context=tt,this.refs=L,this.updater=lt||x}var st=Q.prototype=new W;st.constructor=Q,z(st,q.prototype),st.isPureReactComponent=!0;var nt=Array.isArray;function ut(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(P,tt,lt){var ht=lt.ref;return{$$typeof:n,type:P,key:tt,ref:ht!==void 0?ht:null,props:lt}}function N(P,tt){return R(P.type,tt,P.props)}function M(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function U(P){var tt={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(lt){return tt[lt]})}var D=/\/+/g;function te(P,tt){return typeof P=="object"&&P!==null&&P.key!=null?U(""+P.key):tt.toString(36)}function fe(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(ut,ut):(P.status="pending",P.then(function(tt){P.status==="pending"&&(P.status="fulfilled",P.value=tt)},function(tt){P.status==="pending"&&(P.status="rejected",P.reason=tt)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function $(P,tt,lt,ht,St){var xt=typeof P;(xt==="undefined"||xt==="boolean")&&(P=null);var jt=!1;if(P===null)jt=!0;else switch(xt){case"bigint":case"string":case"number":jt=!0;break;case"object":switch(P.$$typeof){case n:case t:jt=!0;break;case v:return jt=P._init,$(jt(P._payload),tt,lt,ht,St)}}if(jt)return St=St(P),jt=ht===""?"."+te(P,0):ht,nt(St)?(lt="",jt!=null&&(lt=jt.replace(D,"$&/")+"/"),$(St,tt,lt,"",function(Sr){return Sr})):St!=null&&(M(St)&&(St=N(St,lt+(St.key==null||P&&P.key===St.key?"":(""+St.key).replace(D,"$&/")+"/")+jt)),tt.push(St)),1;jt=0;var Ne=ht===""?".":ht+":";if(nt(P))for(var ae=0;ae<P.length;ae++)ht=P[ae],xt=Ne+te(ht,ae),jt+=$(ht,tt,lt,xt,St);else if(ae=C(P),typeof ae=="function")for(P=ae.call(P),ae=0;!(ht=P.next()).done;)ht=ht.value,xt=Ne+te(ht,ae++),jt+=$(ht,tt,lt,xt,St);else if(xt==="object"){if(typeof P.then=="function")return $(fe(P),tt,lt,ht,St);throw tt=String(P),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return jt}function rt(P,tt,lt){if(P==null)return P;var ht=[],St=0;return $(P,ht,"","",function(xt){return tt.call(lt,xt,St++)}),ht}function ft(P){if(P._status===-1){var tt=P._result;tt=tt(),tt.then(function(lt){(P._status===0||P._status===-1)&&(P._status=1,P._result=lt)},function(lt){(P._status===0||P._status===-1)&&(P._status=2,P._result=lt)}),P._status===-1&&(P._status=0,P._result=tt)}if(P._status===1)return P._result.default;throw P._result}var It=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Nt={map:rt,forEach:function(P,tt,lt){rt(P,function(){tt.apply(this,arguments)},lt)},count:function(P){var tt=0;return rt(P,function(){tt++}),tt},toArray:function(P){return rt(P,function(tt){return tt})||[]},only:function(P){if(!M(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return bt.Activity=E,bt.Children=Nt,bt.Component=q,bt.Fragment=e,bt.Profiler=o,bt.PureComponent=Q,bt.StrictMode=r,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,bt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return I.H.useMemoCache(P)}},bt.cache=function(P){return function(){return P.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(P,tt,lt){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ht=z({},P.props),St=P.key;if(tt!=null)for(xt in tt.key!==void 0&&(St=""+tt.key),tt)!w.call(tt,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&tt.ref===void 0||(ht[xt]=tt[xt]);var xt=arguments.length-2;if(xt===1)ht.children=lt;else if(1<xt){for(var jt=Array(xt),Ne=0;Ne<xt;Ne++)jt[Ne]=arguments[Ne+2];ht.children=jt}return R(P.type,St,ht)},bt.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},bt.createElement=function(P,tt,lt){var ht,St={},xt=null;if(tt!=null)for(ht in tt.key!==void 0&&(xt=""+tt.key),tt)w.call(tt,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(St[ht]=tt[ht]);var jt=arguments.length-2;if(jt===1)St.children=lt;else if(1<jt){for(var Ne=Array(jt),ae=0;ae<jt;ae++)Ne[ae]=arguments[ae+2];St.children=Ne}if(P&&P.defaultProps)for(ht in jt=P.defaultProps,jt)St[ht]===void 0&&(St[ht]=jt[ht]);return R(P,xt,St)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(P){return{$$typeof:m,render:P}},bt.isValidElement=M,bt.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:ft}},bt.memo=function(P,tt){return{$$typeof:g,type:P,compare:tt===void 0?null:tt}},bt.startTransition=function(P){var tt=I.T,lt={};I.T=lt;try{var ht=P(),St=I.S;St!==null&&St(lt,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(ut,It)}catch(xt){It(xt)}finally{tt!==null&&lt.types!==null&&(tt.types=lt.types),I.T=tt}},bt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},bt.use=function(P){return I.H.use(P)},bt.useActionState=function(P,tt,lt){return I.H.useActionState(P,tt,lt)},bt.useCallback=function(P,tt){return I.H.useCallback(P,tt)},bt.useContext=function(P){return I.H.useContext(P)},bt.useDebugValue=function(){},bt.useDeferredValue=function(P,tt){return I.H.useDeferredValue(P,tt)},bt.useEffect=function(P,tt){return I.H.useEffect(P,tt)},bt.useEffectEvent=function(P){return I.H.useEffectEvent(P)},bt.useId=function(){return I.H.useId()},bt.useImperativeHandle=function(P,tt,lt){return I.H.useImperativeHandle(P,tt,lt)},bt.useInsertionEffect=function(P,tt){return I.H.useInsertionEffect(P,tt)},bt.useLayoutEffect=function(P,tt){return I.H.useLayoutEffect(P,tt)},bt.useMemo=function(P,tt){return I.H.useMemo(P,tt)},bt.useOptimistic=function(P,tt){return I.H.useOptimistic(P,tt)},bt.useReducer=function(P,tt,lt){return I.H.useReducer(P,tt,lt)},bt.useRef=function(P){return I.H.useRef(P)},bt.useState=function(P){return I.H.useState(P)},bt.useSyncExternalStore=function(P,tt,lt){return I.H.useSyncExternalStore(P,tt,lt)},bt.useTransition=function(){return I.H.useTransition()},bt.version="19.2.4",bt}var cT;function Tg(){return cT||(cT=1,Gm.exports=ZC()),Gm.exports}var at=Tg();const JC=XC(at);var Km={exports:{}},tu={},Ym={exports:{}},Qm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT;function t2(){return hT||(hT=1,(function(n){function t($,rt){var ft=$.length;$.push(rt);t:for(;0<ft;){var It=ft-1>>>1,Nt=$[It];if(0<o(Nt,rt))$[It]=rt,$[ft]=Nt,ft=It;else break t}}function e($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var rt=$[0],ft=$.pop();if(ft!==rt){$[0]=ft;t:for(var It=0,Nt=$.length,P=Nt>>>1;It<P;){var tt=2*(It+1)-1,lt=$[tt],ht=tt+1,St=$[ht];if(0>o(lt,ft))ht<Nt&&0>o(St,lt)?($[It]=St,$[ht]=ft,It=ht):($[It]=lt,$[tt]=ft,It=tt);else if(ht<Nt&&0>o(St,ft))$[It]=St,$[ht]=ft,It=ht;else break t}}return rt}function o($,rt){var ft=$.sortIndex-rt.sortIndex;return ft!==0?ft:$.id-rt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();n.unstable_now=function(){return c.now()-m}}var p=[],g=[],v=1,E=null,S=3,C=!1,x=!1,z=!1,L=!1,q=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function st($){for(var rt=e(g);rt!==null;){if(rt.callback===null)r(g);else if(rt.startTime<=$)r(g),rt.sortIndex=rt.expirationTime,t(p,rt);else break;rt=e(g)}}function nt($){if(z=!1,st($),!x)if(e(p)!==null)x=!0,ut||(ut=!0,U());else{var rt=e(g);rt!==null&&fe(nt,rt.startTime-$)}}var ut=!1,I=-1,w=5,R=-1;function N(){return L?!0:!(n.unstable_now()-R<w)}function M(){if(L=!1,ut){var $=n.unstable_now();R=$;var rt=!0;try{t:{x=!1,z&&(z=!1,W(I),I=-1),C=!0;var ft=S;try{e:{for(st($),E=e(p);E!==null&&!(E.expirationTime>$&&N());){var It=E.callback;if(typeof It=="function"){E.callback=null,S=E.priorityLevel;var Nt=It(E.expirationTime<=$);if($=n.unstable_now(),typeof Nt=="function"){E.callback=Nt,st($),rt=!0;break e}E===e(p)&&r(p),st($)}else r(p);E=e(p)}if(E!==null)rt=!0;else{var P=e(g);P!==null&&fe(nt,P.startTime-$),rt=!1}}break t}finally{E=null,S=ft,C=!1}rt=void 0}}finally{rt?U():ut=!1}}}var U;if(typeof Q=="function")U=function(){Q(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,te=D.port2;D.port1.onmessage=M,U=function(){te.postMessage(null)}}else U=function(){q(M,0)};function fe($,rt){I=q(function(){$(n.unstable_now())},rt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function($){switch(S){case 1:case 2:case 3:var rt=3;break;default:rt=S}var ft=S;S=rt;try{return $()}finally{S=ft}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function($,rt){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ft=S;S=$;try{return rt()}finally{S=ft}},n.unstable_scheduleCallback=function($,rt,ft){var It=n.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?It+ft:It):ft=It,$){case 1:var Nt=-1;break;case 2:Nt=250;break;case 5:Nt=1073741823;break;case 4:Nt=1e4;break;default:Nt=5e3}return Nt=ft+Nt,$={id:v++,callback:rt,priorityLevel:$,startTime:ft,expirationTime:Nt,sortIndex:-1},ft>It?($.sortIndex=ft,t(g,$),e(p)===null&&$===e(g)&&(z?(W(I),I=-1):z=!0,fe(nt,ft-It))):($.sortIndex=Nt,t(p,$),x||C||(x=!0,ut||(ut=!0,U()))),$},n.unstable_shouldYield=N,n.unstable_wrapCallback=function($){var rt=S;return function(){var ft=S;S=rt;try{return $.apply(this,arguments)}finally{S=ft}}}})(Qm)),Qm}var fT;function e2(){return fT||(fT=1,Ym.exports=t2()),Ym.exports}var Xm={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dT;function n2(){if(dT)return tn;dT=1;var n=Tg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},tn.flushSync=function(p){var g=c.T,v=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=v,r.d.f()}},tn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},tn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},tn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:C}):v==="script"&&r.d.X(p,{crossOrigin:E,integrity:S,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},tn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},tn.requestFormReset=function(p){r.d.r(p)},tn.unstable_batchedUpdates=function(p,g){return p(g)},tn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},tn.version="19.2.4",tn}var mT;function i2(){if(mT)return Xm.exports;mT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Xm.exports=n2(),Xm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pT;function s2(){if(pT)return tu;pT=1;var n=e2(),t=Tg(),e=i2();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function p(i){if(u(i)!==i)throw Error(r(188))}function g(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var a=i,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),i;if(d===l)return p(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,A=f.child;A;){if(A===a){_=!0,a=f,l=d;break}if(A===l){_=!0,l=f,a=d;break}A=A.sibling}if(!_){for(A=d.child;A;){if(A===a){_=!0,a=d,l=f;break}if(A===l){_=!0,l=d,a=f;break}A=A.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?i:s}function v(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=v(i),s!==null)return s;i=i.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),st=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=M&&i[M]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function te(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case z:return"Fragment";case q:return"Profiler";case L:return"StrictMode";case nt:return"Suspense";case ut:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case Q:return i.displayName||"Context";case W:return(i._context.displayName||"Context")+".Consumer";case st:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return s=i.displayName||null,s!==null?s:te(i.type)||"Memo";case w:s=i._payload,i=i._init;try{return te(i(s))}catch{}}return null}var fe=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},It=[],Nt=-1;function P(i){return{current:i}}function tt(i){0>Nt||(i.current=It[Nt],It[Nt]=null,Nt--)}function lt(i,s){Nt++,It[Nt]=i.current,i.current=s}var ht=P(null),St=P(null),xt=P(null),jt=P(null);function Ne(i,s){switch(lt(xt,s),lt(St,i),lt(ht,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?D0(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=D0(s),i=V0(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}tt(ht),lt(ht,i)}function ae(){tt(ht),tt(St),tt(xt)}function Sr(i){i.memoizedState!==null&&lt(jt,i);var s=ht.current,a=V0(s,i.type);s!==a&&(lt(St,i),lt(ht,a))}function Sa(i){St.current===i&&(tt(ht),tt(St)),jt.current===i&&(tt(jt),Xl._currentValue=ft)}var Aa,ba;function pi(i){if(Aa===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Aa=s&&s[1]||"",ba=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Aa+i+ba}var Xo=!1;function Ar(i,s){if(!i||Xo)return"";Xo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(K){var H=K}Reflect.construct(i,[],J)}else{try{J.call()}catch(K){H=K}i.call(J.prototype)}}else{try{throw Error()}catch(K){H=K}(J=i())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(K){if(K&&H&&typeof K.stack=="string")return[K.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],A=d[1];if(_&&A){var V=_.split(`
`),F=A.split(`
`);for(f=l=0;l<V.length&&!V[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===V.length||f===F.length)for(l=V.length-1,f=F.length-1;1<=l&&0<=f&&V[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(V[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||V[l]!==F[f]){var X=`
`+V[l].replace(" at new "," at ");return i.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",i.displayName)),X}while(1<=l&&0<=f);break}}}finally{Xo=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?pi(a):""}function $o(i,s){switch(i.tag){case 26:case 27:case 5:return pi(i.type);case 16:return pi("Lazy");case 13:return i.child!==s&&s!==null?pi("Suspense Fallback"):pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return Ar(i.type,!1);case 11:return Ar(i.type.render,!1);case 1:return Ar(i.type,!0);case 31:return pi("Activity");default:return""}}function Wo(i){try{var s="",a=null;do s+=$o(i,a),a=i,i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ee=Object.prototype.hasOwnProperty,Oe=n.unstable_scheduleCallback,As=n.unstable_cancelCallback,Kf=n.unstable_shouldYield,Qu=n.unstable_requestPaint,on=n.unstable_now,br=n.unstable_getCurrentPriorityLevel,Zo=n.unstable_ImmediatePriority,Jo=n.unstable_UserBlockingPriority,bs=n.unstable_NormalPriority,Yf=n.unstable_LowPriority,Xu=n.unstable_IdlePriority,$u=n.log,Wu=n.unstable_setDisableYieldValue,Yn=null,qe=null;function Dn(i){if(typeof $u=="function"&&Wu(i),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Yn,i)}catch{}}var ge=Math.clz32?Math.clz32:Ju,Zu=Math.log,wa=Math.LN2;function Ju(i){return i>>>=0,i===0?32:31-(Zu(i)/wa|0)|0}var gi=256,wr=262144,Se=4194304;function yi(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function vi(i,s,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,d=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=yi(l):(_&=A,_!==0?f=yi(_):a||(a=A&~i,a!==0&&(f=yi(a))))):(A=l&~d,A!==0?f=yi(A):_!==0?f=yi(_):a||(a=l&~i,a!==0&&(f=yi(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function Qn(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Qf(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tc(){var i=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),i}function _i(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function Rr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Xf(i,s,a,l,f,d){var _=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var A=i.entanglements,V=i.expirationTimes,F=i.hiddenUpdates;for(a=_&~a;0<a;){var X=31-ge(a),J=1<<X;A[X]=0,V[X]=-1;var H=F[X];if(H!==null)for(F[X]=null,X=0;X<H.length;X++){var K=H[X];K!==null&&(K.lane&=-536870913)}a&=~J}l!==0&&Cr(i,l,0),d!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=d&~(_&~s))}function Cr(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var l=31-ge(s);i.entangledLanes|=s,i.entanglements[l]=i.entanglements[l]|1073741824|a&261930}function tl(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var l=31-ge(a),f=1<<l;f&s|i[l]&s&&(i[l]|=s),a&=~f}}function el(i,s){var a=s&-s;return a=(a&42)!==0?1:Ir(a),(a&(i.suspendedLanes|s))!==0?0:a}function Ir(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Qi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ec(){var i=rt.p;return i!==0?i:(i=window.event,i===void 0?32:tT(i.type))}function Xn(i,s){var a=rt.p;try{return rt.p=i,s()}finally{rt.p=a}}var $n=Math.random().toString(36).slice(2),Ae="__reactFiber$"+$n,ze="__reactProps$"+$n,Ti="__reactContainer$"+$n,Ra="__reactEvents$"+$n,$f="__reactListeners$"+$n,nc="__reactHandles$"+$n,ic="__reactResources$"+$n,Ei="__reactMarker$"+$n;function Ca(i){delete i[Ae],delete i[ze],delete i[Ra],delete i[$f],delete i[nc]}function Si(i){var s=i[Ae];if(s)return s;for(var a=i.parentNode;a;){if(s=a[Ti]||a[Ae]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=U0(i);i!==null;){if(a=i[Ae])return a;i=U0(i)}return s}i=a,a=i.parentNode}return null}function Vn(i){if(i=i[Ae]||i[Ti]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Tn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Ai(i){var s=i[ic];return s||(s=i[ic]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function be(i){i[Ei]=!0}var nl=new Set,il={};function bi(i,s){wi(i,s),wi(i+"Capture",s)}function wi(i,s){for(il[i]=s,i=0;i<s.length;i++)nl.add(s[i])}var sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rl={},al={};function sc(i){return Ee.call(al,i)?!0:Ee.call(rl,i)?!1:sl.test(i)?al[i]=!0:(rl[i]=!0,!1)}function Ia(i,s,a){if(sc(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function En(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function we(i,s,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+l)}}function je(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ws(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ol(i,s,a){var l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Yt(i){if(!i._valueTracker){var s=ws(i)?"checked":"value";i._valueTracker=ol(i,s,""+i[s])}}function xr(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return i&&(l=ws(i)?i.checked?"true":"false":i.value),i=l,i!==a?(s.setValue(i),!0):!1}function Ri(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Dr=/[\n"\\]/g;function fn(i){return i.replace(Dr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function xa(i,s,a,l,f,d,_,A){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),s!=null?_==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+je(s)):i.value!==""+je(s)&&(i.value=""+je(s)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),s!=null?ll(i,_,je(s)):a!=null?ll(i,_,je(a)):l!=null&&i.removeAttribute("value"),f==null&&d!=null&&(i.defaultChecked=!!d),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+je(A):i.removeAttribute("name")}function rc(i,s,a,l,f,d,_,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(i.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Yt(i);return}a=a!=null?""+je(a):"",s=s!=null?""+je(s):a,A||s===i.value||(i.value=s),i.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=A?i.checked:!!l,i.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),Yt(i)}function ll(i,s,a){s==="number"&&Ri(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Rs(i,s,a,l){if(i=i.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=s.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+je(a),s=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function ac(i,s,a){if(s!=null&&(s=""+je(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+je(a):""}function Cs(i,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(fe(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=je(s),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l),Yt(i)}function dn(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var oc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ul(i,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":l?i.setProperty(s,a):typeof a!="number"||a===0||oc.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function cl(i,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&ul(i,f,l)}else for(var d in s)s.hasOwnProperty(d)&&ul(i,d,s[d])}function Da(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(i){return Is.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Wn(){}var hl=null;function Mn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var xs=null,Ci=null;function Vr(i){var s=Vn(i);if(s&&(i=s.stateNode)){var a=i[ze]||null;t:switch(i=s.stateNode,s.type){case"input":if(xa(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==i&&l.form===i.form){var f=l[ze]||null;if(!f)throw Error(r(90));xa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===i.form&&xr(l)}break t;case"textarea":ac(i,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Rs(i,!!a.multiple,s,!1)}}}var Ma=!1;function Ds(i,s,a){if(Ma)return i(s,a);Ma=!0;try{var l=i(s);return l}finally{if(Ma=!1,(xs!==null||Ci!==null)&&(eh(),xs&&(s=xs,i=Ci,Ci=xs=null,Vr(s),i)))for(s=0;s<i.length;s++)Vr(i[s])}}function Zn(i,s){var a=i.stateNode;if(a===null)return null;var l=a[ze]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mr=!1;if(Nn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Mr=!1}var Ii=null,fl=null,Nr=null;function dl(){if(Nr)return Nr;var i,s=fl,a=s.length,l,f="value"in Ii?Ii.value:Ii.textContent,d=f.length;for(i=0;i<a&&s[i]===f[i];i++);var _=a-i;for(l=1;l<=_&&s[a-l]===f[d-l];l++);return Nr=f.slice(i,1<l?1-l:void 0)}function Or(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Xi(){return!0}function Jn(){return!1}function Ge(i){function s(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(a=i[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xi:Jn,this.isPropagationStopped=Jn,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),s}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=Ge($i),Vs=E({},$i,{view:0,detail:0}),ml=Ge(Vs),Ms,Na,Di,Oa=E({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Di&&(Di&&i.type==="mousemove"?(Ms=i.screenX-Di.screenX,Na=i.screenY-Di.screenY):Na=Ms=0,Di=i),Ms)},movementY:function(i){return"movementY"in i?i.movementY:Na}}),pl=Ge(Oa),Pr=E({},Oa,{dataTransfer:0}),uc=Ge(Pr),cc=E({},Vs,{relatedTarget:0}),Lr=Ge(cc),gl=E({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),hc=Ge(gl),Pa=E({},$i,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),fc=Ge(Pa),dc=E({},$i,{data:0}),Vi=Ge(dc),mc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=gc[i])?!!s[i]:!1}function Ns(){return yc}var ln=E({},Vs,{key:function(i){if(i.key){var s=mc[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Or(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?pc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(i){return i.type==="keypress"?Or(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Or(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),vc=Ge(ln),_c=E({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=Ge(_c),h=E({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),y=Ge(h),T=E({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ge(T),j=E({},Oa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Ge(j),ot=E({},$i,{newState:0,oldState:0}),Rt=Ge(ot),ye=[9,13,27,32],qt=Nn&&"CompositionEvent"in window,oe=null;Nn&&"documentMode"in document&&(oe=document.documentMode);var On=Nn&&"TextEvent"in window&&!oe,Mi=Nn&&(!qt||oe&&8<oe&&11>=oe),ti=" ",ei=!1;function kr(i,s){switch(i){case"keyup":return ye.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function La(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ka=!1;function _R(i,s){switch(i){case"compositionend":return La(s);case"keypress":return s.which!==32?null:(ei=!0,ti);case"textInput":return i=s.data,i===ti&&ei?null:i;default:return null}}function TR(i,s){if(ka)return i==="compositionend"||!qt&&kr(i,s)?(i=dl(),Nr=fl=Ii=null,ka=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Mi&&s.locale!=="ko"?null:s.data;default:return null}}var ER={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function By(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!ER[i.type]:s==="textarea"}function Fy(i,s,a,l){xs?Ci?Ci.push(l):Ci=[l]:xs=l,s=lh(s,"onChange"),0<s.length&&(a=new xi("onChange","change",null,a,l),i.push({event:a,listeners:s}))}var yl=null,vl=null;function SR(i){b0(i,0)}function Tc(i){var s=Tn(i);if(xr(s))return i}function Hy(i,s){if(i==="change")return s}var qy=!1;if(Nn){var Wf;if(Nn){var Zf="oninput"in document;if(!Zf){var Gy=document.createElement("div");Gy.setAttribute("oninput","return;"),Zf=typeof Gy.oninput=="function"}Wf=Zf}else Wf=!1;qy=Wf&&(!document.documentMode||9<document.documentMode)}function Ky(){yl&&(yl.detachEvent("onpropertychange",Yy),vl=yl=null)}function Yy(i){if(i.propertyName==="value"&&Tc(vl)){var s=[];Fy(s,vl,i,Mn(i)),Ds(SR,s)}}function AR(i,s,a){i==="focusin"?(Ky(),yl=s,vl=a,yl.attachEvent("onpropertychange",Yy)):i==="focusout"&&Ky()}function bR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Tc(vl)}function wR(i,s){if(i==="click")return Tc(s)}function RR(i,s){if(i==="input"||i==="change")return Tc(s)}function CR(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Sn=typeof Object.is=="function"?Object.is:CR;function _l(i,s){if(Sn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ee.call(s,f)||!Sn(i[f],s[f]))return!1}return!0}function Qy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Xy(i,s){var a=Qy(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=s&&l>=s)return{node:a,offset:s-i};i=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Qy(a)}}function $y(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?$y(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Wy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Ri(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=Ri(i.document)}return s}function Jf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var IR=Nn&&"documentMode"in document&&11>=document.documentMode,Ua=null,td=null,Tl=null,ed=!1;function Zy(i,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ed||Ua==null||Ua!==Ri(l)||(l=Ua,"selectionStart"in l&&Jf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Tl&&_l(Tl,l)||(Tl=l,l=lh(td,"onSelect"),0<l.length&&(s=new xi("onSelect","select",null,s,a),i.push({event:s,listeners:l}),s.target=Ua)))}function Ur(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var za={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},nd={},Jy={};Nn&&(Jy=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function zr(i){if(nd[i])return nd[i];if(!za[i])return i;var s=za[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in Jy)return nd[i]=s[a];return i}var tv=zr("animationend"),ev=zr("animationiteration"),nv=zr("animationstart"),xR=zr("transitionrun"),DR=zr("transitionstart"),VR=zr("transitioncancel"),iv=zr("transitionend"),sv=new Map,id="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");id.push("scrollEnd");function ni(i,s){sv.set(i,s),bi(s,[i])}var Ec=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Pn=[],ja=0,sd=0;function Sc(){for(var i=ja,s=sd=ja=0;s<i;){var a=Pn[s];Pn[s++]=null;var l=Pn[s];Pn[s++]=null;var f=Pn[s];Pn[s++]=null;var d=Pn[s];if(Pn[s++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&rv(a,f,d)}}function Ac(i,s,a,l){Pn[ja++]=i,Pn[ja++]=s,Pn[ja++]=a,Pn[ja++]=l,sd|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function rd(i,s,a,l){return Ac(i,s,a,l),bc(i)}function jr(i,s){return Ac(i,null,null,s),bc(i)}function rv(i,s,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=i.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(i=d.stateNode,i===null||i._visibility&1||(f=!0)),i=d,d=d.return;return i.tag===3?(d=i.stateNode,f&&s!==null&&(f=31-ge(a),i=d.hiddenUpdates,l=i[f],l===null?i[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function bc(i){if(50<Fl)throw Fl=0,mm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Ba={};function MR(i,s,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(i,s,a,l){return new MR(i,s,a,l)}function ad(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zi(i,s){var a=i.alternate;return a===null?(a=An(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function av(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function wc(i,s,a,l,f,d){var _=0;if(l=i,typeof i=="function")ad(i)&&(_=1);else if(typeof i=="string")_=kC(i,a,ht.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case R:return i=An(31,a,s,f),i.elementType=R,i.lanes=d,i;case z:return Br(a.children,f,d,s);case L:_=8,f|=24;break;case q:return i=An(12,a,s,f|2),i.elementType=q,i.lanes=d,i;case nt:return i=An(13,a,s,f),i.elementType=nt,i.lanes=d,i;case ut:return i=An(19,a,s,f),i.elementType=ut,i.lanes=d,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Q:_=10;break t;case W:_=9;break t;case st:_=11;break t;case I:_=14;break t;case w:_=16,l=null;break t}_=29,a=Error(r(130,i===null?"null":typeof i,"")),l=null}return s=An(_,a,s,f),s.elementType=i,s.type=l,s.lanes=d,s}function Br(i,s,a,l){return i=An(7,i,l,s),i.lanes=a,i}function od(i,s,a){return i=An(6,i,null,s),i.lanes=a,i}function ov(i){var s=An(18,null,null,0);return s.stateNode=i,s}function ld(i,s,a){return s=An(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var lv=new WeakMap;function Ln(i,s){if(typeof i=="object"&&i!==null){var a=lv.get(i);return a!==void 0?a:(s={value:i,source:s,stack:Wo(s)},lv.set(i,s),s)}return{value:i,source:s,stack:Wo(s)}}var Fa=[],Ha=0,Rc=null,El=0,kn=[],Un=0,Os=null,Ni=1,Oi="";function Ji(i,s){Fa[Ha++]=El,Fa[Ha++]=Rc,Rc=i,El=s}function uv(i,s,a){kn[Un++]=Ni,kn[Un++]=Oi,kn[Un++]=Os,Os=i;var l=Ni;i=Oi;var f=32-ge(l)-1;l&=~(1<<f),a+=1;var d=32-ge(s)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ni=1<<32-ge(s)+f|a<<f|l,Oi=d+i}else Ni=1<<d|a<<f|l,Oi=i}function ud(i){i.return!==null&&(Ji(i,1),uv(i,1,0))}function cd(i){for(;i===Rc;)Rc=Fa[--Ha],Fa[Ha]=null,El=Fa[--Ha],Fa[Ha]=null;for(;i===Os;)Os=kn[--Un],kn[Un]=null,Oi=kn[--Un],kn[Un]=null,Ni=kn[--Un],kn[Un]=null}function cv(i,s){kn[Un++]=Ni,kn[Un++]=Oi,kn[Un++]=Os,Ni=s.id,Oi=s.overflow,Os=i}var Ke=null,ie=null,zt=!1,Ps=null,zn=!1,hd=Error(r(519));function Ls(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sl(Ln(s,i)),hd}function hv(i){var s=i.stateNode,a=i.type,l=i.memoizedProps;switch(s[Ae]=i,s[ze]=l,a){case"dialog":Mt("cancel",s),Mt("close",s);break;case"iframe":case"object":case"embed":Mt("load",s);break;case"video":case"audio":for(a=0;a<ql.length;a++)Mt(ql[a],s);break;case"source":Mt("error",s);break;case"img":case"image":case"link":Mt("error",s),Mt("load",s);break;case"details":Mt("toggle",s);break;case"input":Mt("invalid",s),rc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",s);break;case"textarea":Mt("invalid",s),Cs(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||I0(s.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",s),Mt("toggle",s)),l.onScroll!=null&&Mt("scroll",s),l.onScrollEnd!=null&&Mt("scrollend",s),l.onClick!=null&&(s.onclick=Wn),s=!0):s=!1,s||Ls(i,!0)}function fv(i){for(Ke=i.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Ke=Ke.return}}function qa(i){if(i!==Ke)return!1;if(!zt)return fv(i),zt=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||xm(i.type,i.memoizedProps)),a=!a),a&&ie&&Ls(i),fv(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ie=k0(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ie=k0(i)}else s===27?(s=ie,$s(i.type)?(i=Om,Om=null,ie=i):ie=s):ie=Ke?Bn(i.stateNode.nextSibling):null;return!0}function Fr(){ie=Ke=null,zt=!1}function fd(){var i=Ps;return i!==null&&(yn===null?yn=i:yn.push.apply(yn,i),Ps=null),i}function Sl(i){Ps===null?Ps=[i]:Ps.push(i)}var dd=P(null),Hr=null,ts=null;function ks(i,s,a){lt(dd,s._currentValue),s._currentValue=a}function es(i){i._currentValue=dd.current,tt(dd)}function md(i,s,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),i===a)break;i=i.return}}function pd(i,s,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var A=d;d=f;for(var V=0;V<s.length;V++)if(A.context===s[V]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),md(d.return,a,i),l||(_=null);break t}d=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),md(_,a,i),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===i){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ga(i,s,a,l){i=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var A=f.type;Sn(f.pendingProps.value,_.value)||(i!==null?i.push(A):i=[A])}}else if(f===jt.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Xl):i=[Xl])}f=f.return}i!==null&&pd(s,i,a,l),s.flags|=262144}function Cc(i){for(i=i.firstContext;i!==null;){if(!Sn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function qr(i){Hr=i,ts=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ye(i){return dv(Hr,i)}function Ic(i,s){return Hr===null&&qr(i),dv(i,s)}function dv(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ts===null){if(i===null)throw Error(r(308));ts=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ts=ts.next=s;return a}var NR=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},OR=n.unstable_scheduleCallback,PR=n.unstable_NormalPriority,Re={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gd(){return{controller:new NR,data:new Map,refCount:0}}function Al(i){i.refCount--,i.refCount===0&&OR(PR,function(){i.controller.abort()})}var bl=null,yd=0,Ka=0,Ya=null;function LR(i,s){if(bl===null){var a=bl=[];yd=0,Ka=Tm(),Ya={status:"pending",value:void 0,then:function(l){a.push(l)}}}return yd++,s.then(mv,mv),s}function mv(){if(--yd===0&&bl!==null){Ya!==null&&(Ya.status="fulfilled");var i=bl;bl=null,Ka=0,Ya=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function kR(i,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var pv=$.S;$.S=function(i,s){Z_=on(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&LR(i,s),pv!==null&&pv(i,s)};var Gr=P(null);function vd(){var i=Gr.current;return i!==null?i:ee.pooledCache}function xc(i,s){s===null?lt(Gr,Gr.current):lt(Gr,s.pool)}function gv(){var i=vd();return i===null?null:{parent:Re._currentValue,pool:i}}var Qa=Error(r(460)),_d=Error(r(474)),Dc=Error(r(542)),Vc={then:function(){}};function yv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function vv(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(Wn,Wn),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Tv(i),i;default:if(typeof s.status=="string")s.then(Wn,Wn);else{if(i=ee,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Tv(i),i}throw Yr=s,Qa}}function Kr(i){try{var s=i._init;return s(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Yr=a,Qa):a}}var Yr=null;function _v(){if(Yr===null)throw Error(r(459));var i=Yr;return Yr=null,i}function Tv(i){if(i===Qa||i===Dc)throw Error(r(483))}var Xa=null,wl=0;function Mc(i){var s=wl;return wl+=1,Xa===null&&(Xa=[]),vv(Xa,i,s)}function Rl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Nc(i,s){throw s.$$typeof===S?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Ev(i){function s(k,O){if(i){var B=k.deletions;B===null?(k.deletions=[O],k.flags|=16):B.push(O)}}function a(k,O){if(!i)return null;for(;O!==null;)s(k,O),O=O.sibling;return null}function l(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function f(k,O){return k=Zi(k,O),k.index=0,k.sibling=null,k}function d(k,O,B){return k.index=B,i?(B=k.alternate,B!==null?(B=B.index,B<O?(k.flags|=67108866,O):B):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function _(k){return i&&k.alternate===null&&(k.flags|=67108866),k}function A(k,O,B,Z){return O===null||O.tag!==6?(O=od(B,k.mode,Z),O.return=k,O):(O=f(O,B),O.return=k,O)}function V(k,O,B,Z){var yt=B.type;return yt===z?X(k,O,B.props.children,Z,B.key):O!==null&&(O.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===w&&Kr(yt)===O.type)?(O=f(O,B.props),Rl(O,B),O.return=k,O):(O=wc(B.type,B.key,B.props,null,k.mode,Z),Rl(O,B),O.return=k,O)}function F(k,O,B,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=ld(B,k.mode,Z),O.return=k,O):(O=f(O,B.children||[]),O.return=k,O)}function X(k,O,B,Z,yt){return O===null||O.tag!==7?(O=Br(B,k.mode,Z,yt),O.return=k,O):(O=f(O,B),O.return=k,O)}function J(k,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=od(""+O,k.mode,B),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case C:return B=wc(O.type,O.key,O.props,null,k.mode,B),Rl(B,O),B.return=k,B;case x:return O=ld(O,k.mode,B),O.return=k,O;case w:return O=Kr(O),J(k,O,B)}if(fe(O)||U(O))return O=Br(O,k.mode,B,null),O.return=k,O;if(typeof O.then=="function")return J(k,Mc(O),B);if(O.$$typeof===Q)return J(k,Ic(k,O),B);Nc(k,O)}return null}function H(k,O,B,Z){var yt=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return yt!==null?null:A(k,O,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case C:return B.key===yt?V(k,O,B,Z):null;case x:return B.key===yt?F(k,O,B,Z):null;case w:return B=Kr(B),H(k,O,B,Z)}if(fe(B)||U(B))return yt!==null?null:X(k,O,B,Z,null);if(typeof B.then=="function")return H(k,O,Mc(B),Z);if(B.$$typeof===Q)return H(k,O,Ic(k,B),Z);Nc(k,B)}return null}function K(k,O,B,Z,yt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return k=k.get(B)||null,A(O,k,""+Z,yt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case C:return k=k.get(Z.key===null?B:Z.key)||null,V(O,k,Z,yt);case x:return k=k.get(Z.key===null?B:Z.key)||null,F(O,k,Z,yt);case w:return Z=Kr(Z),K(k,O,B,Z,yt)}if(fe(Z)||U(Z))return k=k.get(B)||null,X(O,k,Z,yt,null);if(typeof Z.then=="function")return K(k,O,B,Mc(Z),yt);if(Z.$$typeof===Q)return K(k,O,B,Ic(O,Z),yt);Nc(O,Z)}return null}function dt(k,O,B,Z){for(var yt=null,Ft=null,pt=O,Dt=O=0,Pt=null;pt!==null&&Dt<B.length;Dt++){pt.index>Dt?(Pt=pt,pt=null):Pt=pt.sibling;var Ht=H(k,pt,B[Dt],Z);if(Ht===null){pt===null&&(pt=Pt);break}i&&pt&&Ht.alternate===null&&s(k,pt),O=d(Ht,O,Dt),Ft===null?yt=Ht:Ft.sibling=Ht,Ft=Ht,pt=Pt}if(Dt===B.length)return a(k,pt),zt&&Ji(k,Dt),yt;if(pt===null){for(;Dt<B.length;Dt++)pt=J(k,B[Dt],Z),pt!==null&&(O=d(pt,O,Dt),Ft===null?yt=pt:Ft.sibling=pt,Ft=pt);return zt&&Ji(k,Dt),yt}for(pt=l(pt);Dt<B.length;Dt++)Pt=K(pt,k,Dt,B[Dt],Z),Pt!==null&&(i&&Pt.alternate!==null&&pt.delete(Pt.key===null?Dt:Pt.key),O=d(Pt,O,Dt),Ft===null?yt=Pt:Ft.sibling=Pt,Ft=Pt);return i&&pt.forEach(function(er){return s(k,er)}),zt&&Ji(k,Dt),yt}function _t(k,O,B,Z){if(B==null)throw Error(r(151));for(var yt=null,Ft=null,pt=O,Dt=O=0,Pt=null,Ht=B.next();pt!==null&&!Ht.done;Dt++,Ht=B.next()){pt.index>Dt?(Pt=pt,pt=null):Pt=pt.sibling;var er=H(k,pt,Ht.value,Z);if(er===null){pt===null&&(pt=Pt);break}i&&pt&&er.alternate===null&&s(k,pt),O=d(er,O,Dt),Ft===null?yt=er:Ft.sibling=er,Ft=er,pt=Pt}if(Ht.done)return a(k,pt),zt&&Ji(k,Dt),yt;if(pt===null){for(;!Ht.done;Dt++,Ht=B.next())Ht=J(k,Ht.value,Z),Ht!==null&&(O=d(Ht,O,Dt),Ft===null?yt=Ht:Ft.sibling=Ht,Ft=Ht);return zt&&Ji(k,Dt),yt}for(pt=l(pt);!Ht.done;Dt++,Ht=B.next())Ht=K(pt,k,Dt,Ht.value,Z),Ht!==null&&(i&&Ht.alternate!==null&&pt.delete(Ht.key===null?Dt:Ht.key),O=d(Ht,O,Dt),Ft===null?yt=Ht:Ft.sibling=Ht,Ft=Ht);return i&&pt.forEach(function(QC){return s(k,QC)}),zt&&Ji(k,Dt),yt}function Jt(k,O,B,Z){if(typeof B=="object"&&B!==null&&B.type===z&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case C:t:{for(var yt=B.key;O!==null;){if(O.key===yt){if(yt=B.type,yt===z){if(O.tag===7){a(k,O.sibling),Z=f(O,B.props.children),Z.return=k,k=Z;break t}}else if(O.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===w&&Kr(yt)===O.type){a(k,O.sibling),Z=f(O,B.props),Rl(Z,B),Z.return=k,k=Z;break t}a(k,O);break}else s(k,O);O=O.sibling}B.type===z?(Z=Br(B.props.children,k.mode,Z,B.key),Z.return=k,k=Z):(Z=wc(B.type,B.key,B.props,null,k.mode,Z),Rl(Z,B),Z.return=k,k=Z)}return _(k);case x:t:{for(yt=B.key;O!==null;){if(O.key===yt)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(k,O.sibling),Z=f(O,B.children||[]),Z.return=k,k=Z;break t}else{a(k,O);break}else s(k,O);O=O.sibling}Z=ld(B,k.mode,Z),Z.return=k,k=Z}return _(k);case w:return B=Kr(B),Jt(k,O,B,Z)}if(fe(B))return dt(k,O,B,Z);if(U(B)){if(yt=U(B),typeof yt!="function")throw Error(r(150));return B=yt.call(B),_t(k,O,B,Z)}if(typeof B.then=="function")return Jt(k,O,Mc(B),Z);if(B.$$typeof===Q)return Jt(k,O,Ic(k,B),Z);Nc(k,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(a(k,O.sibling),Z=f(O,B),Z.return=k,k=Z):(a(k,O),Z=od(B,k.mode,Z),Z.return=k,k=Z),_(k)):a(k,O)}return function(k,O,B,Z){try{wl=0;var yt=Jt(k,O,B,Z);return Xa=null,yt}catch(pt){if(pt===Qa||pt===Dc)throw pt;var Ft=An(29,pt,null,k.mode);return Ft.lanes=Z,Ft.return=k,Ft}finally{}}}var Qr=Ev(!0),Sv=Ev(!1),Us=!1;function Td(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ed(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function zs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function js(i,s,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=bc(i),rv(i,null,a),s}return Ac(i,l,s,a),bc(i)}function Cl(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,tl(i,a)}}function Sd(i,s){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var Ad=!1;function Il(){if(Ad){var i=Ya;if(i!==null)throw i}}function xl(i,s,a,l){Ad=!1;var f=i.updateQueue;Us=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var V=A,F=V.next;V.next=null,_===null?d=F:_.next=F,_=V;var X=i.alternate;X!==null&&(X=X.updateQueue,A=X.lastBaseUpdate,A!==_&&(A===null?X.firstBaseUpdate=F:A.next=F,X.lastBaseUpdate=V))}if(d!==null){var J=f.baseState;_=0,X=F=V=null,A=d;do{var H=A.lane&-536870913,K=H!==A.lane;if(K?(Ot&H)===H:(l&H)===H){H!==0&&H===Ka&&(Ad=!0),X!==null&&(X=X.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var dt=i,_t=A;H=s;var Jt=a;switch(_t.tag){case 1:if(dt=_t.payload,typeof dt=="function"){J=dt.call(Jt,J,H);break t}J=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=_t.payload,H=typeof dt=="function"?dt.call(Jt,J,H):dt,H==null)break t;J=E({},J,H);break t;case 2:Us=!0}}H=A.callback,H!==null&&(i.flags|=64,K&&(i.flags|=8192),K=f.callbacks,K===null?f.callbacks=[H]:K.push(H))}else K={lane:H,tag:A.tag,payload:A.payload,callback:A.callback,next:null},X===null?(F=X=K,V=J):X=X.next=K,_|=H;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;K=A,A=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);X===null&&(V=J),f.baseState=V,f.firstBaseUpdate=F,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),Gs|=_,i.lanes=_,i.memoizedState=J}}function Av(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function bv(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Av(a[i],s)}var $a=P(null),Oc=P(0);function wv(i,s){i=cs,lt(Oc,i),lt($a,s),cs=i|s.baseLanes}function bd(){lt(Oc,cs),lt($a,$a.current)}function wd(){cs=Oc.current,tt($a),tt(Oc)}var bn=P(null),jn=null;function Bs(i){var s=i.alternate;lt(ve,ve.current&1),lt(bn,i),jn===null&&(s===null||$a.current!==null||s.memoizedState!==null)&&(jn=i)}function Rd(i){lt(ve,ve.current),lt(bn,i),jn===null&&(jn=i)}function Rv(i){i.tag===22?(lt(ve,ve.current),lt(bn,i),jn===null&&(jn=i)):Fs()}function Fs(){lt(ve,ve.current),lt(bn,bn.current)}function wn(i){tt(bn),jn===i&&(jn=null),tt(ve)}var ve=P(0);function Pc(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Mm(a)||Nm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ns=0,Ct=null,Wt=null,Ce=null,Lc=!1,Wa=!1,Xr=!1,kc=0,Dl=0,Za=null,UR=0;function de(){throw Error(r(321))}function Cd(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!Sn(i[a],s[a]))return!1;return!0}function Id(i,s,a,l,f,d){return ns=d,Ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=i===null||i.memoizedState===null?u_:Hd,Xr=!1,d=a(l,f),Xr=!1,Wa&&(d=Iv(s,a,l,f)),Cv(i),d}function Cv(i){$.H=Nl;var s=Wt!==null&&Wt.next!==null;if(ns=0,Ce=Wt=Ct=null,Lc=!1,Dl=0,Za=null,s)throw Error(r(300));i===null||Ie||(i=i.dependencies,i!==null&&Cc(i)&&(Ie=!0))}function Iv(i,s,a,l){Ct=i;var f=0;do{if(Wa&&(Za=null),Dl=0,Wa=!1,25<=f)throw Error(r(301));if(f+=1,Ce=Wt=null,i.updateQueue!=null){var d=i.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=c_,d=s(a,l)}while(Wa);return d}function zR(){var i=$.H,s=i.useState()[0];return s=typeof s.then=="function"?Vl(s):s,i=i.useState()[0],(Wt!==null?Wt.memoizedState:null)!==i&&(Ct.flags|=1024),s}function xd(){var i=kc!==0;return kc=0,i}function Dd(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function Vd(i){if(Lc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Lc=!1}ns=0,Ce=Wt=Ct=null,Wa=!1,Dl=kc=0,Za=null}function un(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?Ct.memoizedState=Ce=i:Ce=Ce.next=i,Ce}function _e(){if(Wt===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=Wt.next;var s=Ce===null?Ct.memoizedState:Ce.next;if(s!==null)Ce=s,Wt=i;else{if(i===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));Wt=i,i={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Ce===null?Ct.memoizedState=Ce=i:Ce=Ce.next=i}return Ce}function Uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(i){var s=Dl;return Dl+=1,Za===null&&(Za=[]),i=vv(Za,i,s),s=Ct,(Ce===null?s.memoizedState:Ce.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?u_:Hd),i}function zc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Vl(i);if(i.$$typeof===Q)return Ye(i)}throw Error(r(438,String(i)))}function Md(i){var s=null,a=Ct.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Uc(),Ct.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),l=0;l<i;l++)a[l]=N;return s.index++,a}function is(i,s){return typeof s=="function"?s(i):s}function jc(i){var s=_e();return Nd(s,Wt,i)}function Nd(i,s,a){var l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=i.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}s.baseQueue=f=d,l.pending=null}if(d=i.baseState,f===null)i.memoizedState=d;else{s=f.next;var A=_=null,V=null,F=s,X=!1;do{var J=F.lane&-536870913;if(J!==F.lane?(Ot&J)===J:(ns&J)===J){var H=F.revertLane;if(H===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),J===Ka&&(X=!0);else if((ns&H)===H){F=F.next,H===Ka&&(X=!0);continue}else J={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},V===null?(A=V=J,_=d):V=V.next=J,Ct.lanes|=H,Gs|=H;J=F.action,Xr&&a(d,J),d=F.hasEagerState?F.eagerState:a(d,J)}else H={lane:J,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},V===null?(A=V=H,_=d):V=V.next=H,Ct.lanes|=J,Gs|=J;F=F.next}while(F!==null&&F!==s);if(V===null?_=d:V.next=A,!Sn(d,i.memoizedState)&&(Ie=!0,X&&(a=Ya,a!==null)))throw a;i.memoizedState=d,i.baseState=_,i.baseQueue=V,l.lastRenderedState=d}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function Od(i){var s=_e(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=i(d,_.action),_=_.next;while(_!==f);Sn(d,s.memoizedState)||(Ie=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function xv(i,s,a){var l=Ct,f=_e(),d=zt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!Sn((Wt||f).memoizedState,a);if(_&&(f.memoizedState=a,Ie=!0),f=f.queue,kd(Mv.bind(null,l,f,i),[i]),f.getSnapshot!==s||_||Ce!==null&&Ce.memoizedState.tag&1){if(l.flags|=2048,Ja(9,{destroy:void 0},Vv.bind(null,l,f,a,s),null),ee===null)throw Error(r(349));d||(ns&127)!==0||Dv(l,s,a)}return a}function Dv(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=Ct.updateQueue,s===null?(s=Uc(),Ct.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function Vv(i,s,a,l){s.value=a,s.getSnapshot=l,Nv(s)&&Ov(i)}function Mv(i,s,a){return a(function(){Nv(s)&&Ov(i)})}function Nv(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!Sn(i,a)}catch{return!0}}function Ov(i){var s=jr(i,2);s!==null&&vn(s,i,2)}function Pd(i){var s=un();if(typeof i=="function"){var a=i;if(i=a(),Xr){Dn(!0);try{a()}finally{Dn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:i},s}function Pv(i,s,a,l){return i.baseState=a,Nd(i,Wt,typeof l=="function"?l:is)}function jR(i,s,a,l,f){if(Hc(i))throw Error(r(485));if(i=s.action,i!==null){var d={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,Lv(s,d)):(d.next=a.next,s.pending=a.next=d)}}function Lv(i,s){var a=s.action,l=s.payload,f=i.state;if(s.isTransition){var d=$.T,_={};$.T=_;try{var A=a(f,l),V=$.S;V!==null&&V(_,A),kv(i,s,A)}catch(F){Ld(i,s,F)}finally{d!==null&&_.types!==null&&(d.types=_.types),$.T=d}}else try{d=a(f,l),kv(i,s,d)}catch(F){Ld(i,s,F)}}function kv(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Uv(i,s,l)},function(l){return Ld(i,s,l)}):Uv(i,s,a)}function Uv(i,s,a){s.status="fulfilled",s.value=a,zv(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,Lv(i,a)))}function Ld(i,s,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,zv(s),s=s.next;while(s!==l)}i.action=null}function zv(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function jv(i,s){return s}function Bv(i,s){if(zt){var a=ee.formState;if(a!==null){t:{var l=Ct;if(zt){if(ie){e:{for(var f=ie,d=zn;f.nodeType!==8;){if(!d){f=null;break e}if(f=Bn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ie=Bn(f.nextSibling),l=f.data==="F!";break t}}Ls(l)}l=!1}l&&(s=a[0])}}return a=un(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jv,lastRenderedState:s},a.queue=l,a=a_.bind(null,Ct,l),l.dispatch=a,l=Pd(!1),d=Fd.bind(null,Ct,!1,l.queue),l=un(),f={state:s,dispatch:null,action:i,pending:null},l.queue=f,a=jR.bind(null,Ct,f,d,a),f.dispatch=a,l.memoizedState=i,[s,a,!1]}function Fv(i){var s=_e();return Hv(s,Wt,i)}function Hv(i,s,a){if(s=Nd(i,s,jv)[0],i=jc(is)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Vl(s)}catch(_){throw _===Qa?Dc:_}else l=s;s=_e();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(Ct.flags|=2048,Ja(9,{destroy:void 0},BR.bind(null,f,a),null)),[l,d,i]}function BR(i,s){i.action=s}function qv(i){var s=_e(),a=Wt;if(a!==null)return Hv(s,a,i);_e(),s=s.memoizedState,a=_e();var l=a.queue.dispatch;return a.memoizedState=i,[s,l,!1]}function Ja(i,s,a,l){return i={tag:i,create:a,deps:l,inst:s,next:null},s=Ct.updateQueue,s===null&&(s=Uc(),Ct.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,s.lastEffect=i),i}function Gv(){return _e().memoizedState}function Bc(i,s,a,l){var f=un();Ct.flags|=i,f.memoizedState=Ja(1|s,{destroy:void 0},a,l===void 0?null:l)}function Fc(i,s,a,l){var f=_e();l=l===void 0?null:l;var d=f.memoizedState.inst;Wt!==null&&l!==null&&Cd(l,Wt.memoizedState.deps)?f.memoizedState=Ja(s,d,a,l):(Ct.flags|=i,f.memoizedState=Ja(1|s,d,a,l))}function Kv(i,s){Bc(8390656,8,i,s)}function kd(i,s){Fc(2048,8,i,s)}function FR(i){Ct.flags|=4;var s=Ct.updateQueue;if(s===null)s=Uc(),Ct.updateQueue=s,s.events=[i];else{var a=s.events;a===null?s.events=[i]:a.push(i)}}function Yv(i){var s=_e().memoizedState;return FR({ref:s,nextImpl:i}),function(){if((Gt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Qv(i,s){return Fc(4,2,i,s)}function Xv(i,s){return Fc(4,4,i,s)}function $v(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Wv(i,s,a){a=a!=null?a.concat([i]):null,Fc(4,4,$v.bind(null,s,i),a)}function Ud(){}function Zv(i,s){var a=_e();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Cd(s,l[1])?l[0]:(a.memoizedState=[i,s],i)}function Jv(i,s){var a=_e();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Cd(s,l[1]))return l[0];if(l=i(),Xr){Dn(!0);try{i()}finally{Dn(!1)}}return a.memoizedState=[l,s],l}function zd(i,s,a){return a===void 0||(ns&1073741824)!==0&&(Ot&261930)===0?i.memoizedState=s:(i.memoizedState=a,i=t0(),Ct.lanes|=i,Gs|=i,a)}function t_(i,s,a,l){return Sn(a,s)?a:$a.current!==null?(i=zd(i,a,l),Sn(i,s)||(Ie=!0),i):(ns&42)===0||(ns&1073741824)!==0&&(Ot&261930)===0?(Ie=!0,i.memoizedState=a):(i=t0(),Ct.lanes|=i,Gs|=i,s)}function e_(i,s,a,l,f){var d=rt.p;rt.p=d!==0&&8>d?d:8;var _=$.T,A={};$.T=A,Fd(i,!1,s,a);try{var V=f(),F=$.S;if(F!==null&&F(A,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var X=kR(V,l);Ml(i,s,X,In(i))}else Ml(i,s,l,In(i))}catch(J){Ml(i,s,{then:function(){},status:"rejected",reason:J},In())}finally{rt.p=d,_!==null&&A.types!==null&&(_.types=A.types),$.T=_}}function HR(){}function jd(i,s,a,l){if(i.tag!==5)throw Error(r(476));var f=n_(i).queue;e_(i,f,s,ft,a===null?HR:function(){return i_(i),a(l)})}function n_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:ft},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function i_(i){var s=n_(i);s.next===null&&(s=i.alternate.memoizedState),Ml(i,s.next.queue,{},In())}function Bd(){return Ye(Xl)}function s_(){return _e().memoizedState}function r_(){return _e().memoizedState}function qR(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=In();i=zs(a);var l=js(s,i,a);l!==null&&(vn(l,s,a),Cl(l,s,a)),s={cache:gd()},i.payload=s;return}s=s.return}}function GR(i,s,a){var l=In();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Hc(i)?o_(s,a):(a=rd(i,s,a,l),a!==null&&(vn(a,i,l),l_(a,s,l)))}function a_(i,s,a){var l=In();Ml(i,s,a,l)}function Ml(i,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hc(i))o_(s,f);else{var d=i.alternate;if(i.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var _=s.lastRenderedState,A=d(_,a);if(f.hasEagerState=!0,f.eagerState=A,Sn(A,_))return Ac(i,s,f,0),ee===null&&Sc(),!1}catch{}finally{}if(a=rd(i,s,f,l),a!==null)return vn(a,i,l),l_(a,s,l),!0}return!1}function Fd(i,s,a,l){if(l={lane:2,revertLane:Tm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Hc(i)){if(s)throw Error(r(479))}else s=rd(i,a,l,2),s!==null&&vn(s,i,2)}function Hc(i){var s=i.alternate;return i===Ct||s!==null&&s===Ct}function o_(i,s){Wa=Lc=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function l_(i,s,a){if((a&4194048)!==0){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,tl(i,a)}}var Nl={readContext:Ye,use:zc,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};Nl.useEffectEvent=de;var u_={readContext:Ye,use:zc,useCallback:function(i,s){return un().memoizedState=[i,s===void 0?null:s],i},useContext:Ye,useEffect:Kv,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,Bc(4194308,4,$v.bind(null,s,i),a)},useLayoutEffect:function(i,s){return Bc(4194308,4,i,s)},useInsertionEffect:function(i,s){Bc(4,2,i,s)},useMemo:function(i,s){var a=un();s=s===void 0?null:s;var l=i();if(Xr){Dn(!0);try{i()}finally{Dn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(i,s,a){var l=un();if(a!==void 0){var f=a(s);if(Xr){Dn(!0);try{a(s)}finally{Dn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=GR.bind(null,Ct,i),[l.memoizedState,i]},useRef:function(i){var s=un();return i={current:i},s.memoizedState=i},useState:function(i){i=Pd(i);var s=i.queue,a=a_.bind(null,Ct,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:Ud,useDeferredValue:function(i,s){var a=un();return zd(a,i,s)},useTransition:function(){var i=Pd(!1);return i=e_.bind(null,Ct,i.queue,!0,!1),un().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var l=Ct,f=un();if(zt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ee===null)throw Error(r(349));(Ot&127)!==0||Dv(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,Kv(Mv.bind(null,l,d,i),[i]),l.flags|=2048,Ja(9,{destroy:void 0},Vv.bind(null,l,d,a,s),null),a},useId:function(){var i=un(),s=ee.identifierPrefix;if(zt){var a=Oi,l=Ni;a=(l&~(1<<32-ge(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=kc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=UR++,s="_"+s+"r_"+a.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Bd,useFormState:Bv,useActionState:Bv,useOptimistic:function(i){var s=un();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Fd.bind(null,Ct,!0,a),a.dispatch=s,[i,s]},useMemoCache:Md,useCacheRefresh:function(){return un().memoizedState=qR.bind(null,Ct)},useEffectEvent:function(i){var s=un(),a={impl:i};return s.memoizedState=a,function(){if((Gt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Hd={readContext:Ye,use:zc,useCallback:Zv,useContext:Ye,useEffect:kd,useImperativeHandle:Wv,useInsertionEffect:Qv,useLayoutEffect:Xv,useMemo:Jv,useReducer:jc,useRef:Gv,useState:function(){return jc(is)},useDebugValue:Ud,useDeferredValue:function(i,s){var a=_e();return t_(a,Wt.memoizedState,i,s)},useTransition:function(){var i=jc(is)[0],s=_e().memoizedState;return[typeof i=="boolean"?i:Vl(i),s]},useSyncExternalStore:xv,useId:s_,useHostTransitionStatus:Bd,useFormState:Fv,useActionState:Fv,useOptimistic:function(i,s){var a=_e();return Pv(a,Wt,i,s)},useMemoCache:Md,useCacheRefresh:r_};Hd.useEffectEvent=Yv;var c_={readContext:Ye,use:zc,useCallback:Zv,useContext:Ye,useEffect:kd,useImperativeHandle:Wv,useInsertionEffect:Qv,useLayoutEffect:Xv,useMemo:Jv,useReducer:Od,useRef:Gv,useState:function(){return Od(is)},useDebugValue:Ud,useDeferredValue:function(i,s){var a=_e();return Wt===null?zd(a,i,s):t_(a,Wt.memoizedState,i,s)},useTransition:function(){var i=Od(is)[0],s=_e().memoizedState;return[typeof i=="boolean"?i:Vl(i),s]},useSyncExternalStore:xv,useId:s_,useHostTransitionStatus:Bd,useFormState:qv,useActionState:qv,useOptimistic:function(i,s){var a=_e();return Wt!==null?Pv(a,Wt,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Md,useCacheRefresh:r_};c_.useEffectEvent=Yv;function qd(i,s,a,l){s=i.memoizedState,a=a(l,s),a=a==null?s:E({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Gd={enqueueSetState:function(i,s,a){i=i._reactInternals;var l=In(),f=zs(l);f.payload=s,a!=null&&(f.callback=a),s=js(i,f,l),s!==null&&(vn(s,i,l),Cl(s,i,l))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var l=In(),f=zs(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=js(i,f,l),s!==null&&(vn(s,i,l),Cl(s,i,l))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=In(),l=zs(a);l.tag=2,s!=null&&(l.callback=s),s=js(i,l,a),s!==null&&(vn(s,i,a),Cl(s,i,a))}};function h_(i,s,a,l,f,d,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,d,_):s.prototype&&s.prototype.isPureReactComponent?!_l(a,l)||!_l(f,d):!0}function f_(i,s,a,l){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==i&&Gd.enqueueReplaceState(s,s.state,null)}function $r(i,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(i=i.defaultProps){a===s&&(a=E({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}function d_(i){Ec(i)}function m_(i){console.error(i)}function p_(i){Ec(i)}function qc(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function g_(i,s,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Kd(i,s,a){return a=zs(a),a.tag=3,a.payload={element:null},a.callback=function(){qc(i,s)},a}function y_(i){return i=zs(i),i.tag=3,i}function v_(i,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;i.payload=function(){return f(d)},i.callback=function(){g_(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){g_(s,a,l),typeof f!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function KR(i,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Ga(s,a,f,!0),a=bn.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?nh():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Vc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),ym(i,l,f)),!1;case 22:return a.flags|=65536,l===Vc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),ym(i,l,f)),!1}throw Error(r(435,a.tag))}return ym(i,l,f),nh(),!1}if(zt)return s=bn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==hd&&(i=Error(r(422),{cause:l}),Sl(Ln(i,a)))):(l!==hd&&(s=Error(r(423),{cause:l}),Sl(Ln(s,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=Ln(l,a),f=Kd(i.stateNode,l,f),Sd(i,f),me!==4&&(me=2)),!1;var d=Error(r(520),{cause:l});if(d=Ln(d,a),Bl===null?Bl=[d]:Bl.push(d),me!==4&&(me=2),s===null)return!0;l=Ln(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=Kd(a.stateNode,l,i),Sd(a,i),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ks===null||!Ks.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=y_(f),v_(f,i,a,l),Sd(a,f),!1}a=a.return}while(a!==null);return!1}var Yd=Error(r(461)),Ie=!1;function Qe(i,s,a,l){s.child=i===null?Sv(s,null,a,l):Qr(s,i.child,a,l)}function __(i,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var _={};for(var A in l)A!=="ref"&&(_[A]=l[A])}else _=l;return qr(s),l=Id(i,s,a,_,d,f),A=xd(),i!==null&&!Ie?(Dd(i,s,f),ss(i,s,f)):(zt&&A&&ud(s),s.flags|=1,Qe(i,s,l,f),s.child)}function T_(i,s,a,l,f){if(i===null){var d=a.type;return typeof d=="function"&&!ad(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,E_(i,s,d,l,f)):(i=wc(a.type,null,l,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(d=i.child,!em(i,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:_l,a(_,l)&&i.ref===s.ref)return ss(i,s,f)}return s.flags|=1,i=Zi(d,l),i.ref=s.ref,i.return=s,s.child=i}function E_(i,s,a,l,f){if(i!==null){var d=i.memoizedProps;if(_l(d,l)&&i.ref===s.ref)if(Ie=!1,s.pendingProps=l=d,em(i,f))(i.flags&131072)!==0&&(Ie=!0);else return s.lanes=i.lanes,ss(i,s,f)}return Qd(i,s,a,l,f)}function S_(i,s,a,l){var f=l.children,d=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,i!==null){for(l=s.child=i.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return A_(i,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&xc(s,d!==null?d.cachePool:null),d!==null?wv(s,d):bd(),Rv(s);else return l=s.lanes=536870912,A_(i,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(xc(s,d.cachePool),wv(s,d),Fs(),s.memoizedState=null):(i!==null&&xc(s,null),bd(),Fs());return Qe(i,s,f,a),s.child}function Ol(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function A_(i,s,a,l,f){var d=vd();return d=d===null?null:{parent:Re._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},i!==null&&xc(s,null),bd(),Rv(s),i!==null&&Ga(i,s,l,!0),s.childLanes=f,null}function Gc(i,s){return s=Yc({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function b_(i,s,a){return Qr(s,i.child,null,a),i=Gc(s,s.pendingProps),i.flags|=2,wn(s),s.memoizedState=null,i}function YR(i,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(zt){if(l.mode==="hidden")return i=Gc(s,l),s.lanes=536870912,Ol(null,i);if(Rd(s),(i=ie)?(i=L0(i,zn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Os!==null?{id:Ni,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=ov(i),a.return=s,s.child=a,Ke=s,ie=null)):i=null,i===null)throw Ls(s);return s.lanes=536870912,null}return Gc(s,l)}var d=i.memoizedState;if(d!==null){var _=d.dehydrated;if(Rd(s),f)if(s.flags&256)s.flags&=-257,s=b_(i,s,a);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ie||Ga(i,s,a,!1),f=(a&i.childLanes)!==0,Ie||f){if(l=ee,l!==null&&(_=el(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,jr(i,_),vn(l,i,_),Yd;nh(),s=b_(i,s,a)}else i=d.treeContext,ie=Bn(_.nextSibling),Ke=s,zt=!0,Ps=null,zn=!1,i!==null&&cv(s,i),s=Gc(s,l),s.flags|=4096;return s}return i=Zi(i.child,{mode:l.mode,children:l.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Kc(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function Qd(i,s,a,l,f){return qr(s),a=Id(i,s,a,l,void 0,f),l=xd(),i!==null&&!Ie?(Dd(i,s,f),ss(i,s,f)):(zt&&l&&ud(s),s.flags|=1,Qe(i,s,a,f),s.child)}function w_(i,s,a,l,f,d){return qr(s),s.updateQueue=null,a=Iv(s,l,a,f),Cv(i),l=xd(),i!==null&&!Ie?(Dd(i,s,d),ss(i,s,d)):(zt&&l&&ud(s),s.flags|=1,Qe(i,s,a,d),s.child)}function R_(i,s,a,l,f){if(qr(s),s.stateNode===null){var d=Ba,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ye(_)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Gd,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},Td(s),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ye(_):Ba,d.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(qd(s,a,_,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Gd.enqueueReplaceState(d,d.state,null),xl(s,l,d,f),Il(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(i===null){d=s.stateNode;var A=s.memoizedProps,V=$r(a,A);d.props=V;var F=d.context,X=a.contextType;_=Ba,typeof X=="object"&&X!==null&&(_=Ye(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||F!==_)&&f_(s,d,l,_),Us=!1;var H=s.memoizedState;d.state=H,xl(s,l,d,f),Il(),F=s.memoizedState,A||H!==F||Us?(typeof J=="function"&&(qd(s,a,J,l),F=s.memoizedState),(V=Us||h_(s,a,V,l,H,F,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=F),d.props=l,d.state=F,d.context=_,l=V):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,Ed(i,s),_=s.memoizedProps,X=$r(a,_),d.props=X,J=s.pendingProps,H=d.context,F=a.contextType,V=Ba,typeof F=="object"&&F!==null&&(V=Ye(F)),A=a.getDerivedStateFromProps,(F=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||H!==V)&&f_(s,d,l,V),Us=!1,H=s.memoizedState,d.state=H,xl(s,l,d,f),Il();var K=s.memoizedState;_!==J||H!==K||Us||i!==null&&i.dependencies!==null&&Cc(i.dependencies)?(typeof A=="function"&&(qd(s,a,A,l),K=s.memoizedState),(X=Us||h_(s,a,X,l,H,K,V)||i!==null&&i.dependencies!==null&&Cc(i.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,V),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,V)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===i.memoizedProps&&H===i.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&H===i.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=K),d.props=l,d.state=K,d.context=V,l=X):(typeof d.componentDidUpdate!="function"||_===i.memoizedProps&&H===i.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&H===i.memoizedState||(s.flags|=1024),l=!1)}return d=l,Kc(i,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,i!==null&&l?(s.child=Qr(s,i.child,null,f),s.child=Qr(s,null,a,f)):Qe(i,s,a,f),s.memoizedState=d.state,i=s.child):i=ss(i,s,f),i}function C_(i,s,a,l){return Fr(),s.flags|=256,Qe(i,s,a,l),s.child}var Xd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $d(i){return{baseLanes:i,cachePool:gv()}}function Wd(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=Cn),i}function I_(i,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,_;if((_=d)||(_=i!==null&&i.memoizedState===null?!1:(ve.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,i===null){if(zt){if(f?Bs(s):Fs(),(i=ie)?(i=L0(i,zn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Os!==null?{id:Ni,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=ov(i),a.return=s,s.child=a,Ke=s,ie=null)):i=null,i===null)throw Ls(s);return Nm(i)?s.lanes=32:s.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(Fs(),f=s.mode,A=Yc({mode:"hidden",children:A},f),l=Br(l,f,a,null),A.return=s,l.return=s,A.sibling=l,s.child=A,l=s.child,l.memoizedState=$d(a),l.childLanes=Wd(i,_,a),s.memoizedState=Xd,Ol(null,l)):(Bs(s),Zd(s,A))}var V=i.memoizedState;if(V!==null&&(A=V.dehydrated,A!==null)){if(d)s.flags&256?(Bs(s),s.flags&=-257,s=Jd(i,s,a)):s.memoizedState!==null?(Fs(),s.child=i.child,s.flags|=128,s=null):(Fs(),A=l.fallback,f=s.mode,l=Yc({mode:"visible",children:l.children},f),A=Br(A,f,a,null),A.flags|=2,l.return=s,A.return=s,l.sibling=A,s.child=l,Qr(s,i.child,null,a),l=s.child,l.memoizedState=$d(a),l.childLanes=Wd(i,_,a),s.memoizedState=Xd,s=Ol(null,l));else if(Bs(s),Nm(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(r(419)),l.stack="",l.digest=_,Sl({value:l,source:null,stack:null}),s=Jd(i,s,a)}else if(Ie||Ga(i,s,a,!1),_=(a&i.childLanes)!==0,Ie||_){if(_=ee,_!==null&&(l=el(_,a),l!==0&&l!==V.retryLane))throw V.retryLane=l,jr(i,l),vn(_,i,l),Yd;Mm(A)||nh(),s=Jd(i,s,a)}else Mm(A)?(s.flags|=192,s.child=i.child,s=null):(i=V.treeContext,ie=Bn(A.nextSibling),Ke=s,zt=!0,Ps=null,zn=!1,i!==null&&cv(s,i),s=Zd(s,l.children),s.flags|=4096);return s}return f?(Fs(),A=l.fallback,f=s.mode,V=i.child,F=V.sibling,l=Zi(V,{mode:"hidden",children:l.children}),l.subtreeFlags=V.subtreeFlags&65011712,F!==null?A=Zi(F,A):(A=Br(A,f,a,null),A.flags|=2),A.return=s,l.return=s,l.sibling=A,s.child=l,Ol(null,l),l=s.child,A=i.child.memoizedState,A===null?A=$d(a):(f=A.cachePool,f!==null?(V=Re._currentValue,f=f.parent!==V?{parent:V,pool:V}:f):f=gv(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=Wd(i,_,a),s.memoizedState=Xd,Ol(i.child,l)):(Bs(s),a=i.child,i=a.sibling,a=Zi(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,i!==null&&(_=s.deletions,_===null?(s.deletions=[i],s.flags|=16):_.push(i)),s.child=a,s.memoizedState=null,a)}function Zd(i,s){return s=Yc({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Yc(i,s){return i=An(22,i,null,s),i.lanes=0,i}function Jd(i,s,a){return Qr(s,i.child,null,a),i=Zd(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function x_(i,s,a){i.lanes|=s;var l=i.alternate;l!==null&&(l.lanes|=s),md(i.return,s,a)}function tm(i,s,a,l,f,d){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function D_(i,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=ve.current,A=(_&2)!==0;if(A?(_=_&1|2,s.flags|=128):_&=1,lt(ve,_),Qe(i,s,l,a),l=zt?El:0,!A&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&x_(i,a,s);else if(i.tag===19)x_(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)i=a.alternate,i!==null&&Pc(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),tm(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&Pc(i)===null){s.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}tm(s,!0,a,null,d,l);break;case"together":tm(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function ss(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),Gs|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(Ga(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,a=Zi(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=Zi(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function em(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Cc(i)))}function QR(i,s,a){switch(s.tag){case 3:Ne(s,s.stateNode.containerInfo),ks(s,Re,i.memoizedState.cache),Fr();break;case 27:case 5:Sr(s);break;case 4:Ne(s,s.stateNode.containerInfo);break;case 10:ks(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Rd(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Bs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?I_(i,s,a):(Bs(s),i=ss(i,s,a),i!==null?i.sibling:null);Bs(s);break;case 19:var f=(i.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Ga(i,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return D_(i,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),lt(ve,ve.current),l)break;return null;case 22:return s.lanes=0,S_(i,s,a,s.pendingProps);case 24:ks(s,Re,i.memoizedState.cache)}return ss(i,s,a)}function V_(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)Ie=!0;else{if(!em(i,a)&&(s.flags&128)===0)return Ie=!1,QR(i,s,a);Ie=(i.flags&131072)!==0}else Ie=!1,zt&&(s.flags&1048576)!==0&&uv(s,El,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(i=Kr(s.elementType),s.type=i,typeof i=="function")ad(i)?(l=$r(i,l),s.tag=1,s=R_(null,s,i,l,a)):(s.tag=0,s=Qd(null,s,i,l,a));else{if(i!=null){var f=i.$$typeof;if(f===st){s.tag=11,s=__(null,s,i,l,a);break t}else if(f===I){s.tag=14,s=T_(null,s,i,l,a);break t}}throw s=te(i)||i,Error(r(306,s,""))}}return s;case 0:return Qd(i,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=$r(l,s.pendingProps),R_(i,s,l,f,a);case 3:t:{if(Ne(s,s.stateNode.containerInfo),i===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,Ed(i,s),xl(s,l,null,a);var _=s.memoizedState;if(l=_.cache,ks(s,Re,l),l!==d.cache&&pd(s,[Re],a,!0),Il(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=C_(i,s,l,a);break t}else if(l!==f){f=Ln(Error(r(424)),s),Sl(f),s=C_(i,s,l,a);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ie=Bn(i.firstChild),Ke=s,zt=!0,Ps=null,zn=!0,a=Sv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Fr(),l===f){s=ss(i,s,a);break t}Qe(i,s,l,a)}s=s.child}return s;case 26:return Kc(i,s),i===null?(a=F0(s.type,null,s.pendingProps,null))?s.memoizedState=a:zt||(a=s.type,i=s.pendingProps,l=uh(xt.current).createElement(a),l[Ae]=s,l[ze]=i,Xe(l,a,i),be(l),s.stateNode=l):s.memoizedState=F0(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Sr(s),i===null&&zt&&(l=s.stateNode=z0(s.type,s.pendingProps,xt.current),Ke=s,zn=!0,f=ie,$s(s.type)?(Om=f,ie=Bn(l.firstChild)):ie=f),Qe(i,s,s.pendingProps.children,a),Kc(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&zt&&((f=l=ie)&&(l=bC(l,s.type,s.pendingProps,zn),l!==null?(s.stateNode=l,Ke=s,ie=Bn(l.firstChild),zn=!1,f=!0):f=!1),f||Ls(s)),Sr(s),f=s.type,d=s.pendingProps,_=i!==null?i.memoizedProps:null,l=d.children,xm(f,d)?l=null:_!==null&&xm(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=Id(i,s,zR,null,null,a),Xl._currentValue=f),Kc(i,s),Qe(i,s,l,a),s.child;case 6:return i===null&&zt&&((i=a=ie)&&(a=wC(a,s.pendingProps,zn),a!==null?(s.stateNode=a,Ke=s,ie=null,i=!0):i=!1),i||Ls(s)),null;case 13:return I_(i,s,a);case 4:return Ne(s,s.stateNode.containerInfo),l=s.pendingProps,i===null?s.child=Qr(s,null,l,a):Qe(i,s,l,a),s.child;case 11:return __(i,s,s.type,s.pendingProps,a);case 7:return Qe(i,s,s.pendingProps,a),s.child;case 8:return Qe(i,s,s.pendingProps.children,a),s.child;case 12:return Qe(i,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,ks(s,s.type,l.value),Qe(i,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,qr(s),f=Ye(f),l=l(f),s.flags|=1,Qe(i,s,l,a),s.child;case 14:return T_(i,s,s.type,s.pendingProps,a);case 15:return E_(i,s,s.type,s.pendingProps,a);case 19:return D_(i,s,a);case 31:return YR(i,s,a);case 22:return S_(i,s,a,s.pendingProps);case 24:return qr(s),l=Ye(Re),i===null?(f=vd(),f===null&&(f=ee,d=gd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},Td(s),ks(s,Re,f)):((i.lanes&a)!==0&&(Ed(i,s),xl(s,null,null,a),Il()),f=i.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),ks(s,Re,l)):(l=d.cache,ks(s,Re,l),l!==f.cache&&pd(s,[Re],a,!0))),Qe(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function rs(i){i.flags|=4}function nm(i,s,a,l,f){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(s0())i.flags|=8192;else throw Yr=Vc,_d}else i.flags&=-16777217}function M_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Y0(s))if(s0())i.flags|=8192;else throw Yr=Vc,_d}function Qc(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?tc():536870912,i.lanes|=s,io|=s)}function Pl(i,s){if(!zt)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function se(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(s)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,s}function XR(i,s,a){var l=s.pendingProps;switch(cd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(s),null;case 1:return se(s),null;case 3:return a=s.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),es(Re),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(qa(s)?rs(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,fd())),se(s),null;case 26:var f=s.type,d=s.memoizedState;return i===null?(rs(s),d!==null?(se(s),M_(s,d)):(se(s),nm(s,f,null,l,a))):d?d!==i.memoizedState?(rs(s),se(s),M_(s,d)):(se(s),s.flags&=-16777217):(i=i.memoizedProps,i!==l&&rs(s),se(s),nm(s,f,i,l,a)),null;case 27:if(Sa(s),a=xt.current,f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&rs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return se(s),null}i=ht.current,qa(s)?hv(s):(i=z0(f,l,a),s.stateNode=i,rs(s))}return se(s),null;case 5:if(Sa(s),f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&rs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return se(s),null}if(d=ht.current,qa(s))hv(s);else{var _=uh(xt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Ae]=s,d[ze]=l;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=d;t:switch(Xe(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&rs(s)}}return se(s),nm(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,a),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==l&&rs(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(i=xt.current,qa(s)){if(i=s.stateNode,a=s.memoizedProps,l=null,f=Ke,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[Ae]=s,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||I0(i.nodeValue,a)),i||Ls(s,!0)}else i=uh(i).createTextNode(l),i[Ae]=s,s.stateNode=i}return se(s),null;case 31:if(a=s.memoizedState,i===null||i.memoizedState!==null){if(l=qa(s),a!==null){if(i===null){if(!l)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Ae]=s}else Fr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;se(s),i=!1}else a=fd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return s.flags&256?(wn(s),s):(wn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return se(s),null;case 13:if(l=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=qa(s),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Ae]=s}else Fr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;se(s),f=!1}else f=fd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(wn(s),s):(wn(s),null)}return wn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,i=i!==null&&i.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==i&&a&&(s.child.flags|=8192),Qc(s,s.updateQueue),se(s),null);case 4:return ae(),i===null&&bm(s.stateNode.containerInfo),se(s),null;case 10:return es(s.type),se(s),null;case 19:if(tt(ve),l=s.memoizedState,l===null)return se(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)Pl(l,!1);else{if(me!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(d=Pc(i),d!==null){for(s.flags|=128,Pl(l,!1),i=d.updateQueue,s.updateQueue=i,Qc(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)av(a,i),a=a.sibling;return lt(ve,ve.current&1|2),zt&&Ji(s,l.treeForkCount),s.child}i=i.sibling}l.tail!==null&&on()>Jc&&(s.flags|=128,f=!0,Pl(l,!1),s.lanes=4194304)}else{if(!f)if(i=Pc(d),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,Qc(s,i),Pl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!zt)return se(s),null}else 2*on()-l.renderingStartTime>Jc&&a!==536870912&&(s.flags|=128,f=!0,Pl(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(i=l.last,i!==null?i.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(i=l.tail,l.rendering=i,l.tail=i.sibling,l.renderingStartTime=on(),i.sibling=null,a=ve.current,lt(ve,f?a&1|2:a&1),zt&&Ji(s,l.treeForkCount),i):(se(s),null);case 22:case 23:return wn(s),wd(),l=s.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(se(s),s.subtreeFlags&6&&(s.flags|=8192)):se(s),a=s.updateQueue,a!==null&&Qc(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),i!==null&&tt(Gr),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),es(Re),se(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function $R(i,s){switch(cd(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return es(Re),ae(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Sa(s),null;case 31:if(s.memoizedState!==null){if(wn(s),s.alternate===null)throw Error(r(340));Fr()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(wn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Fr()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return tt(ve),null;case 4:return ae(),null;case 10:return es(s.type),null;case 22:case 23:return wn(s),wd(),i!==null&&tt(Gr),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return es(Re),null;case 25:return null;default:return null}}function N_(i,s){switch(cd(s),s.tag){case 3:es(Re),ae();break;case 26:case 27:case 5:Sa(s);break;case 4:ae();break;case 31:s.memoizedState!==null&&wn(s);break;case 13:wn(s);break;case 19:tt(ve);break;case 10:es(s.type);break;case 22:case 23:wn(s),wd(),i!==null&&tt(Gr);break;case 24:es(Re)}}function Ll(i,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(A){Xt(s,s.return,A)}}function Hs(i,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&i)===i){var _=l.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=s;var V=a,F=A;try{F()}catch(X){Xt(f,V,X)}}}l=l.next}while(l!==d)}}catch(X){Xt(s,s.return,X)}}function O_(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{bv(s,a)}catch(l){Xt(i,i.return,l)}}}function P_(i,s,a){a.props=$r(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(i,s,l)}}function kl(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){Xt(i,s,f)}}function Pi(i,s){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Xt(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xt(i,s,f)}else a.current=null}function L_(i){var s=i.type,a=i.memoizedProps,l=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Xt(i,i.return,f)}}function im(i,s,a){try{var l=i.stateNode;vC(l,i.type,a,s),l[ze]=s}catch(f){Xt(i,i.return,f)}}function k_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&$s(i.type)||i.tag===4}function sm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||k_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&$s(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function rm(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Wn));else if(l!==4&&(l===27&&$s(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(rm(i,s,a),i=i.sibling;i!==null;)rm(i,s,a),i=i.sibling}function Xc(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(l!==4&&(l===27&&$s(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(Xc(i,s,a),i=i.sibling;i!==null;)Xc(i,s,a),i=i.sibling}function U_(i){var s=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Xe(s,l,a),s[Ae]=i,s[ze]=a}catch(d){Xt(i,i.return,d)}}var as=!1,xe=!1,am=!1,z_=typeof WeakSet=="function"?WeakSet:Set,Be=null;function WR(i,s){if(i=i.containerInfo,Cm=gh,i=Wy(i),Jf(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,A=-1,V=-1,F=0,X=0,J=i,H=null;e:for(;;){for(var K;J!==a||f!==0&&J.nodeType!==3||(A=_+f),J!==d||l!==0&&J.nodeType!==3||(V=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(K=J.firstChild)!==null;)H=J,J=K;for(;;){if(J===i)break e;if(H===a&&++F===f&&(A=_),H===d&&++X===l&&(V=_),(K=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=K}a=A===-1||V===-1?null:{start:A,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(Im={focusedElem:i,selectionRange:a},gh=!1,Be=s;Be!==null;)if(s=Be,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Be=i;else for(;Be!==null;){switch(s=Be,d=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)f=i[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&d!==null){i=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var dt=$r(a.type,f);i=l.getSnapshotBeforeUpdate(dt,d),l.__reactInternalSnapshotBeforeUpdate=i}catch(_t){Xt(a,a.return,_t)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)Vm(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Vm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Be=i;break}Be=s.return}}function j_(i,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ls(i,a),l&4&&Ll(5,a);break;case 1:if(ls(i,a),l&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(_){Xt(a,a.return,_)}else{var f=$r(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(_){Xt(a,a.return,_)}}l&64&&O_(a),l&512&&kl(a,a.return);break;case 3:if(ls(i,a),l&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{bv(i,s)}catch(_){Xt(a,a.return,_)}}break;case 27:s===null&&l&4&&U_(a);case 26:case 5:ls(i,a),s===null&&l&4&&L_(a),l&512&&kl(a,a.return);break;case 12:ls(i,a);break;case 31:ls(i,a),l&4&&H_(i,a);break;case 13:ls(i,a),l&4&&q_(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=aC.bind(null,a),RC(i,a))));break;case 22:if(l=a.memoizedState!==null||as,!l){s=s!==null&&s.memoizedState!==null||xe,f=as;var d=xe;as=l,(xe=s)&&!d?us(i,a,(a.subtreeFlags&8772)!==0):ls(i,a),as=f,xe=d}break;case 30:break;default:ls(i,a)}}function B_(i){var s=i.alternate;s!==null&&(i.alternate=null,B_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ca(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var le=null,mn=!1;function os(i,s,a){for(a=a.child;a!==null;)F_(i,s,a),a=a.sibling}function F_(i,s,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:xe||Pi(a,s),os(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xe||Pi(a,s);var l=le,f=mn;$s(a.type)&&(le=a.stateNode,mn=!1),os(i,s,a),Kl(a.stateNode),le=l,mn=f;break;case 5:xe||Pi(a,s);case 6:if(l=le,f=mn,le=null,os(i,s,a),le=l,mn=f,le!==null)if(mn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(d){Xt(a,s,d)}else try{le.removeChild(a.stateNode)}catch(d){Xt(a,s,d)}break;case 18:le!==null&&(mn?(i=le,O0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),ho(i)):O0(le,a.stateNode));break;case 4:l=le,f=mn,le=a.stateNode.containerInfo,mn=!0,os(i,s,a),le=l,mn=f;break;case 0:case 11:case 14:case 15:Hs(2,a,s),xe||Hs(4,a,s),os(i,s,a);break;case 1:xe||(Pi(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&P_(a,s,l)),os(i,s,a);break;case 21:os(i,s,a);break;case 22:xe=(l=xe)||a.memoizedState!==null,os(i,s,a),xe=l;break;default:os(i,s,a)}}function H_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{ho(i)}catch(a){Xt(s,s.return,a)}}}function q_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ho(i)}catch(a){Xt(s,s.return,a)}}function ZR(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new z_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new z_),s;default:throw Error(r(435,i.tag))}}function $c(i,s){var a=ZR(i);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=oC.bind(null,i,l);l.then(f,f)}})}function pn(i,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=i,_=s,A=_;t:for(;A!==null;){switch(A.tag){case 27:if($s(A.type)){le=A.stateNode,mn=!1;break t}break;case 5:le=A.stateNode,mn=!1;break t;case 3:case 4:le=A.stateNode.containerInfo,mn=!0;break t}A=A.return}if(le===null)throw Error(r(160));F_(d,_,f),le=null,mn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)G_(s,i),s=s.sibling}var ii=null;function G_(i,s){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:pn(s,i),gn(i),l&4&&(Hs(3,i,i.return),Ll(3,i),Hs(5,i,i.return));break;case 1:pn(s,i),gn(i),l&512&&(xe||a===null||Pi(a,a.return)),l&64&&as&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ii;if(pn(s,i),gn(i),l&512&&(xe||a===null||Pi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){t:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ei]||d[Ae]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Xe(d,l,a),d[Ae]=i,be(d),l=d;break t;case"link":var _=G0("link","href",f).get(l+(a.href||""));if(_){for(var A=0;A<_.length;A++)if(d=_[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(A,1);break e}}d=f.createElement(l),Xe(d,l,a),f.head.appendChild(d);break;case"meta":if(_=G0("meta","content",f).get(l+(a.content||""))){for(A=0;A<_.length;A++)if(d=_[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(A,1);break e}}d=f.createElement(l),Xe(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[Ae]=i,be(d),l=d}i.stateNode=l}else K0(f,i.type,i.stateNode);else i.stateNode=q0(f,l,i.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?K0(f,i.type,i.stateNode):q0(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&im(i,i.memoizedProps,a.memoizedProps)}break;case 27:pn(s,i),gn(i),l&512&&(xe||a===null||Pi(a,a.return)),a!==null&&l&4&&im(i,i.memoizedProps,a.memoizedProps);break;case 5:if(pn(s,i),gn(i),l&512&&(xe||a===null||Pi(a,a.return)),i.flags&32){f=i.stateNode;try{dn(f,"")}catch(dt){Xt(i,i.return,dt)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,im(i,f,a!==null?a.memoizedProps:f)),l&1024&&(am=!0);break;case 6:if(pn(s,i),gn(i),l&4){if(i.stateNode===null)throw Error(r(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(dt){Xt(i,i.return,dt)}}break;case 3:if(fh=null,f=ii,ii=ch(s.containerInfo),pn(s,i),ii=f,gn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ho(s.containerInfo)}catch(dt){Xt(i,i.return,dt)}am&&(am=!1,K_(i));break;case 4:l=ii,ii=ch(i.stateNode.containerInfo),pn(s,i),gn(i),ii=l;break;case 12:pn(s,i),gn(i);break;case 31:pn(s,i),gn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,$c(i,l)));break;case 13:pn(s,i),gn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Zc=on()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,$c(i,l)));break;case 22:f=i.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,F=as,X=xe;if(as=F||f,xe=X||V,pn(s,i),xe=X,as=F,gn(i),l&8192)t:for(s=i.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||V||as||xe||Wr(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){V=a=s;try{if(d=V.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=V.stateNode;var J=V.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;A.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(dt){Xt(V,V.return,dt)}}}else if(s.tag===6){if(a===null){V=s;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(dt){Xt(V,V.return,dt)}}}else if(s.tag===18){if(a===null){V=s;try{var K=V.stateNode;f?P0(K,!0):P0(V.stateNode,!1)}catch(dt){Xt(V,V.return,dt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,$c(i,a))));break;case 19:pn(s,i),gn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,$c(i,l)));break;case 30:break;case 21:break;default:pn(s,i),gn(i)}}function gn(i){var s=i.flags;if(s&2){try{for(var a,l=i.return;l!==null;){if(k_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=sm(i);Xc(i,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(dn(_,""),a.flags&=-33);var A=sm(i);Xc(i,A,_);break;case 3:case 4:var V=a.stateNode.containerInfo,F=sm(i);rm(i,F,V);break;default:throw Error(r(161))}}catch(X){Xt(i,i.return,X)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function K_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;K_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ls(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)j_(i,s.alternate,s),s=s.sibling}function Wr(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Hs(4,s,s.return),Wr(s);break;case 1:Pi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&P_(s,s.return,a),Wr(s);break;case 27:Kl(s.stateNode);case 26:case 5:Pi(s,s.return),Wr(s);break;case 22:s.memoizedState===null&&Wr(s);break;case 30:Wr(s);break;default:Wr(s)}i=i.sibling}}function us(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=i,d=s,_=d.flags;switch(d.tag){case 0:case 11:case 15:us(f,d,a),Ll(4,d);break;case 1:if(us(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){Xt(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)Av(V[f],A)}catch(F){Xt(l,l.return,F)}}a&&_&64&&O_(d),kl(d,d.return);break;case 27:U_(d);case 26:case 5:us(f,d,a),a&&l===null&&_&4&&L_(d),kl(d,d.return);break;case 12:us(f,d,a);break;case 31:us(f,d,a),a&&_&4&&H_(f,d);break;case 13:us(f,d,a),a&&_&4&&q_(f,d);break;case 22:d.memoizedState===null&&us(f,d,a),kl(d,d.return);break;case 30:break;default:us(f,d,a)}s=s.sibling}}function om(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Al(a))}function lm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Al(i))}function si(i,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Y_(i,s,a,l),s=s.sibling}function Y_(i,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:si(i,s,a,l),f&2048&&Ll(9,s);break;case 1:si(i,s,a,l);break;case 3:si(i,s,a,l),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Al(i)));break;case 12:if(f&2048){si(i,s,a,l),i=s.stateNode;try{var d=s.memoizedProps,_=d.id,A=d.onPostCommit;typeof A=="function"&&A(_,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){Xt(s,s.return,V)}}else si(i,s,a,l);break;case 31:si(i,s,a,l);break;case 13:si(i,s,a,l);break;case 23:break;case 22:d=s.stateNode,_=s.alternate,s.memoizedState!==null?d._visibility&2?si(i,s,a,l):Ul(i,s):d._visibility&2?si(i,s,a,l):(d._visibility|=2,to(i,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&om(_,s);break;case 24:si(i,s,a,l),f&2048&&lm(s.alternate,s);break;default:si(i,s,a,l)}}function to(i,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=i,_=s,A=a,V=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:to(d,_,A,V,f),Ll(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?to(d,_,A,V,f):Ul(d,_):(X._visibility|=2,to(d,_,A,V,f)),f&&F&2048&&om(_.alternate,_);break;case 24:to(d,_,A,V,f),f&&F&2048&&lm(_.alternate,_);break;default:to(d,_,A,V,f)}s=s.sibling}}function Ul(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,l=s,f=l.flags;switch(l.tag){case 22:Ul(a,l),f&2048&&om(l.alternate,l);break;case 24:Ul(a,l),f&2048&&lm(l.alternate,l);break;default:Ul(a,l)}s=s.sibling}}var zl=8192;function eo(i,s,a){if(i.subtreeFlags&zl)for(i=i.child;i!==null;)Q_(i,s,a),i=i.sibling}function Q_(i,s,a){switch(i.tag){case 26:eo(i,s,a),i.flags&zl&&i.memoizedState!==null&&UC(a,ii,i.memoizedState,i.memoizedProps);break;case 5:eo(i,s,a);break;case 3:case 4:var l=ii;ii=ch(i.stateNode.containerInfo),eo(i,s,a),ii=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=zl,zl=16777216,eo(i,s,a),zl=l):eo(i,s,a));break;default:eo(i,s,a)}}function X_(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function jl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Be=l,W_(l,i)}X_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$_(i),i=i.sibling}function $_(i){switch(i.tag){case 0:case 11:case 15:jl(i),i.flags&2048&&Hs(9,i,i.return);break;case 3:jl(i);break;case 12:jl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Wc(i)):jl(i);break;default:jl(i)}}function Wc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Be=l,W_(l,i)}X_(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Hs(8,s,s.return),Wc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Wc(s));break;default:Wc(s)}i=i.sibling}}function W_(i,s){for(;Be!==null;){var a=Be;switch(a.tag){case 0:case 11:case 15:Hs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Be=l;else t:for(a=i;Be!==null;){l=Be;var f=l.sibling,d=l.return;if(B_(l),l===a){Be=null;break t}if(f!==null){f.return=d,Be=f;break t}Be=d}}}var JR={getCacheForType:function(i){var s=Ye(Re),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a},cacheSignal:function(){return Ye(Re).controller.signal}},tC=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ee=null,Vt=null,Ot=0,Qt=0,Rn=null,qs=!1,no=!1,um=!1,cs=0,me=0,Gs=0,Zr=0,cm=0,Cn=0,io=0,Bl=null,yn=null,hm=!1,Zc=0,Z_=0,Jc=1/0,th=null,Ks=null,Pe=0,Ys=null,so=null,hs=0,fm=0,dm=null,J_=null,Fl=0,mm=null;function In(){return(Gt&2)!==0&&Ot!==0?Ot&-Ot:$.T!==null?Tm():ec()}function t0(){if(Cn===0)if((Ot&536870912)===0||zt){var i=wr;wr<<=1,(wr&3932160)===0&&(wr=262144),Cn=i}else Cn=536870912;return i=bn.current,i!==null&&(i.flags|=32),Cn}function vn(i,s,a){(i===ee&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)&&(ro(i,0),Qs(i,Ot,Cn,!1)),Rr(i,a),((Gt&2)===0||i!==ee)&&(i===ee&&((Gt&2)===0&&(Zr|=a),me===4&&Qs(i,Ot,Cn,!1)),Li(i))}function e0(i,s,a){if((Gt&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&i.expiredLanes)===0||Qn(i,s),f=l?iC(i,s):gm(i,s,!0),d=l;do{if(f===0){no&&!l&&Qs(i,s,0,!1);break}else{if(a=i.current.alternate,d&&!eC(a)){f=gm(i,s,!1),d=!1;continue}if(f===2){if(d=s,i.errorRecoveryDisabledLanes&d)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var A=i;f=Bl;var V=A.current.memoizedState.isDehydrated;if(V&&(ro(A,_).flags|=256),_=gm(A,_,!1),_!==2){if(um&&!V){A.errorRecoveryDisabledLanes|=d,Zr|=d,f=4;break t}d=yn,yn=f,d!==null&&(yn===null?yn=d:yn.push.apply(yn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){ro(i,0),Qs(i,s,0,!0);break}t:{switch(l=i,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Qs(l,s,Cn,!qs);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Zc+300-on(),10<f)){if(Qs(l,s,Cn,!qs),vi(l,0,!0)!==0)break t;hs=s,l.timeoutHandle=M0(n0.bind(null,l,a,yn,th,hm,s,Cn,Zr,io,qs,d,"Throttled",-0,0),f);break t}n0(l,a,yn,th,hm,s,Cn,Zr,io,qs,d,null,-0,0)}}break}while(!0);Li(i)}function n0(i,s,a,l,f,d,_,A,V,F,X,J,H,K){if(i.timeoutHandle=-1,J=s.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},Q_(s,d,J);var dt=(d&62914560)===d?Zc-on():(d&4194048)===d?Z_-on():0;if(dt=zC(J,dt),dt!==null){hs=d,i.cancelPendingCommit=dt(c0.bind(null,i,s,d,a,l,f,_,A,V,X,J,null,H,K)),Qs(i,d,_,!F);return}}c0(i,s,d,a,l,f,_,A,V)}function eC(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Sn(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Qs(i,s,a,l){s&=~cm,s&=~Zr,i.suspendedLanes|=s,i.pingedLanes&=~s,l&&(i.warmLanes|=s),l=i.expirationTimes;for(var f=s;0<f;){var d=31-ge(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Cr(i,a,s)}function eh(){return(Gt&6)===0?(Hl(0),!1):!0}function pm(){if(Vt!==null){if(Qt===0)var i=Vt.return;else i=Vt,ts=Hr=null,Vd(i),Xa=null,wl=0,i=Vt;for(;i!==null;)N_(i.alternate,i),i=i.return;Vt=null}}function ro(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,EC(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),hs=0,pm(),ee=i,Vt=a=Zi(i.current,null),Ot=s,Qt=0,Rn=null,qs=!1,no=Qn(i,s),um=!1,io=Cn=cm=Zr=Gs=me=0,yn=Bl=null,hm=!1,(s&8)!==0&&(s|=s&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=s;0<l;){var f=31-ge(l),d=1<<f;s|=i[f],l&=~d}return cs=s,Sc(),a}function i0(i,s){Ct=null,$.H=Nl,s===Qa||s===Dc?(s=_v(),Qt=3):s===_d?(s=_v(),Qt=4):Qt=s===Yd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Rn=s,Vt===null&&(me=1,qc(i,Ln(s,i.current)))}function s0(){var i=bn.current;return i===null?!0:(Ot&4194048)===Ot?jn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?i===jn:!1}function r0(){var i=$.H;return $.H=Nl,i===null?Nl:i}function a0(){var i=$.A;return $.A=JR,i}function nh(){me=4,qs||(Ot&4194048)!==Ot&&bn.current!==null||(no=!0),(Gs&134217727)===0&&(Zr&134217727)===0||ee===null||Qs(ee,Ot,Cn,!1)}function gm(i,s,a){var l=Gt;Gt|=2;var f=r0(),d=a0();(ee!==i||Ot!==s)&&(th=null,ro(i,s)),s=!1;var _=me;t:do try{if(Qt!==0&&Vt!==null){var A=Vt,V=Rn;switch(Qt){case 8:pm(),_=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(s=!0);var F=Qt;if(Qt=0,Rn=null,ao(i,A,V,F),a&&no){_=0;break t}break;default:F=Qt,Qt=0,Rn=null,ao(i,A,V,F)}}nC(),_=me;break}catch(X){i0(i,X)}while(!0);return s&&i.shellSuspendCounter++,ts=Hr=null,Gt=l,$.H=f,$.A=d,Vt===null&&(ee=null,Ot=0,Sc()),_}function nC(){for(;Vt!==null;)o0(Vt)}function iC(i,s){var a=Gt;Gt|=2;var l=r0(),f=a0();ee!==i||Ot!==s?(th=null,Jc=on()+500,ro(i,s)):no=Qn(i,s);t:do try{if(Qt!==0&&Vt!==null){s=Vt;var d=Rn;e:switch(Qt){case 1:Qt=0,Rn=null,ao(i,s,d,1);break;case 2:case 9:if(yv(d)){Qt=0,Rn=null,l0(s);break}s=function(){Qt!==2&&Qt!==9||ee!==i||(Qt=7),Li(i)},d.then(s,s);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:yv(d)?(Qt=0,Rn=null,l0(s)):(Qt=0,Rn=null,ao(i,s,d,7));break;case 5:var _=null;switch(Vt.tag){case 26:_=Vt.memoizedState;case 5:case 27:var A=Vt;if(_?Y0(_):A.stateNode.complete){Qt=0,Rn=null;var V=A.sibling;if(V!==null)Vt=V;else{var F=A.return;F!==null?(Vt=F,ih(F)):Vt=null}break e}}Qt=0,Rn=null,ao(i,s,d,5);break;case 6:Qt=0,Rn=null,ao(i,s,d,6);break;case 8:pm(),me=6;break t;default:throw Error(r(462))}}sC();break}catch(X){i0(i,X)}while(!0);return ts=Hr=null,$.H=l,$.A=f,Gt=a,Vt!==null?0:(ee=null,Ot=0,Sc(),me)}function sC(){for(;Vt!==null&&!Kf();)o0(Vt)}function o0(i){var s=V_(i.alternate,i,cs);i.memoizedProps=i.pendingProps,s===null?ih(i):Vt=s}function l0(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=w_(a,s,s.pendingProps,s.type,void 0,Ot);break;case 11:s=w_(a,s,s.pendingProps,s.type.render,s.ref,Ot);break;case 5:Vd(s);default:N_(a,s),s=Vt=av(s,cs),s=V_(a,s,cs)}i.memoizedProps=i.pendingProps,s===null?ih(i):Vt=s}function ao(i,s,a,l){ts=Hr=null,Vd(s),Xa=null,wl=0;var f=s.return;try{if(KR(i,f,s,a,Ot)){me=1,qc(i,Ln(a,i.current)),Vt=null;return}}catch(d){if(f!==null)throw Vt=f,d;me=1,qc(i,Ln(a,i.current)),Vt=null;return}s.flags&32768?(zt||l===1?i=!0:no||(Ot&536870912)!==0?i=!1:(qs=i=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),u0(s,i)):ih(s)}function ih(i){var s=i;do{if((s.flags&32768)!==0){u0(s,qs);return}i=s.return;var a=XR(s.alternate,s,cs);if(a!==null){Vt=a;return}if(s=s.sibling,s!==null){Vt=s;return}Vt=s=i}while(s!==null);me===0&&(me=5)}function u0(i,s){do{var a=$R(i.alternate,i);if(a!==null){a.flags&=32767,Vt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){Vt=i;return}Vt=i=a}while(i!==null);me=6,Vt=null}function c0(i,s,a,l,f,d,_,A,V){i.cancelPendingCommit=null;do sh();while(Pe!==0);if((Gt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=sd,Xf(i,a,d,_,A,V),i===ee&&(Vt=ee=null,Ot=0),so=s,Ys=i,hs=a,fm=d,dm=f,J_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,lC(bs,function(){return p0(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=rt.p,rt.p=2,_=Gt,Gt|=4;try{WR(i,s,a)}finally{Gt=_,rt.p=f,$.T=l}}Pe=1,h0(),f0(),d0()}}function h0(){if(Pe===1){Pe=0;var i=Ys,s=so,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=rt.p;rt.p=2;var f=Gt;Gt|=4;try{G_(s,i);var d=Im,_=Wy(i.containerInfo),A=d.focusedElem,V=d.selectionRange;if(_!==A&&A&&A.ownerDocument&&$y(A.ownerDocument.documentElement,A)){if(V!==null&&Jf(A)){var F=V.start,X=V.end;if(X===void 0&&(X=F),"selectionStart"in A)A.selectionStart=F,A.selectionEnd=Math.min(X,A.value.length);else{var J=A.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var K=H.getSelection(),dt=A.textContent.length,_t=Math.min(V.start,dt),Jt=V.end===void 0?_t:Math.min(V.end,dt);!K.extend&&_t>Jt&&(_=Jt,Jt=_t,_t=_);var k=Xy(A,_t),O=Xy(A,Jt);if(k&&O&&(K.rangeCount!==1||K.anchorNode!==k.node||K.anchorOffset!==k.offset||K.focusNode!==O.node||K.focusOffset!==O.offset)){var B=J.createRange();B.setStart(k.node,k.offset),K.removeAllRanges(),_t>Jt?(K.addRange(B),K.extend(O.node,O.offset)):(B.setEnd(O.node,O.offset),K.addRange(B))}}}}for(J=[],K=A;K=K.parentNode;)K.nodeType===1&&J.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<J.length;A++){var Z=J[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}gh=!!Cm,Im=Cm=null}finally{Gt=f,rt.p=l,$.T=a}}i.current=s,Pe=2}}function f0(){if(Pe===2){Pe=0;var i=Ys,s=so,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=rt.p;rt.p=2;var f=Gt;Gt|=4;try{j_(i,s.alternate,s)}finally{Gt=f,rt.p=l,$.T=a}}Pe=3}}function d0(){if(Pe===4||Pe===3){Pe=0,Qu();var i=Ys,s=so,a=hs,l=J_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Pe=5:(Pe=0,so=Ys=null,m0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Ks=null),Qi(a),s=s.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Yn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=$.T,f=rt.p,rt.p=2,$.T=null;try{for(var d=i.onRecoverableError,_=0;_<l.length;_++){var A=l[_];d(A.value,{componentStack:A.stack})}}finally{$.T=s,rt.p=f}}(hs&3)!==0&&sh(),Li(i),f=i.pendingLanes,(a&261930)!==0&&(f&42)!==0?i===mm?Fl++:(Fl=0,mm=i):Fl=0,Hl(0)}}function m0(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Al(s)))}function sh(){return h0(),f0(),d0(),p0()}function p0(){if(Pe!==5)return!1;var i=Ys,s=fm;fm=0;var a=Qi(hs),l=$.T,f=rt.p;try{rt.p=32>a?32:a,$.T=null,a=dm,dm=null;var d=Ys,_=hs;if(Pe=0,so=Ys=null,hs=0,(Gt&6)!==0)throw Error(r(331));var A=Gt;if(Gt|=4,$_(d.current),Y_(d,d.current,_,a),Gt=A,Hl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Yn,d)}catch{}return!0}finally{rt.p=f,$.T=l,m0(i,s)}}function g0(i,s,a){s=Ln(a,s),s=Kd(i.stateNode,s,2),i=js(i,s,2),i!==null&&(Rr(i,2),Li(i))}function Xt(i,s,a){if(i.tag===3)g0(i,i,a);else for(;s!==null;){if(s.tag===3){g0(s,i,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ks===null||!Ks.has(l))){i=Ln(a,i),a=y_(2),l=js(s,a,2),l!==null&&(v_(a,l,s,i),Rr(l,2),Li(l));break}}s=s.return}}function ym(i,s,a){var l=i.pingCache;if(l===null){l=i.pingCache=new tC;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(um=!0,f.add(a),i=rC.bind(null,i,s,a),s.then(i,i))}function rC(i,s,a){var l=i.pingCache;l!==null&&l.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,ee===i&&(Ot&a)===a&&(me===4||me===3&&(Ot&62914560)===Ot&&300>on()-Zc?(Gt&2)===0&&ro(i,0):cm|=a,io===Ot&&(io=0)),Li(i)}function y0(i,s){s===0&&(s=tc()),i=jr(i,s),i!==null&&(Rr(i,s),Li(i))}function aC(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),y0(i,a)}function oC(i,s){var a=0;switch(i.tag){case 31:case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),y0(i,a)}function lC(i,s){return Oe(i,s)}var rh=null,oo=null,vm=!1,ah=!1,_m=!1,Xs=0;function Li(i){i!==oo&&i.next===null&&(oo===null?rh=oo=i:oo=oo.next=i),ah=!0,vm||(vm=!0,cC())}function Hl(i,s){if(!_m&&ah){_m=!0;do for(var a=!1,l=rh;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-ge(42|i)+1)-1,d&=f&~(_&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,E0(l,d))}else d=Ot,d=vi(l,l===ee?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Qn(l,d)||(a=!0,E0(l,d));l=l.next}while(a);_m=!1}}function uC(){v0()}function v0(){ah=vm=!1;var i=0;Xs!==0&&TC()&&(i=Xs);for(var s=on(),a=null,l=rh;l!==null;){var f=l.next,d=_0(l,s);d===0?(l.next=null,a===null?rh=f:a.next=f,f===null&&(oo=a)):(a=l,(i!==0||(d&3)!==0)&&(ah=!0)),l=f}Pe!==0&&Pe!==5||Hl(i),Xs!==0&&(Xs=0)}function _0(i,s){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,d=i.pendingLanes&-62914561;0<d;){var _=31-ge(d),A=1<<_,V=f[_];V===-1?((A&a)===0||(A&l)!==0)&&(f[_]=Qf(A,s)):V<=s&&(i.expiredLanes|=A),d&=~A}if(s=ee,a=Ot,a=vi(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===s&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&As(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Qn(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(l!==null&&As(l),Qi(a)){case 2:case 8:a=Jo;break;case 32:a=bs;break;case 268435456:a=Xu;break;default:a=bs}return l=T0.bind(null,i),a=Oe(a,l),i.callbackPriority=s,i.callbackNode=a,s}return l!==null&&l!==null&&As(l),i.callbackPriority=2,i.callbackNode=null,2}function T0(i,s){if(Pe!==0&&Pe!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(sh()&&i.callbackNode!==a)return null;var l=Ot;return l=vi(i,i===ee?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(e0(i,l,s),_0(i,on()),i.callbackNode!=null&&i.callbackNode===a?T0.bind(null,i):null)}function E0(i,s){if(sh())return null;e0(i,s,!0)}function cC(){SC(function(){(Gt&6)!==0?Oe(Zo,uC):v0()})}function Tm(){if(Xs===0){var i=Ka;i===0&&(i=gi,gi<<=1,(gi&261888)===0&&(gi=256)),Xs=i}return Xs}function S0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Va(""+i)}function A0(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function hC(i,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=S0((f[ze]||null).action),_=l.submitter;_&&(s=(s=_[ze]||null)?S0(s.formAction):_.getAttribute("formAction"),s!==null&&(d=s,_=null));var A=new xi("action","action",null,l,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xs!==0){var V=_?A0(f,_):new FormData(f);jd(a,{pending:!0,data:V,method:f.method,action:d},null,V)}}else typeof d=="function"&&(A.preventDefault(),V=_?A0(f,_):new FormData(f),jd(a,{pending:!0,data:V,method:f.method,action:d},d,V))},currentTarget:f}]})}}for(var Em=0;Em<id.length;Em++){var Sm=id[Em],fC=Sm.toLowerCase(),dC=Sm[0].toUpperCase()+Sm.slice(1);ni(fC,"on"+dC)}ni(tv,"onAnimationEnd"),ni(ev,"onAnimationIteration"),ni(nv,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(xR,"onTransitionRun"),ni(DR,"onTransitionStart"),ni(VR,"onTransitionCancel"),ni(iv,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function b0(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;t:{var d=void 0;if(s)for(var _=l.length-1;0<=_;_--){var A=l[_],V=A.instance,F=A.currentTarget;if(A=A.listener,V!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=F;try{d(f)}catch(X){Ec(X)}f.currentTarget=null,d=V}else for(_=0;_<l.length;_++){if(A=l[_],V=A.instance,F=A.currentTarget,A=A.listener,V!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=F;try{d(f)}catch(X){Ec(X)}f.currentTarget=null,d=V}}}}function Mt(i,s){var a=s[Ra];a===void 0&&(a=s[Ra]=new Set);var l=i+"__bubble";a.has(l)||(w0(s,i,2,!1),a.add(l))}function Am(i,s,a){var l=0;s&&(l|=4),w0(a,i,l,s)}var oh="_reactListening"+Math.random().toString(36).slice(2);function bm(i){if(!i[oh]){i[oh]=!0,nl.forEach(function(a){a!=="selectionchange"&&(mC.has(a)||Am(a,!1,i),Am(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[oh]||(s[oh]=!0,Am("selectionchange",!1,s))}}function w0(i,s,a,l){switch(tT(s)){case 2:var f=FC;break;case 8:f=HC;break;default:f=zm}a=f.bind(null,s,a,i),f=void 0,!Mr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(s,a,{capture:!0,passive:f}):i.addEventListener(s,a,!0):f!==void 0?i.addEventListener(s,a,{passive:f}):i.addEventListener(s,a,!1)}function wm(i,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var A=l.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=l.return;_!==null;){var V=_.tag;if((V===3||V===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=Si(A),_===null)return;if(V=_.tag,V===5||V===6||V===26||V===27){l=d=_;continue t}A=A.parentNode}}l=l.return}Ds(function(){var F=d,X=Mn(a),J=[];t:{var H=sv.get(i);if(H!==void 0){var K=xi,dt=i;switch(i){case"keypress":if(Or(a)===0)break t;case"keydown":case"keyup":K=vc;break;case"focusin":dt="focus",K=Lr;break;case"focusout":dt="blur",K=Lr;break;case"beforeblur":case"afterblur":K=Lr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=uc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case tv:case ev:case nv:K=hc;break;case iv:K=b;break;case"scroll":case"scrollend":K=ml;break;case"wheel":K=G;break;case"copy":case"cut":case"paste":K=fc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Wi;break;case"toggle":case"beforetoggle":K=Rt}var _t=(s&4)!==0,Jt=!_t&&(i==="scroll"||i==="scrollend"),k=_t?H!==null?H+"Capture":null:H;_t=[];for(var O=F,B;O!==null;){var Z=O;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||k===null||(Z=Zn(O,k),Z!=null&&_t.push(Gl(O,Z,B))),Jt)break;O=O.return}0<_t.length&&(H=new K(H,dt,null,a,X),J.push({event:H,listeners:_t}))}}if((s&7)===0){t:{if(H=i==="mouseover"||i==="pointerover",K=i==="mouseout"||i==="pointerout",H&&a!==hl&&(dt=a.relatedTarget||a.fromElement)&&(Si(dt)||dt[Ti]))break t;if((K||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,K?(dt=a.relatedTarget||a.toElement,K=F,dt=dt?Si(dt):null,dt!==null&&(Jt=u(dt),_t=dt.tag,dt!==Jt||_t!==5&&_t!==27&&_t!==6)&&(dt=null)):(K=null,dt=F),K!==dt)){if(_t=pl,Z="onMouseLeave",k="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(_t=Wi,Z="onPointerLeave",k="onPointerEnter",O="pointer"),Jt=K==null?H:Tn(K),B=dt==null?H:Tn(dt),H=new _t(Z,O+"leave",K,a,X),H.target=Jt,H.relatedTarget=B,Z=null,Si(X)===F&&(_t=new _t(k,O+"enter",dt,a,X),_t.target=B,_t.relatedTarget=Jt,Z=_t),Jt=Z,K&&dt)e:{for(_t=pC,k=K,O=dt,B=0,Z=k;Z;Z=_t(Z))B++;Z=0;for(var yt=O;yt;yt=_t(yt))Z++;for(;0<B-Z;)k=_t(k),B--;for(;0<Z-B;)O=_t(O),Z--;for(;B--;){if(k===O||O!==null&&k===O.alternate){_t=k;break e}k=_t(k),O=_t(O)}_t=null}else _t=null;K!==null&&R0(J,H,K,_t,!1),dt!==null&&Jt!==null&&R0(J,Jt,dt,_t,!0)}}t:{if(H=F?Tn(F):window,K=H.nodeName&&H.nodeName.toLowerCase(),K==="select"||K==="input"&&H.type==="file")var Ft=Hy;else if(By(H))if(qy)Ft=RR;else{Ft=bR;var pt=AR}else K=H.nodeName,!K||K.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?F&&Da(F.elementType)&&(Ft=Hy):Ft=wR;if(Ft&&(Ft=Ft(i,F))){Fy(J,Ft,a,X);break t}pt&&pt(i,H,F),i==="focusout"&&F&&H.type==="number"&&F.memoizedProps.value!=null&&ll(H,"number",H.value)}switch(pt=F?Tn(F):window,i){case"focusin":(By(pt)||pt.contentEditable==="true")&&(Ua=pt,td=F,Tl=null);break;case"focusout":Tl=td=Ua=null;break;case"mousedown":ed=!0;break;case"contextmenu":case"mouseup":case"dragend":ed=!1,Zy(J,a,X);break;case"selectionchange":if(IR)break;case"keydown":case"keyup":Zy(J,a,X)}var Dt;if(qt)t:{switch(i){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else ka?kr(i,a)&&(Pt="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Pt="onCompositionStart");Pt&&(Mi&&a.locale!=="ko"&&(ka||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&ka&&(Dt=dl()):(Ii=X,fl="value"in Ii?Ii.value:Ii.textContent,ka=!0)),pt=lh(F,Pt),0<pt.length&&(Pt=new Vi(Pt,i,null,a,X),J.push({event:Pt,listeners:pt}),Dt?Pt.data=Dt:(Dt=La(a),Dt!==null&&(Pt.data=Dt)))),(Dt=On?_R(i,a):TR(i,a))&&(Pt=lh(F,"onBeforeInput"),0<Pt.length&&(pt=new Vi("onBeforeInput","beforeinput",null,a,X),J.push({event:pt,listeners:Pt}),pt.data=Dt)),hC(J,i,F,a,X)}b0(J,s)})}function Gl(i,s,a){return{instance:i,listener:s,currentTarget:a}}function lh(i,s){for(var a=s+"Capture",l=[];i!==null;){var f=i,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Zn(i,a),f!=null&&l.unshift(Gl(i,f,d)),f=Zn(i,s),f!=null&&l.push(Gl(i,f,d))),i.tag===3)return l;i=i.return}return[]}function pC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function R0(i,s,a,l,f){for(var d=s._reactName,_=[];a!==null&&a!==l;){var A=a,V=A.alternate,F=A.stateNode;if(A=A.tag,V!==null&&V===l)break;A!==5&&A!==26&&A!==27||F===null||(V=F,f?(F=Zn(a,d),F!=null&&_.unshift(Gl(a,F,V))):f||(F=Zn(a,d),F!=null&&_.push(Gl(a,F,V)))),a=a.return}_.length!==0&&i.push({event:s,listeners:_})}var gC=/\r\n?/g,yC=/\u0000|\uFFFD/g;function C0(i){return(typeof i=="string"?i:""+i).replace(gC,`
`).replace(yC,"")}function I0(i,s){return s=C0(s),C0(i)===s}function Zt(i,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||dn(i,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&dn(i,""+l);break;case"className":En(i,"class",l);break;case"tabIndex":En(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":En(i,a,l);break;case"style":cl(i,l,d);break;case"data":if(s!=="object"){En(i,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Va(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&Zt(i,s,"name",f.name,f,null),Zt(i,s,"formEncType",f.formEncType,f,null),Zt(i,s,"formMethod",f.formMethod,f,null),Zt(i,s,"formTarget",f.formTarget,f,null)):(Zt(i,s,"encType",f.encType,f,null),Zt(i,s,"method",f.method,f,null),Zt(i,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Va(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=Wn);break;case"onScroll":l!=null&&Mt("scroll",i);break;case"onScrollEnd":l!=null&&Mt("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=Va(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":Mt("beforetoggle",i),Mt("toggle",i),Ia(i,"popover",l);break;case"xlinkActuate":we(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":we(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":we(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":we(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":we(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":we(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":we(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":we(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":we(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ia(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=lc.get(a)||a,Ia(i,a,l))}}function Rm(i,s,a,l,f,d){switch(a){case"style":cl(i,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"children":typeof l=="string"?dn(i,l):(typeof l=="number"||typeof l=="bigint")&&dn(i,""+l);break;case"onScroll":l!=null&&Mt("scroll",i);break;case"onScrollEnd":l!=null&&Mt("scrollend",i);break;case"onClick":l!=null&&(i.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!il.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=i[ze]||null,d=d!=null?d[a]:null,typeof d=="function"&&i.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,l,f);break t}a in i?i[a]=l:l===!0?i.setAttribute(a,""):Ia(i,a,l)}}}function Xe(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",i),Mt("load",i);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Zt(i,s,d,_,a,null)}}f&&Zt(i,s,"srcSet",a.srcSet,a,null),l&&Zt(i,s,"src",a.src,a,null);return;case"input":Mt("invalid",i);var A=d=_=f=null,V=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":_=X;break;case"checked":V=X;break;case"defaultChecked":F=X;break;case"value":d=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:Zt(i,s,l,X,a,null)}}rc(i,d,A,V,F,_,f,!1);return;case"select":Mt("invalid",i),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":_=A;break;case"multiple":l=A;default:Zt(i,s,f,A,a,null)}s=d,a=_,i.multiple=!!l,s!=null?Rs(i,!!l,s,!1):a!=null&&Rs(i,!!l,a,!0);return;case"textarea":Mt("invalid",i),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(A=a[_],A!=null))switch(_){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:Zt(i,s,_,A,a,null)}Cs(i,l,f,d);return;case"option":for(V in a)if(a.hasOwnProperty(V)&&(l=a[V],l!=null))switch(V){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(i,s,V,l,a,null)}return;case"dialog":Mt("beforetoggle",i),Mt("toggle",i),Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":Mt("load",i);break;case"video":case"audio":for(l=0;l<ql.length;l++)Mt(ql[l],i);break;case"image":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"embed":case"source":case"link":Mt("error",i),Mt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Zt(i,s,F,l,a,null)}return;default:if(Da(s)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Rm(i,s,X,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Zt(i,s,A,l,a,null))}function vC(i,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,A=null,V=null,F=null,X=null;for(K in a){var J=a[K];if(a.hasOwnProperty(K)&&J!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":V=J;default:l.hasOwnProperty(K)||Zt(i,s,K,null,l,J)}}for(var H in l){var K=l[H];if(J=a[H],l.hasOwnProperty(H)&&(K!=null||J!=null))switch(H){case"type":d=K;break;case"name":f=K;break;case"checked":F=K;break;case"defaultChecked":X=K;break;case"value":_=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:K!==J&&Zt(i,s,H,K,l,J)}}xa(i,_,A,V,F,X,d,f);return;case"select":K=_=A=H=null;for(d in a)if(V=a[d],a.hasOwnProperty(d)&&V!=null)switch(d){case"value":break;case"multiple":K=V;default:l.hasOwnProperty(d)||Zt(i,s,d,null,l,V)}for(f in l)if(d=l[f],V=a[f],l.hasOwnProperty(f)&&(d!=null||V!=null))switch(f){case"value":H=d;break;case"defaultValue":A=d;break;case"multiple":_=d;default:d!==V&&Zt(i,s,f,d,l,V)}s=A,a=_,l=K,H!=null?Rs(i,!!a,H,!1):!!l!=!!a&&(s!=null?Rs(i,!!a,s,!0):Rs(i,!!a,a?[]:"",!1));return;case"textarea":K=H=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Zt(i,s,A,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":H=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&Zt(i,s,_,f,l,d)}ac(i,H,K);return;case"option":for(var dt in a)if(H=a[dt],a.hasOwnProperty(dt)&&H!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":i.selected=!1;break;default:Zt(i,s,dt,null,l,H)}for(V in l)if(H=l[V],K=a[V],l.hasOwnProperty(V)&&H!==K&&(H!=null||K!=null))switch(V){case"selected":i.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Zt(i,s,V,H,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)H=a[_t],a.hasOwnProperty(_t)&&H!=null&&!l.hasOwnProperty(_t)&&Zt(i,s,_t,null,l,H);for(F in l)if(H=l[F],K=a[F],l.hasOwnProperty(F)&&H!==K&&(H!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,s));break;default:Zt(i,s,F,H,l,K)}return;default:if(Da(s)){for(var Jt in a)H=a[Jt],a.hasOwnProperty(Jt)&&H!==void 0&&!l.hasOwnProperty(Jt)&&Rm(i,s,Jt,void 0,l,H);for(X in l)H=l[X],K=a[X],!l.hasOwnProperty(X)||H===K||H===void 0&&K===void 0||Rm(i,s,X,H,l,K);return}}for(var k in a)H=a[k],a.hasOwnProperty(k)&&H!=null&&!l.hasOwnProperty(k)&&Zt(i,s,k,null,l,H);for(J in l)H=l[J],K=a[J],!l.hasOwnProperty(J)||H===K||H==null&&K==null||Zt(i,s,J,H,l,K)}function x0(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _C(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,A=f.duration;if(d&&A&&x0(_)){for(_=0,A=f.responseEnd,l+=1;l<a.length;l++){var V=a[l],F=V.startTime;if(F>A)break;var X=V.transferSize,J=V.initiatorType;X&&x0(J)&&(V=V.responseEnd,_+=X*(V<A?1:(A-F)/(V-F)))}if(--l,s+=8*(d+_)/(f.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Cm=null,Im=null;function uh(i){return i.nodeType===9?i:i.ownerDocument}function D0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V0(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function xm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Dm=null;function TC(){var i=window.event;return i&&i.type==="popstate"?i===Dm?!1:(Dm=i,!0):(Dm=null,!1)}var M0=typeof setTimeout=="function"?setTimeout:void 0,EC=typeof clearTimeout=="function"?clearTimeout:void 0,N0=typeof Promise=="function"?Promise:void 0,SC=typeof queueMicrotask=="function"?queueMicrotask:typeof N0<"u"?function(i){return N0.resolve(null).then(i).catch(AC)}:M0;function AC(i){setTimeout(function(){throw i})}function $s(i){return i==="head"}function O0(i,s){var a=s,l=0;do{var f=a.nextSibling;if(i.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){i.removeChild(f),ho(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Kl(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,Kl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,A=d.nodeName;d[Ei]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Kl(i.ownerDocument.body);a=f}while(a);ho(s)}function P0(i,s){var a=i;i=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=l}while(a)}function Vm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vm(a),Ca(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function bC(i,s,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Ei])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(d=i.getAttribute("rel"),d==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(d!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(d=i.getAttribute("src"),(d!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===d)return i}else return i;if(i=Bn(i.nextSibling),i===null)break}return null}function wC(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Bn(i.nextSibling),i===null))return null;return i}function L0(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Bn(i.nextSibling),i===null))return null;return i}function Mm(i){return i.data==="$?"||i.data==="$~"}function Nm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function RC(i,s){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function Bn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Om=null;function k0(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(s===0)return Bn(i.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}i=i.nextSibling}return null}function U0(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return i;s--}else a!=="/$"&&a!=="/&"||s++}i=i.previousSibling}return null}function z0(i,s,a){switch(s=uh(a),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Kl(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ca(i)}var Fn=new Map,j0=new Set;function ch(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var fs=rt.d;rt.d={f:CC,r:IC,D:xC,C:DC,L:VC,m:MC,X:OC,S:NC,M:PC};function CC(){var i=fs.f(),s=eh();return i||s}function IC(i){var s=Vn(i);s!==null&&s.tag===5&&s.type==="form"?i_(s):fs.r(i)}var lo=typeof document>"u"?null:document;function B0(i,s,a){var l=lo;if(l&&typeof s=="string"&&s){var f=fn(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),j0.has(f)||(j0.add(f),i={rel:i,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Xe(s,"link",i),be(s),l.head.appendChild(s)))}}function xC(i){fs.D(i),B0("dns-prefetch",i,null)}function DC(i,s){fs.C(i,s),B0("preconnect",i,s)}function VC(i,s,a){fs.L(i,s,a);var l=lo;if(l&&i&&s){var f='link[rel="preload"][as="'+fn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+fn(a.imageSizes)+'"]')):f+='[href="'+fn(i)+'"]';var d=f;switch(s){case"style":d=uo(i);break;case"script":d=co(i)}Fn.has(d)||(i=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),Fn.set(d,i),l.querySelector(f)!==null||s==="style"&&l.querySelector(Yl(d))||s==="script"&&l.querySelector(Ql(d))||(s=l.createElement("link"),Xe(s,"link",i),be(s),l.head.appendChild(s)))}}function MC(i,s){fs.m(i,s);var a=lo;if(a&&i){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(i)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=co(i)}if(!Fn.has(d)&&(i=E({rel:"modulepreload",href:i},s),Fn.set(d,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ql(d)))return}l=a.createElement("link"),Xe(l,"link",i),be(l),a.head.appendChild(l)}}}function NC(i,s,a){fs.S(i,s,a);var l=lo;if(l&&i){var f=Ai(l).hoistableStyles,d=uo(i);s=s||"default";var _=f.get(d);if(!_){var A={loading:0,preload:null};if(_=l.querySelector(Yl(d)))A.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":s},a),(a=Fn.get(d))&&Pm(i,a);var V=_=l.createElement("link");be(V),Xe(V,"link",i),V._p=new Promise(function(F,X){V.onload=F,V.onerror=X}),V.addEventListener("load",function(){A.loading|=1}),V.addEventListener("error",function(){A.loading|=2}),A.loading|=4,hh(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(d,_)}}}function OC(i,s){fs.X(i,s);var a=lo;if(a&&i){var l=Ai(a).hoistableScripts,f=co(i),d=l.get(f);d||(d=a.querySelector(Ql(f)),d||(i=E({src:i,async:!0},s),(s=Fn.get(f))&&Lm(i,s),d=a.createElement("script"),be(d),Xe(d,"link",i),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function PC(i,s){fs.M(i,s);var a=lo;if(a&&i){var l=Ai(a).hoistableScripts,f=co(i),d=l.get(f);d||(d=a.querySelector(Ql(f)),d||(i=E({src:i,async:!0,type:"module"},s),(s=Fn.get(f))&&Lm(i,s),d=a.createElement("script"),be(d),Xe(d,"link",i),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function F0(i,s,a,l){var f=(f=xt.current)?ch(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=uo(a.href),a=Ai(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=uo(a.href);var d=Ai(f).hoistableStyles,_=d.get(i);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(i,_),(d=f.querySelector(Yl(i)))&&!d._p&&(_.instance=d,_.state.loading=5),Fn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(i,a),d||LC(f,i,a,_.state))),s&&l===null)throw Error(r(528,""));return _}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=co(a),a=Ai(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function uo(i){return'href="'+fn(i)+'"'}function Yl(i){return'link[rel="stylesheet"]['+i+"]"}function H0(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function LC(i,s,a,l){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Xe(s,"link",a),be(s),i.head.appendChild(s))}function co(i){return'[src="'+fn(i)+'"]'}function Ql(i){return"script[async]"+i}function q0(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=i.querySelector('style[data-href~="'+fn(a.href)+'"]');if(l)return s.instance=l,be(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),be(l),Xe(l,"style",f),hh(l,a.precedence,i),s.instance=l;case"stylesheet":f=uo(a.href);var d=i.querySelector(Yl(f));if(d)return s.state.loading|=4,s.instance=d,be(d),d;l=H0(a),(f=Fn.get(f))&&Pm(l,f),d=(i.ownerDocument||i).createElement("link"),be(d);var _=d;return _._p=new Promise(function(A,V){_.onload=A,_.onerror=V}),Xe(d,"link",l),s.state.loading|=4,hh(d,a.precedence,i),s.instance=d;case"script":return d=co(a.src),(f=i.querySelector(Ql(d)))?(s.instance=f,be(f),f):(l=a,(f=Fn.get(d))&&(l=E({},a),Lm(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),be(f),Xe(f,"link",l),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,hh(l,a.precedence,i));return s.instance}function hh(i,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var A=l[_];if(A.dataset.precedence===s)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(i,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function Pm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Lm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var fh=null;function G0(i,s,a){if(fh===null){var l=new Map,f=fh=new Map;f.set(a,l)}else f=fh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var d=a[f];if(!(d[Ei]||d[Ae]||i==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(s)||"";_=i+_;var A=l.get(_);A?A.push(d):l.set(_,[d])}}return l}function K0(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function kC(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Y0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function UC(i,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=uo(l.href),d=s.querySelector(Yl(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=dh.bind(i),s.then(i,i)),a.state.loading|=4,a.instance=d,be(d);return}d=s.ownerDocument||s,l=H0(l),(f=Fn.get(f))&&Pm(l,f),d=d.createElement("link"),be(d);var _=d;_._p=new Promise(function(A,V){_.onload=A,_.onerror=V}),Xe(d,"link",l),a.instance=d}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=dh.bind(i),s.addEventListener("load",a),s.addEventListener("error",a))}}var km=0;function zC(i,s){return i.stylesheets&&i.count===0&&ph(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var l=setTimeout(function(){if(i.stylesheets&&ph(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4+s);0<i.imgBytes&&km===0&&(km=62500*_C());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&ph(i,i.stylesheets),i.unsuspend)){var d=i.unsuspend;i.unsuspend=null,d()}},(i.imgBytes>km?50:800)+s);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function dh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ph(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var mh=null;function ph(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,mh=new Map,s.forEach(jC,i),mh=null,dh.call(i))}function jC(i,s){if(!(s.state.loading&4)){var a=mh.get(i);if(a)var l=a.get(null);else{a=new Map,mh.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=s.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=dh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var Xl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function BC(i,s,a,l,f,d,_,A,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function Q0(i,s,a,l,f,d,_,A,V,F,X,J){return i=new BC(i,s,a,_,V,F,X,J,A),s=1,d===!0&&(s|=24),d=An(3,null,null,s),i.current=d,d.stateNode=i,s=gd(),s.refCount++,i.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},Td(d),i}function X0(i){return i?(i=Ba,i):Ba}function $0(i,s,a,l,f,d){f=X0(f),l.context===null?l.context=f:l.pendingContext=f,l=zs(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=js(i,l,s),a!==null&&(vn(a,i,s),Cl(a,i,s))}function W0(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function Um(i,s){W0(i,s),(i=i.alternate)&&W0(i,s)}function Z0(i){if(i.tag===13||i.tag===31){var s=jr(i,67108864);s!==null&&vn(s,i,67108864),Um(i,67108864)}}function J0(i){if(i.tag===13||i.tag===31){var s=In();s=Ir(s);var a=jr(i,s);a!==null&&vn(a,i,s),Um(i,s)}}var gh=!0;function FC(i,s,a,l){var f=$.T;$.T=null;var d=rt.p;try{rt.p=2,zm(i,s,a,l)}finally{rt.p=d,$.T=f}}function HC(i,s,a,l){var f=$.T;$.T=null;var d=rt.p;try{rt.p=8,zm(i,s,a,l)}finally{rt.p=d,$.T=f}}function zm(i,s,a,l){if(gh){var f=jm(l);if(f===null)wm(i,s,l,yh,a),eT(i,l);else if(GC(f,i,s,a,l))l.stopPropagation();else if(eT(i,l),s&4&&-1<qC.indexOf(i)){for(;f!==null;){var d=Vn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=yi(d.pendingLanes);if(_!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var V=1<<31-ge(_);A.entanglements[1]|=V,_&=~V}Li(d),(Gt&6)===0&&(Jc=on()+500,Hl(0))}}break;case 31:case 13:A=jr(d,2),A!==null&&vn(A,d,2),eh(),Um(d,2)}if(d=jm(l),d===null&&wm(i,s,l,yh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else wm(i,s,l,null,a)}}function jm(i){return i=Mn(i),Bm(i)}var yh=null;function Bm(i){if(yh=null,i=Si(i),i!==null){var s=u(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=c(s),i!==null)return i;i=null}else if(a===31){if(i=m(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return yh=i,null}function tT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(br()){case Zo:return 2;case Jo:return 8;case bs:case Yf:return 32;case Xu:return 268435456;default:return 32}default:return 32}}var Fm=!1,Ws=null,Zs=null,Js=null,$l=new Map,Wl=new Map,tr=[],qC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eT(i,s){switch(i){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":$l.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(s.pointerId)}}function Zl(i,s,a,l,f,d){return i===null||i.nativeEvent!==d?(i={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=Vn(s),s!==null&&Z0(s)),i):(i.eventSystemFlags|=l,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function GC(i,s,a,l,f){switch(s){case"focusin":return Ws=Zl(Ws,i,s,a,l,f),!0;case"dragenter":return Zs=Zl(Zs,i,s,a,l,f),!0;case"mouseover":return Js=Zl(Js,i,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return $l.set(d,Zl($l.get(d)||null,i,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Wl.set(d,Zl(Wl.get(d)||null,i,s,a,l,f)),!0}return!1}function nT(i){var s=Si(i.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){i.blockedOn=s,Xn(i.priority,function(){J0(a)});return}}else if(s===31){if(s=m(a),s!==null){i.blockedOn=s,Xn(i.priority,function(){J0(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function vh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=jm(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);hl=l,a.target.dispatchEvent(l),hl=null}else return s=Vn(a),s!==null&&Z0(s),i.blockedOn=a,!1;s.shift()}return!0}function iT(i,s,a){vh(i)&&a.delete(s)}function KC(){Fm=!1,Ws!==null&&vh(Ws)&&(Ws=null),Zs!==null&&vh(Zs)&&(Zs=null),Js!==null&&vh(Js)&&(Js=null),$l.forEach(iT),Wl.forEach(iT)}function _h(i,s){i.blockedOn===s&&(i.blockedOn=null,Fm||(Fm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,KC)))}var Th=null;function sT(i){Th!==i&&(Th=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Th===i&&(Th=null);for(var s=0;s<i.length;s+=3){var a=i[s],l=i[s+1],f=i[s+2];if(typeof l!="function"){if(Bm(l||a)===null)continue;break}var d=Vn(a);d!==null&&(i.splice(s,3),s-=3,jd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function ho(i){function s(V){return _h(V,i)}Ws!==null&&_h(Ws,i),Zs!==null&&_h(Zs,i),Js!==null&&_h(Js,i),$l.forEach(s),Wl.forEach(s);for(var a=0;a<tr.length;a++){var l=tr[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<tr.length&&(a=tr[0],a.blockedOn===null);)nT(a),a.blockedOn===null&&tr.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[ze]||null;if(typeof d=="function")_||sT(a);else if(_){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[ze]||null)A=_.formAction;else if(Bm(f)!==null)continue}else A=_.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),sT(a)}}}function rT(){function i(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Hm(i){this._internalRoot=i}Eh.prototype.render=Hm.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=In();$0(a,l,i,s,null,null)},Eh.prototype.unmount=Hm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;$0(i.current,2,null,i,null,null),eh(),s[Ti]=null}};function Eh(i){this._internalRoot=i}Eh.prototype.unstable_scheduleHydration=function(i){if(i){var s=ec();i={blockedOn:null,target:i,priority:s};for(var a=0;a<tr.length&&s!==0&&s<tr[a].priority;a++);tr.splice(a,0,i),a===0&&nT(i)}};var aT=t.version;if(aT!=="19.2.4")throw Error(r(527,aT,"19.2.4"));rt.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=g(s),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var YC={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{Yn=Sh.inject(YC),qe=Sh}catch{}}return tu.createRoot=function(i,s){if(!o(i))throw Error(r(299));var a=!1,l="",f=d_,d=m_,_=p_;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=Q0(i,1,!1,null,null,a,l,null,f,d,_,rT),i[Ti]=s.current,bm(i),new Hm(s)},tu.hydrateRoot=function(i,s,a){if(!o(i))throw Error(r(299));var l=!1,f="",d=d_,_=m_,A=p_,V=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(V=a.formState)),s=Q0(i,1,!0,s,a??null,l,f,V,d,_,A,rT),s.context=X0(null),a=s.current,l=In(),l=Ir(l),f=zs(l),f.callback=null,js(a,f,l),a=l,s.current.lanes=a,Rr(s,a),Li(s),i[Ti]=s.current,bm(i),new Eh(s)},tu.version="19.2.4",tu}var gT;function r2(){if(gT)return Km.exports;gT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Km.exports=s2(),Km.exports}var a2=r2();const Eg=at.createContext({});function Sg(n){const t=at.useRef(null);return t.current===null&&(t.current=n()),t.current}const a1=typeof window<"u",o1=a1?at.useLayoutEffect:at.useEffect,wf=at.createContext(null);function Ag(n,t){n.indexOf(t)===-1&&n.push(t)}function Xh(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const qi=(n,t,e)=>e>t?t:e<n?n:e;let bg=()=>{};const ys={},l1=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function u1(n){return typeof n=="object"&&n!==null}const c1=n=>/^0[^.\s]+$/u.test(n);function h1(n){let t;return()=>(t===void 0&&(t=n()),t)}const Kn=n=>n,o2=(n,t)=>e=>t(n(e)),Ou=(...n)=>n.reduce(o2),_u=(n,t,e)=>{const r=t-n;return r===0?1:(e-n)/r};class wg{constructor(){this.subscriptions=[]}add(t){return Ag(this.subscriptions,t),()=>Xh(this.subscriptions,t)}notify(t,e,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,e,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,e,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ci=n=>n*1e3,Gn=n=>n/1e3;function f1(n,t){return t?n*(1e3/t):0}const d1=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,l2=1e-7,u2=12;function c2(n,t,e,r,o){let u,c,m=0;do c=t+(e-t)/2,u=d1(c,r,o)-n,u>0?e=c:t=c;while(Math.abs(u)>l2&&++m<u2);return c}function Pu(n,t,e,r){if(n===t&&e===r)return Kn;const o=u=>c2(u,0,1,n,e);return u=>u===0||u===1?u:d1(o(u),t,r)}const m1=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,p1=n=>t=>1-n(1-t),g1=Pu(.33,1.53,.69,.99),Rg=p1(g1),y1=m1(Rg),v1=n=>(n*=2)<1?.5*Rg(n):.5*(2-Math.pow(2,-10*(n-1))),Cg=n=>1-Math.sin(Math.acos(n)),_1=p1(Cg),T1=m1(Cg),h2=Pu(.42,0,1,1),f2=Pu(0,0,.58,1),E1=Pu(.42,0,.58,1),d2=n=>Array.isArray(n)&&typeof n[0]!="number",S1=n=>Array.isArray(n)&&typeof n[0]=="number",m2={linear:Kn,easeIn:h2,easeInOut:E1,easeOut:f2,circIn:Cg,circInOut:T1,circOut:_1,backIn:Rg,backInOut:y1,backOut:g1,anticipate:v1},p2=n=>typeof n=="string",yT=n=>{if(S1(n)){bg(n.length===4);const[t,e,r,o]=n;return Pu(t,e,r,o)}else if(p2(n))return m2[n];return n},Ah=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function g2(n,t){let e=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function p(v){c.has(v)&&(g.schedule(v),n()),v(m)}const g={schedule:(v,E=!1,S=!1)=>{const x=S&&o?e:r;return E&&c.add(v),x.has(v)||x.add(v),v},cancel:v=>{r.delete(v),c.delete(v)},process:v=>{if(m=v,o){u=!0;return}o=!0,[e,r]=[r,e],e.forEach(p),e.clear(),o=!1,u&&(u=!1,g.process(v))}};return g}const y2=40;function A1(n,t){let e=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>e=!0,c=Ah.reduce((Q,st)=>(Q[st]=g2(u),Q),{}),{setup:m,read:p,resolveKeyframes:g,preUpdate:v,update:E,preRender:S,render:C,postRender:x}=c,z=()=>{const Q=ys.useManualTiming?o.timestamp:performance.now();e=!1,ys.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(Q-o.timestamp,y2),1)),o.timestamp=Q,o.isProcessing=!0,m.process(o),p.process(o),g.process(o),v.process(o),E.process(o),S.process(o),C.process(o),x.process(o),o.isProcessing=!1,e&&t&&(r=!1,n(z))},L=()=>{e=!0,r=!0,o.isProcessing||n(z)};return{schedule:Ah.reduce((Q,st)=>{const nt=c[st];return Q[st]=(ut,I=!1,w=!1)=>(e||L(),nt.schedule(ut,I,w)),Q},{}),cancel:Q=>{for(let st=0;st<Ah.length;st++)c[Ah[st]].cancel(Q)},state:o,steps:c}}const{schedule:ne,cancel:mr,state:$e,steps:$m}=A1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Kn,!0);let Nh;function v2(){Nh=void 0}const cn={now:()=>(Nh===void 0&&cn.set($e.isProcessing||ys.useManualTiming?$e.timestamp:performance.now()),Nh),set:n=>{Nh=n,queueMicrotask(v2)}},b1=n=>t=>typeof t=="string"&&t.startsWith(n),w1=b1("--"),_2=b1("var(--"),Ig=n=>_2(n)?T2.test(n.split("/*")[0].trim()):!1,T2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function vT(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const zo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Tu={...zo,transform:n=>qi(0,1,n)},bh={...zo,default:1},uu=n=>Math.round(n*1e5)/1e5,xg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function E2(n){return n==null}const S2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Dg=(n,t)=>e=>!!(typeof e=="string"&&S2.test(e)&&e.startsWith(n)||t&&!E2(e)&&Object.prototype.hasOwnProperty.call(e,t)),R1=(n,t,e)=>r=>{if(typeof r!="string")return r;const[o,u,c,m]=r.match(xg);return{[n]:parseFloat(o),[t]:parseFloat(u),[e]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},A2=n=>qi(0,255,n),Wm={...zo,transform:n=>Math.round(A2(n))},ia={test:Dg("rgb","red"),parse:R1("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:r=1})=>"rgba("+Wm.transform(n)+", "+Wm.transform(t)+", "+Wm.transform(e)+", "+uu(Tu.transform(r))+")"};function b2(n){let t="",e="",r="",o="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,e+=e,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const wp={test:Dg("#"),parse:b2,transform:ia.transform},Lu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),ir=Lu("deg"),zi=Lu("%"),mt=Lu("px"),w2=Lu("vh"),R2=Lu("vw"),_T={...zi,parse:n=>zi.parse(n)/100,transform:n=>zi.transform(n*100)},vo={test:Dg("hsl","hue"),parse:R1("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:r=1})=>"hsla("+Math.round(n)+", "+zi.transform(uu(t))+", "+zi.transform(uu(e))+", "+uu(Tu.transform(r))+")"},Ve={test:n=>ia.test(n)||wp.test(n)||vo.test(n),parse:n=>ia.test(n)?ia.parse(n):vo.test(n)?vo.parse(n):wp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ia.transform(n):vo.transform(n),getAnimatableNone:n=>{const t=Ve.parse(n);return t.alpha=0,Ve.transform(t)}},C2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function I2(n){var t,e;return isNaN(n)&&typeof n=="string"&&(((t=n.match(xg))==null?void 0:t.length)||0)+(((e=n.match(C2))==null?void 0:e.length)||0)>0}const C1="number",I1="color",x2="var",D2="var(",TT="${}",V2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Eu(n){const t=n.toString(),e=[],r={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(V2,p=>(Ve.test(p)?(r.color.push(u),o.push(I1),e.push(Ve.parse(p))):p.startsWith(D2)?(r.var.push(u),o.push(x2),e.push(p)):(r.number.push(u),o.push(C1),e.push(parseFloat(p))),++u,TT)).split(TT);return{values:e,split:m,indexes:r,types:o}}function x1(n){return Eu(n).values}function D1(n){const{split:t,types:e}=Eu(n),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const m=e[c];m===C1?u+=uu(o[c]):m===I1?u+=Ve.transform(o[c]):u+=o[c]}return u}}const M2=n=>typeof n=="number"?0:Ve.test(n)?Ve.getAnimatableNone(n):n;function N2(n){const t=x1(n);return D1(n)(t.map(M2))}const hi={test:I2,parse:x1,createTransformer:D1,getAnimatableNone:N2};function Zm(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function O2({hue:n,saturation:t,lightness:e,alpha:r}){n/=360,t/=100,e/=100;let o=0,u=0,c=0;if(!t)o=u=c=e;else{const m=e<.5?e*(1+t):e+t-e*t,p=2*e-m;o=Zm(p,m,n+1/3),u=Zm(p,m,n),c=Zm(p,m,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function $h(n,t){return e=>e>0?t:n}const ce=(n,t,e)=>n+(t-n)*e,Jm=(n,t,e)=>{const r=n*n,o=e*(t*t-r)+r;return o<0?0:Math.sqrt(o)},P2=[wp,ia,vo],L2=n=>P2.find(t=>t.test(n));function ET(n){const t=L2(n);if(!t)return!1;let e=t.parse(n);return t===vo&&(e=O2(e)),e}const ST=(n,t)=>{const e=ET(n),r=ET(t);if(!e||!r)return $h(n,t);const o={...e};return u=>(o.red=Jm(e.red,r.red,u),o.green=Jm(e.green,r.green,u),o.blue=Jm(e.blue,r.blue,u),o.alpha=ce(e.alpha,r.alpha,u),ia.transform(o))},Rp=new Set(["none","hidden"]);function k2(n,t){return Rp.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function U2(n,t){return e=>ce(n,t,e)}function Vg(n){return typeof n=="number"?U2:typeof n=="string"?Ig(n)?$h:Ve.test(n)?ST:B2:Array.isArray(n)?V1:typeof n=="object"?Ve.test(n)?ST:z2:$h}function V1(n,t){const e=[...n],r=e.length,o=n.map((u,c)=>Vg(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)e[c]=o[c](u);return e}}function z2(n,t){const e={...n,...t},r={};for(const o in e)n[o]!==void 0&&t[o]!==void 0&&(r[o]=Vg(n[o])(n[o],t[o]));return o=>{for(const u in r)e[u]=r[u](o);return e}}function j2(n,t){const e=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=n.indexes[u][r[u]],m=n.values[c]??0;e[o]=m,r[u]++}return e}const B2=(n,t)=>{const e=hi.createTransformer(t),r=Eu(n),o=Eu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Rp.has(n)&&!o.values.length||Rp.has(t)&&!r.values.length?k2(n,t):Ou(V1(j2(r,o),o.values),e):$h(n,t)};function M1(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?ce(n,t,e):Vg(n)(n,t)}const F2=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>ne.update(t,e),stop:()=>mr(t),now:()=>$e.isProcessing?$e.timestamp:cn.now()}},N1=(n,t,e=10)=>{let r="";const o=Math.max(Math.round(t/e),2);for(let u=0;u<o;u++)r+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Wh=2e4;function Mg(n){let t=0;const e=50;let r=n.next(t);for(;!r.done&&t<Wh;)t+=e,r=n.next(t);return t>=Wh?1/0:t}function H2(n,t=100,e){const r=e({...n,keyframes:[0,t]}),o=Math.min(Mg(r),Wh);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:Gn(o)}}const q2=5;function O1(n,t,e){const r=Math.max(t-q2,0);return f1(e-n(r),t-r)}const pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tp=.001;function G2({duration:n=pe.duration,bounce:t=pe.bounce,velocity:e=pe.velocity,mass:r=pe.mass}){let o,u,c=1-t;c=qi(pe.minDamping,pe.maxDamping,c),n=qi(pe.minDuration,pe.maxDuration,Gn(n)),c<1?(o=g=>{const v=g*c,E=v*n,S=v-e,C=Cp(g,c),x=Math.exp(-E);return tp-S/C*x},u=g=>{const E=g*c*n,S=E*e+e,C=Math.pow(c,2)*Math.pow(g,2)*n,x=Math.exp(-E),z=Cp(Math.pow(g,2),c);return(-o(g)+tp>0?-1:1)*((S-C)*x)/z}):(o=g=>{const v=Math.exp(-g*n),E=(g-e)*n+1;return-tp+v*E},u=g=>{const v=Math.exp(-g*n),E=(e-g)*(n*n);return v*E});const m=5/n,p=Y2(o,u,m);if(n=ci(n),isNaN(p))return{stiffness:pe.stiffness,damping:pe.damping,duration:n};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:n}}}const K2=12;function Y2(n,t,e){let r=e;for(let o=1;o<K2;o++)r=r-n(r)/t(r);return r}function Cp(n,t){return n*Math.sqrt(1-t*t)}const Q2=["duration","bounce"],X2=["stiffness","damping","mass"];function AT(n,t){return t.some(e=>n[e]!==void 0)}function $2(n){let t={velocity:pe.velocity,stiffness:pe.stiffness,damping:pe.damping,mass:pe.mass,isResolvedFromDuration:!1,...n};if(!AT(n,X2)&&AT(n,Q2))if(t.velocity=0,n.visualDuration){const e=n.visualDuration,r=2*Math.PI/(e*1.2),o=r*r,u=2*qi(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:pe.mass,stiffness:o,damping:u}}else{const e=G2({...n,velocity:0});t={...t,...e,mass:pe.mass},t.isResolvedFromDuration=!0}return t}function Zh(n=pe.visualDuration,t=pe.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=e;const u=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:E,velocity:S,isResolvedFromDuration:C}=$2({...e,velocity:-Gn(e.velocity||0)}),x=S||0,z=g/(2*Math.sqrt(p*v)),L=c-u,q=Gn(Math.sqrt(p/v)),W=Math.abs(L)<5;r||(r=W?pe.restSpeed.granular:pe.restSpeed.default),o||(o=W?pe.restDelta.granular:pe.restDelta.default);let Q;if(z<1){const nt=Cp(q,z);Q=ut=>{const I=Math.exp(-z*q*ut);return c-I*((x+z*q*L)/nt*Math.sin(nt*ut)+L*Math.cos(nt*ut))}}else if(z===1)Q=nt=>c-Math.exp(-q*nt)*(L+(x+q*L)*nt);else{const nt=q*Math.sqrt(z*z-1);Q=ut=>{const I=Math.exp(-z*q*ut),w=Math.min(nt*ut,300);return c-I*((x+z*q*L)*Math.sinh(w)+nt*L*Math.cosh(w))/nt}}const st={calculatedDuration:C&&E||null,next:nt=>{const ut=Q(nt);if(C)m.done=nt>=E;else{let I=nt===0?x:0;z<1&&(I=nt===0?ci(x):O1(Q,nt,ut));const w=Math.abs(I)<=r,R=Math.abs(c-ut)<=o;m.done=w&&R}return m.value=m.done?c:ut,m},toString:()=>{const nt=Math.min(Mg(st),Wh),ut=N1(I=>st.next(nt*I).value,nt,30);return nt+"ms "+ut},toTransition:()=>{}};return st}Zh.applyToOptions=n=>{const t=H2(n,100,Zh);return n.ease=t.ease,n.duration=ci(t.duration),n.type="keyframes",n};function Ip({keyframes:n,velocity:t=0,power:e=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:p,restDelta:g=.5,restSpeed:v}){const E=n[0],S={done:!1,value:E},C=w=>m!==void 0&&w<m||p!==void 0&&w>p,x=w=>m===void 0?p:p===void 0||Math.abs(m-w)<Math.abs(p-w)?m:p;let z=e*t;const L=E+z,q=c===void 0?L:c(L);q!==L&&(z=q-E);const W=w=>-z*Math.exp(-w/r),Q=w=>q+W(w),st=w=>{const R=W(w),N=Q(w);S.done=Math.abs(R)<=g,S.value=S.done?q:N};let nt,ut;const I=w=>{C(S.value)&&(nt=w,ut=Zh({keyframes:[S.value,x(S.value)],velocity:O1(Q,w,S.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return I(0),{calculatedDuration:null,next:w=>{let R=!1;return!ut&&nt===void 0&&(R=!0,st(w),I(w)),nt!==void 0&&w>=nt?ut.next(w-nt):(!R&&st(w),S)}}}function W2(n,t,e){const r=[],o=e||ys.mix||M1,u=n.length-1;for(let c=0;c<u;c++){let m=o(n[c],n[c+1]);if(t){const p=Array.isArray(t)?t[c]||Kn:t;m=Ou(p,m)}r.push(m)}return r}function Z2(n,t,{clamp:e=!0,ease:r,mixer:o}={}){const u=n.length;if(bg(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const m=W2(t,r,o),p=m.length,g=v=>{if(c&&v<n[0])return t[0];let E=0;if(p>1)for(;E<n.length-2&&!(v<n[E+1]);E++);const S=_u(n[E],n[E+1],v);return m[E](S)};return e?v=>g(qi(n[0],n[u-1],v)):g}function J2(n,t){const e=n[n.length-1];for(let r=1;r<=t;r++){const o=_u(0,t,r);n.push(ce(e,1,o))}}function tI(n){const t=[0];return J2(t,n.length-1),t}function eI(n,t){return n.map(e=>e*t)}function nI(n,t){return n.map(()=>t||E1).splice(0,n.length-1)}function cu({duration:n=300,keyframes:t,times:e,ease:r="easeInOut"}){const o=d2(r)?r.map(yT):yT(r),u={done:!1,value:t[0]},c=eI(e&&e.length===t.length?e:tI(t),n),m=Z2(c,t,{ease:Array.isArray(o)?o:nI(t,o)});return{calculatedDuration:n,next:p=>(u.value=m(p),u.done=p>=n,u)}}const iI=n=>n!==null;function Ng(n,{repeat:t,repeatType:e="loop"},r,o=1){const u=n.filter(iI),m=o<0||t&&e!=="loop"&&t%2===1?0:u.length-1;return!m||r===void 0?u[m]:r}const sI={decay:Ip,inertia:Ip,tween:cu,keyframes:cu,spring:Zh};function P1(n){typeof n.type=="string"&&(n.type=sI[n.type])}class Og{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const rI=n=>n/100;class Pg extends Og{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,o;const{motionValue:e}=this.options;e&&e.updatedAt!==cn.now()&&this.tick(cn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(r=this.options).onStop)==null||o.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;P1(t);const{type:e=cu,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:m}=t;const p=e||cu;p!==cu&&typeof m[0]!="number"&&(this.mixKeyframes=Ou(rI,M1(m[0],m[1])),m=[0,100]);const g=p({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...m].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Mg(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:v,repeat:E,repeatType:S,repeatDelay:C,type:x,onUpdate:z,finalKeyframe:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const q=this.currentTime-g*(this.playbackSpeed>=0?1:-1),W=this.playbackSpeed>=0?q<0:q>o;this.currentTime=Math.max(q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let Q=this.currentTime,st=r;if(E){const w=Math.min(this.currentTime,o)/m;let R=Math.floor(w),N=w%1;!N&&w>=1&&(N=1),N===1&&R--,R=Math.min(R,E+1),!!(R%2)&&(S==="reverse"?(N=1-N,C&&(N-=C/m)):S==="mirror"&&(st=c)),Q=qi(0,1,N)*m}const nt=W?{done:!1,value:v[0]}:st.next(Q);u&&(nt.value=u(nt.value));let{done:ut}=nt;!W&&p!==null&&(ut=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ut);return I&&x!==Ip&&(nt.value=Ng(v,this.options,L,this.speed)),z&&z(nt.value),I&&this.finish(),nt}then(t,e){return this.finished.then(t,e)}get duration(){return Gn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Gn(t)}get time(){return Gn(this.currentTime)}set time(t){var e;t=ci(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(e=this.driver)==null||e.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(cn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Gn(this.currentTime))}play(){var o,u;if(this.isStopped)return;const{driver:t=F2,startTime:e}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(u=(o=this.options).onPlay)==null||u.call(o);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=e??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(cn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,e;this.notifyFinished(),this.teardown(),this.state="finished",(e=(t=this.options).onComplete)==null||e.call(t)}cancel(){var t,e;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(e=(t=this.options).onCancel)==null||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var e;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(e=this.driver)==null||e.stop(),t.observe(this)}}function aI(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const sa=n=>n*180/Math.PI,xp=n=>{const t=sa(Math.atan2(n[1],n[0]));return Dp(t)},oI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:xp,rotateZ:xp,skewX:n=>sa(Math.atan(n[1])),skewY:n=>sa(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Dp=n=>(n=n%360,n<0&&(n+=360),n),bT=xp,wT=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),RT=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),lI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:wT,scaleY:RT,scale:n=>(wT(n)+RT(n))/2,rotateX:n=>Dp(sa(Math.atan2(n[6],n[5]))),rotateY:n=>Dp(sa(Math.atan2(-n[2],n[0]))),rotateZ:bT,rotate:bT,skewX:n=>sa(Math.atan(n[4])),skewY:n=>sa(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Vp(n){return n.includes("scale")?1:0}function Mp(n,t){if(!n||n==="none")return Vp(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(e)r=lI,o=e;else{const m=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=oI,o=m}if(!o)return Vp(t);const u=r[t],c=o[1].split(",").map(cI);return typeof u=="function"?u(c):c[u]}const uI=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return Mp(e,t)};function cI(n){return parseFloat(n.trim())}const jo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bo=new Set(jo),CT=n=>n===zo||n===mt,hI=new Set(["x","y","z"]),fI=jo.filter(n=>!hI.has(n));function dI(n){const t=[];return fI.forEach(e=>{const r=n.getValue(e);r!==void 0&&(t.push([e,r.get()]),r.set(e.startsWith("scale")?1:0))}),t}const lr={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>Mp(t,"x"),y:(n,{transform:t})=>Mp(t,"y")};lr.translateX=lr.x;lr.translateY=lr.y;const oa=new Set;let Np=!1,Op=!1,Pp=!1;function L1(){if(Op){const n=Array.from(oa).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),e=new Map;t.forEach(r=>{const o=dI(r);o.length&&(e.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=e.get(r);o&&o.forEach(([u,c])=>{var m;(m=r.getValue(u))==null||m.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Op=!1,Np=!1,oa.forEach(n=>n.complete(Pp)),oa.clear()}function k1(){oa.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Op=!0)})}function mI(){Pp=!0,k1(),L1(),Pp=!1}class Lg{constructor(t,e,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(oa.add(this),Np||(Np=!0,ne.read(k1),ne.resolveKeyframes(L1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:r,motionValue:o}=this;if(t[0]===null){const u=o==null?void 0:o.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&e){const m=r.readValue(e,c);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}aI(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),oa.delete(this)}cancel(){this.state==="scheduled"&&(oa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const pI=n=>n.startsWith("--");function gI(n,t,e){pI(t)?n.style.setProperty(t,e):n.style[t]=e}const yI={};function U1(n,t){const e=h1(n);return()=>yI[t]??e()}const vI=U1(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),z1=U1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),iu=([n,t,e,r])=>`cubic-bezier(${n}, ${t}, ${e}, ${r})`,IT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:iu([0,.65,.55,1]),circOut:iu([.55,0,1,.45]),backIn:iu([.31,.01,.66,-.59]),backOut:iu([.33,1.53,.69,.99])};function j1(n,t){if(n)return typeof n=="function"?z1()?N1(n,t):"ease-out":S1(n)?iu(n):Array.isArray(n)?n.map(e=>j1(e,t)||IT.easeOut):IT[n]}function _I(n,t,e,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:p}={},g=void 0){const v={[t]:e};p&&(v.offset=p);const E=j1(m,o);Array.isArray(E)&&(v.easing=E);const S={delay:r,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(S.pseudoElement=g),n.animate(v,S)}function B1(n){return typeof n=="function"&&"applyToOptions"in n}function TI({type:n,...t}){return B1(n)&&z1()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class F1 extends Og{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,bg(typeof t.type!="string");const g=TI(t);this.animation=_I(e,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=Ng(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(v):gI(e,r,v),this.animation.cancel()}p==null||p(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,e;(e=(t=this.animation).finish)==null||e.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r,o;const t=(e=this.options)==null?void 0:e.element;!this.isPseudoElement&&(t!=null&&t.isConnected)&&((o=(r=this.animation).commitStyles)==null||o.call(r))}get duration(){var e,r;const t=((r=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:r.call(e).duration)||0;return Gn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Gn(t)}get time(){return Gn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ci(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&vI()?(this.animation.timeline=t,Kn):e(this)}}const H1={anticipate:v1,backInOut:y1,circInOut:T1};function EI(n){return n in H1}function SI(n){typeof n.ease=="string"&&EI(n.ease)&&(n.ease=H1[n.ease])}const ep=10;class AI extends F1{constructor(t){SI(t),P1(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const m=new Pg({...c,autoplay:!1}),p=Math.max(ep,cn.now()-this.startTime),g=qi(0,ep,p-ep);e.setWithVelocity(m.sample(Math.max(0,p-g)).value,m.sample(p).value,g),m.stop()}}const xT=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(hi.test(n)||n==="0")&&!n.startsWith("url("));function bI(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function wI(n,t,e,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=xT(o,t),m=xT(u,t);return!c||!m?!1:bI(n)||(e==="spring"||B1(e))&&r}function Lp(n){n.duration=0,n.type="keyframes"}const RI=new Set(["opacity","clipPath","filter","transform"]),CI=h1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function II(n){var v;const{motionValue:t,name:e,repeatDelay:r,repeatType:o,damping:u,type:c}=n;if(!(((v=t==null?void 0:t.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return CI()&&e&&RI.has(e)&&(e!=="transform"||!g)&&!p&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const xI=40;class DI extends Og{constructor({autoplay:t=!0,delay:e=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:p,motionValue:g,element:v,...E}){var x;super(),this.stop=()=>{var z,L;this._animation&&(this._animation.stop(),(z=this.stopTimeline)==null||z.call(this)),(L=this.keyframeResolver)==null||L.cancel()},this.createdAt=cn.now();const S={autoplay:t,delay:e,type:r,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:v,...E},C=(v==null?void 0:v.KeyframeResolver)||Lg;this.keyframeResolver=new C(m,(z,L,q)=>this.onKeyframesResolved(z,L,S,!q),p,g,v),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(t,e,r,o){var L,q;this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:p,isHandoff:g,onUpdate:v}=r;this.resolvedAt=cn.now(),wI(t,u,c,m)||((ys.instantAnimations||!p)&&(v==null||v(Ng(t,r,e))),t[0]=t[t.length-1],Lp(r),r.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>xI?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...r,keyframes:t},C=!g&&II(S),x=(q=(L=S.motionValue)==null?void 0:L.owner)==null?void 0:q.current,z=C?new AI({...S,element:x}):new Pg(S);z.finished.then(()=>{this.notifyFinished()}).catch(Kn),this.pendingTimeline&&(this.stopTimeline=z.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=z}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),mI()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function q1(n,t,e,r=0,o=1){const u=Array.from(n).sort((g,v)=>g.sortNodePosition(v)).indexOf(t),c=n.size,m=(c-1)*r;return typeof e=="function"?e(u,c):o===1?u*r:m-u*r}const VI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function MI(n){const t=VI.exec(n);if(!t)return[,];const[,e,r,o]=t;return[`--${e??r}`,o]}function G1(n,t,e=1){const[r,o]=MI(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return l1(c)?parseFloat(c):c}return Ig(o)?G1(o,t,e+1):o}const NI={type:"spring",stiffness:500,damping:25,restSpeed:10},OI=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),PI={type:"keyframes",duration:.8},LI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kI=(n,{keyframes:t})=>t.length>2?PI:Bo.has(n)?n.startsWith("scale")?OI(t[1]):NI:LI,UI=n=>n!==null;function zI(n,{repeat:t,repeatType:e="loop"},r){const o=n.filter(UI),u=t&&e!=="loop"&&t%2===1?0:o.length-1;return o[u]}function K1(n,t){if(n!=null&&n.inherit&&t){const{inherit:e,...r}=n;return{...t,...r}}return n}function kg(n,t){const e=(n==null?void 0:n[t])??(n==null?void 0:n.default)??n;return e!==n?K1(e,n):e}function jI({when:n,delay:t,delayChildren:e,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:m,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const Ug=(n,t,e,r={},o,u)=>c=>{const m=kg(r,n)||{},p=m.delay||r.delay||0;let{elapsed:g=0}=r;g=g-ci(p);const v={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-g,onUpdate:S=>{t.set(S),m.onUpdate&&m.onUpdate(S)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:n,motionValue:t,element:u?void 0:o};jI(m)||Object.assign(v,kI(n,v)),v.duration&&(v.duration=ci(v.duration)),v.repeatDelay&&(v.repeatDelay=ci(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Lp(v),v.delay===0&&(E=!0)),(ys.instantAnimations||ys.skipAnimations||o!=null&&o.shouldSkipAnimations)&&(E=!0,Lp(v),v.delay=0),v.allowFlatten=!m.type&&!m.ease,E&&!u&&t.get()!==void 0){const S=zI(v.keyframes,m);if(S!==void 0){ne.update(()=>{v.onUpdate(S),v.onComplete()});return}}return m.isSync?new Pg(v):new DI(v)};function DT(n){const t=[{},{}];return n==null||n.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function zg(n,t,e,r){if(typeof t=="function"){const[o,u]=DT(r);t=t(e!==void 0?e:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=DT(r);t=t(e!==void 0?e:n.custom,o,u)}return t}function Ao(n,t,e){const r=n.getProps();return zg(r,t,e!==void 0?e:r.custom,n)}const Y1=new Set(["width","height","top","left","right","bottom",...jo]),VT=30,BI=n=>!isNaN(parseFloat(n));class FI{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var u;const o=cn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=cn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=BI(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new wg);const r=this.events[t].add(e);return t==="change"?()=>{r(),ne.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,r){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>VT)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,VT);return f1(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,e;(t=this.dependents)==null||t.clear(),(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vo(n,t){return new FI(n,t)}const kp=n=>Array.isArray(n);function HI(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,Vo(e))}function qI(n){return kp(n)?n[n.length-1]||0:n}function GI(n,t){const e=Ao(n,t);let{transitionEnd:r={},transition:o={},...u}=e||{};u={...u,...r};for(const c in u){const m=qI(u[c]);HI(n,c,m)}}const rn=n=>!!(n&&n.getVelocity);function KI(n){return!!(rn(n)&&n.add)}function Up(n,t){const e=n.getValue("willChange");if(KI(e))return e.add(t);if(!e&&ys.WillChange){const r=new ys.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function jg(n){return n.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const YI="framerAppearId",Q1="data-"+jg(YI);function X1(n){return n.props[Q1]}function QI({protectedKeys:n,needsAnimating:t},e){const r=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,r}function $1(n,t,{delay:e=0,transitionOverride:r,type:o}={}){let{transition:u,transitionEnd:c,...m}=t;const p=n.getDefaultTransition();u=u?K1(u,p):p;const g=u==null?void 0:u.reduceMotion;r&&(u=r);const v=[],E=o&&n.animationState&&n.animationState.getState()[o];for(const S in m){const C=n.getValue(S,n.latestValues[S]??null),x=m[S];if(x===void 0||E&&QI(E,S))continue;const z={delay:e,...kg(u||{},S)},L=C.get();if(L!==void 0&&!C.isAnimating&&!Array.isArray(x)&&x===L&&!z.velocity)continue;let q=!1;if(window.MotionHandoffAnimation){const st=X1(n);if(st){const nt=window.MotionHandoffAnimation(st,S,ne);nt!==null&&(z.startTime=nt,q=!0)}}Up(n,S);const W=g??n.shouldReduceMotion;C.start(Ug(S,C,x,W&&Y1.has(S)?{type:!1}:z,n,q));const Q=C.animation;Q&&v.push(Q)}if(c){const S=()=>ne.update(()=>{c&&GI(n,c)});v.length?Promise.all(v).then(S):S()}return v}function zp(n,t,e={}){var p;const r=Ao(n,t,e.type==="exit"?(p=n.presenceContext)==null?void 0:p.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};e.transitionOverride&&(o=e.transitionOverride);const u=r?()=>Promise.all($1(n,r,e)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:E,staggerDirection:S}=o;return XI(n,t,g,v,E,S,e)}:()=>Promise.resolve(),{when:m}=o;if(m){const[g,v]=m==="beforeChildren"?[u,c]:[c,u];return g().then(()=>v())}else return Promise.all([u(),c(e.delay)])}function XI(n,t,e=0,r=0,o=0,u=1,c){const m=[];for(const p of n.variantChildren)p.notify("AnimationStart",t),m.push(zp(p,t,{...c,delay:e+(typeof r=="function"?0:r)+q1(n.variantChildren,p,r,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(m)}function $I(n,t,e={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>zp(n,u,e));r=Promise.all(o)}else if(typeof t=="string")r=zp(n,t,e);else{const o=typeof t=="function"?Ao(n,t,e.custom):t;r=Promise.all($1(n,o,e))}return r.then(()=>{n.notify("AnimationComplete",t)})}const WI={test:n=>n==="auto",parse:n=>n},W1=n=>t=>t.test(n),Z1=[zo,mt,zi,ir,R2,w2,WI],MT=n=>Z1.find(W1(n));function ZI(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||c1(n):!0}const JI=new Set(["brightness","contrast","saturate","opacity"]);function tx(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=e.match(xg)||[];if(!r)return n;const o=e.replace(r,"");let u=JI.has(t)?1:0;return r!==e&&(u*=100),t+"("+u+o+")"}const ex=/\b([a-z-]*)\(.*?\)/gu,jp={...hi,getAnimatableNone:n=>{const t=n.match(ex);return t?t.map(tx).join(" "):n}},Bp={...hi,getAnimatableNone:n=>{const t=hi.parse(n);return hi.createTransformer(n)(t.map(r=>typeof r=="number"?0:typeof r=="object"?{...r,alpha:1}:r))}},NT={...zo,transform:Math.round},nx={rotate:ir,rotateX:ir,rotateY:ir,rotateZ:ir,scale:bh,scaleX:bh,scaleY:bh,scaleZ:bh,skew:ir,skewX:ir,skewY:ir,distance:mt,translateX:mt,translateY:mt,translateZ:mt,x:mt,y:mt,z:mt,perspective:mt,transformPerspective:mt,opacity:Tu,originX:_T,originY:_T,originZ:mt},Bg={borderWidth:mt,borderTopWidth:mt,borderRightWidth:mt,borderBottomWidth:mt,borderLeftWidth:mt,borderRadius:mt,borderTopLeftRadius:mt,borderTopRightRadius:mt,borderBottomRightRadius:mt,borderBottomLeftRadius:mt,width:mt,maxWidth:mt,height:mt,maxHeight:mt,top:mt,right:mt,bottom:mt,left:mt,inset:mt,insetBlock:mt,insetBlockStart:mt,insetBlockEnd:mt,insetInline:mt,insetInlineStart:mt,insetInlineEnd:mt,padding:mt,paddingTop:mt,paddingRight:mt,paddingBottom:mt,paddingLeft:mt,paddingBlock:mt,paddingBlockStart:mt,paddingBlockEnd:mt,paddingInline:mt,paddingInlineStart:mt,paddingInlineEnd:mt,margin:mt,marginTop:mt,marginRight:mt,marginBottom:mt,marginLeft:mt,marginBlock:mt,marginBlockStart:mt,marginBlockEnd:mt,marginInline:mt,marginInlineStart:mt,marginInlineEnd:mt,fontSize:mt,backgroundPositionX:mt,backgroundPositionY:mt,...nx,zIndex:NT,fillOpacity:Tu,strokeOpacity:Tu,numOctaves:NT},ix={...Bg,color:Ve,backgroundColor:Ve,outlineColor:Ve,fill:Ve,stroke:Ve,borderColor:Ve,borderTopColor:Ve,borderRightColor:Ve,borderBottomColor:Ve,borderLeftColor:Ve,filter:jp,WebkitFilter:jp,mask:Bp,WebkitMask:Bp},J1=n=>ix[n],sx=new Set([jp,Bp]);function tA(n,t){let e=J1(n);return sx.has(e)||(e=hi),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const rx=new Set(["auto","none","0"]);function ax(n,t,e){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!rx.has(u)&&Eu(u).values.length&&(o=n[r]),r++}if(o&&e)for(const u of t)n[u]=tA(e,o)}class ox extends Lg{constructor(t,e,r,o,u){super(t,e,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:r}=this;if(!e||!e.current)return;super.readKeyframes();for(let v=0;v<t.length;v++){let E=t[v];if(typeof E=="string"&&(E=E.trim(),Ig(E))){const S=G1(E,e.current);S!==void 0&&(t[v]=S),v===t.length-1&&(this.finalKeyframe=E)}}if(this.resolveNoneKeyframes(),!Y1.has(r)||t.length!==2)return;const[o,u]=t,c=MT(o),m=MT(u),p=vT(o),g=vT(u);if(p!==g&&lr[r]){this.needsMeasurement=!0;return}if(c!==m)if(CT(c)&&CT(m))for(let v=0;v<t.length;v++){const E=t[v];typeof E=="string"&&(t[v]=parseFloat(E))}else lr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||ZI(t[o]))&&r.push(o);r.length&&ax(t,r,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=lr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const o=e[e.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var m;const{element:t,name:e,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(e);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=lr[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(m=this.removedTransforms)!=null&&m.length&&this.removedTransforms.forEach(([p,g])=>{t.getValue(p).set(g)}),this.resolveNoneKeyframes()}}const lx=new Set(["opacity","clipPath","filter","transform"]);function eA(n,t,e){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=(e==null?void 0:e[n])??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n).filter(r=>r!=null)}const nA=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function Fp(n){return u1(n)&&"offsetHeight"in n}const{schedule:Fg}=A1(queueMicrotask,!1),ai={x:!1,y:!1};function iA(){return ai.x||ai.y}function ux(n){return n==="x"||n==="y"?ai[n]?null:(ai[n]=!0,()=>{ai[n]=!1}):ai.x||ai.y?null:(ai.x=ai.y=!0,()=>{ai.x=ai.y=!1})}function sA(n,t){const e=eA(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[e,o,()=>r.abort()]}function cx(n){return!(n.pointerType==="touch"||iA())}function hx(n,t,e={}){const[r,o,u]=sA(n,e);return r.forEach(c=>{let m=!1,p=!1,g;const v=()=>{c.removeEventListener("pointerleave",x)},E=L=>{g&&(g(L),g=void 0),v()},S=L=>{m=!1,window.removeEventListener("pointerup",S),window.removeEventListener("pointercancel",S),p&&(p=!1,E(L))},C=()=>{m=!0,window.addEventListener("pointerup",S,o),window.addEventListener("pointercancel",S,o)},x=L=>{if(L.pointerType!=="touch"){if(m){p=!0;return}E(L)}},z=L=>{if(!cx(L))return;p=!1;const q=t(c,L);typeof q=="function"&&(g=q,c.addEventListener("pointerleave",x,o))};c.addEventListener("pointerenter",z,o),c.addEventListener("pointerdown",C,o)}),u}const rA=(n,t)=>t?n===t?!0:rA(n,t.parentElement):!1,Hg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,fx=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dx(n){return fx.has(n.tagName)||n.isContentEditable===!0}const mx=new Set(["INPUT","SELECT","TEXTAREA"]);function px(n){return mx.has(n.tagName)||n.isContentEditable===!0}const Oh=new WeakSet;function OT(n){return t=>{t.key==="Enter"&&n(t)}}function np(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const gx=(n,t)=>{const e=n.currentTarget;if(!e)return;const r=OT(()=>{if(Oh.has(e))return;np(e,"down");const o=OT(()=>{np(e,"up")}),u=()=>np(e,"cancel");e.addEventListener("keyup",o,t),e.addEventListener("blur",u,t)});e.addEventListener("keydown",r,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",r),t)};function PT(n){return Hg(n)&&!iA()}const LT=new WeakSet;function yx(n,t,e={}){const[r,o,u]=sA(n,e),c=m=>{const p=m.currentTarget;if(!PT(m)||LT.has(m))return;Oh.add(p),e.stopPropagation&&LT.add(m);const g=t(p,m),v=(C,x)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",S),Oh.has(p)&&Oh.delete(p),PT(C)&&typeof g=="function"&&g(C,{success:x})},E=C=>{v(C,p===window||p===document||e.useGlobalTarget||rA(p,C.target))},S=C=>{v(C,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",S,o)};return r.forEach(m=>{(e.useGlobalTarget?window:m).addEventListener("pointerdown",c,o),Fp(m)&&(m.addEventListener("focus",g=>gx(g,o)),!dx(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function qg(n){return u1(n)&&"ownerSVGElement"in n}const Ph=new WeakMap;let sr;const aA=(n,t,e)=>(r,o)=>o&&o[0]?o[0][n+"Size"]:qg(r)&&"getBBox"in r?r.getBBox()[t]:r[e],vx=aA("inline","width","offsetWidth"),_x=aA("block","height","offsetHeight");function Tx({target:n,borderBoxSize:t}){var e;(e=Ph.get(n))==null||e.forEach(r=>{r(n,{get width(){return vx(n,t)},get height(){return _x(n,t)}})})}function Ex(n){n.forEach(Tx)}function Sx(){typeof ResizeObserver>"u"||(sr=new ResizeObserver(Ex))}function Ax(n,t){sr||Sx();const e=eA(n);return e.forEach(r=>{let o=Ph.get(r);o||(o=new Set,Ph.set(r,o)),o.add(t),sr==null||sr.observe(r)}),()=>{e.forEach(r=>{const o=Ph.get(r);o==null||o.delete(t),o!=null&&o.size||sr==null||sr.unobserve(r)})}}const Lh=new Set;let _o;function bx(){_o=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};Lh.forEach(t=>t(n))},window.addEventListener("resize",_o)}function wx(n){return Lh.add(n),_o||bx(),()=>{Lh.delete(n),!Lh.size&&typeof _o=="function"&&(window.removeEventListener("resize",_o),_o=void 0)}}function kT(n,t){return typeof n=="function"?wx(n):Ax(n,t)}function Rx(n){return qg(n)&&n.tagName==="svg"}const Cx=[...Z1,Ve,hi],Ix=n=>Cx.find(W1(n)),UT=()=>({translate:0,scale:1,origin:0,originPoint:0}),To=()=>({x:UT(),y:UT()}),zT=()=>({min:0,max:0}),Le=()=>({x:zT(),y:zT()}),xx=new WeakMap;function Rf(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Su(n){return typeof n=="string"||Array.isArray(n)}const Gg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Kg=["initial",...Gg];function Cf(n){return Rf(n.animate)||Kg.some(t=>Su(n[t]))}function oA(n){return!!(Cf(n)||n.variants)}function Dx(n,t,e){for(const r in t){const o=t[r],u=e[r];if(rn(o))n.addValue(r,o);else if(rn(u))n.addValue(r,Vo(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(r);n.addValue(r,Vo(c!==void 0?c:o,{owner:n}))}}for(const r in e)t[r]===void 0&&n.removeValue(r);return t}const Hp={current:null},lA={current:!1},Vx=typeof window<"u";function Mx(){if(lA.current=!0,!!Vx)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>Hp.current=n.matches;n.addEventListener("change",t),t()}else Hp.current=!1}const jT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Jh={};function uA(n){Jh=n}function Nx(){return Jh}class Ox{scrapeMotionValuesFromProps(t,e,r){return{}}constructor({parent:t,props:e,presenceContext:r,reducedMotionConfig:o,skipAnimations:u,blockInitialAnimation:c,visualState:m},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Lg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const C=cn.now();this.renderScheduledAt<C&&(this.renderScheduledAt=C,ne.render(this.render,!1,!0))};const{latestValues:g,renderState:v}=m;this.latestValues=g,this.baseTarget={...g},this.initialValues=e.initial?{...g}:{},this.renderState=v,this.parent=t,this.props=e,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.skipAnimationsConfig=u,this.options=p,this.blockInitialAnimation=!!c,this.isControllingVariants=Cf(e),this.isVariantNode=oA(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:E,...S}=this.scrapeMotionValuesFromProps(e,{},this);for(const C in S){const x=S[C];g[C]!==void 0&&rn(x)&&x.set(g[C])}}mount(t){var e,r;if(this.hasBeenMounted)for(const o in this.initialValues)(e=this.values.get(o))==null||e.jump(this.initialValues[o]),this.latestValues[o]=this.initialValues[o];this.current=t,xx.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((o,u)=>this.bindToMotionValue(u,o)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(lA.current||Mx(),this.shouldReduceMotion=Hp.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var t;this.projection&&this.projection.unmount(),mr(this.notifyUpdate),mr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),e.accelerate&&lx.has(t)&&this.current instanceof HTMLElement){const{factory:c,keyframes:m,times:p,ease:g,duration:v}=e.accelerate,E=new F1({element:this.current,name:t,keyframes:m,times:p,ease:g,duration:ci(v)}),S=c(E);this.valueSubscriptions.set(t,()=>{S(),E.cancel()});return}const r=Bo.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ne.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;typeof window<"u"&&window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Jh){const e=Jh[t];if(!e)continue;const{isEnabled:r,Feature:o}=e;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Le()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let r=0;r<jT.length;r++){const o=jT[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=Dx(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const r=this.values.get(t);e!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&e!==void 0&&(r=Vo(e===null?void 0:e,{owner:this}),this.addValue(t,r)),r}readValue(t,e){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(l1(r)||c1(r))?r=parseFloat(r):!Ix(r)&&hi.test(e)&&(r=tA(t,e)),this.setBaseTarget(t,rn(r)?r.get():r)),rn(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var u;const{initial:e}=this.props;let r;if(typeof e=="string"||typeof e=="object"){const c=zg(this.props,e,(u=this.presenceContext)==null?void 0:u.custom);c&&(r=c[t])}if(e&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!rn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new wg),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Fg.render(this.render)}}class cA extends Ox{constructor(){super(...arguments),this.KeyframeResolver=ox}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const r=t.style;return r?r[e]:void 0}removeValueFromRenderState(t,{vars:e,style:r}){delete e[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;rn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class Er{constructor(t){this.isMounted=!1,this.node=t}update(){}}function hA({top:n,left:t,right:e,bottom:r}){return{x:{min:t,max:e},y:{min:n,max:r}}}function Px({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function Lx(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:r.y,right:r.x}}function ip(n){return n===void 0||n===1}function qp({scale:n,scaleX:t,scaleY:e}){return!ip(n)||!ip(t)||!ip(e)}function ea(n){return qp(n)||fA(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function fA(n){return BT(n.x)||BT(n.y)}function BT(n){return n&&n!=="0%"}function tf(n,t,e){const r=n-e,o=t*r;return e+o}function FT(n,t,e,r,o){return o!==void 0&&(n=tf(n,o,r)),tf(n,e,r)+t}function Gp(n,t=0,e=1,r,o){n.min=FT(n.min,t,e,r,o),n.max=FT(n.max,t,e,r,o)}function dA(n,{x:t,y:e}){Gp(n.x,t.translate,t.scale,t.originPoint),Gp(n.y,e.translate,e.scale,e.originPoint)}const HT=.999999999999,qT=1.0000000000001;function kx(n,t,e,r=!1){const o=e.length;if(!o)return;t.x=t.y=1;let u,c;for(let m=0;m<o;m++){u=e[m],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&So(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,dA(n,c)),r&&ea(u.latestValues)&&So(n,u.latestValues))}t.x<qT&&t.x>HT&&(t.x=1),t.y<qT&&t.y>HT&&(t.y=1)}function Eo(n,t){n.min=n.min+t,n.max=n.max+t}function GT(n,t,e,r,o=.5){const u=ce(n.min,n.max,o);Gp(n,t,e,u,r)}function So(n,t){GT(n.x,t.x,t.scaleX,t.scale,t.originX),GT(n.y,t.y,t.scaleY,t.scale,t.originY)}function mA(n,t){return hA(Lx(n.getBoundingClientRect(),t))}function Ux(n,t,e){const r=mA(n,e),{scroll:o}=t;return o&&(Eo(r.x,o.offset.x),Eo(r.y,o.offset.y)),r}const zx={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jx=jo.length;function Bx(n,t,e){let r="",o=!0;for(let u=0;u<jx;u++){const c=jo[u],m=n[c];if(m===void 0)continue;let p=!0;if(typeof m=="number")p=m===(c.startsWith("scale")?1:0);else{const g=parseFloat(m);p=c.startsWith("scale")?g===1:g===0}if(!p||e){const g=nA(m,Bg[c]);if(!p){o=!1;const v=zx[c]||c;r+=`${v}(${g}) `}e&&(t[c]=g)}}return r=r.trim(),e?r=e(t,o?"":r):o&&(r="none"),r}function Yg(n,t,e){const{style:r,vars:o,transformOrigin:u}=n;let c=!1,m=!1;for(const p in t){const g=t[p];if(Bo.has(p)){c=!0;continue}else if(w1(p)){o[p]=g;continue}else{const v=nA(g,Bg[p]);p.startsWith("origin")?(m=!0,u[p]=v):r[p]=v}}if(t.transform||(c||e?r.transform=Bx(t,n.transform,e):r.transform&&(r.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;r.transformOrigin=`${p} ${g} ${v}`}}function pA(n,{style:t,vars:e},r,o){const u=n.style;let c;for(c in t)u[c]=t[c];o==null||o.applyProjectionStyles(u,r);for(c in e)u.setProperty(c,e[c])}function KT(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const eu={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(mt.test(n))n=parseFloat(n);else return n;const e=KT(n,t.target.x),r=KT(n,t.target.y);return`${e}% ${r}%`}},Fx={correct:(n,{treeScale:t,projectionDelta:e})=>{const r=n,o=hi.parse(n);if(o.length>5)return r;const u=hi.createTransformer(n),c=typeof o[0]!="number"?1:0,m=e.x.scale*t.x,p=e.y.scale*t.y;o[0+c]/=m,o[1+c]/=p;const g=ce(m,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}},Kp={borderRadius:{...eu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:eu,borderTopRightRadius:eu,borderBottomLeftRadius:eu,borderBottomRightRadius:eu,boxShadow:Fx};function gA(n,{layout:t,layoutId:e}){return Bo.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!Kp[n]||n==="opacity")}function Qg(n,t,e){var c;const r=n.style,o=t==null?void 0:t.style,u={};if(!r)return u;for(const m in r)(rn(r[m])||o&&rn(o[m])||gA(m,n)||((c=e==null?void 0:e.getValue(m))==null?void 0:c.liveStyle)!==void 0)&&(u[m]=r[m]);return u}function Hx(n){return window.getComputedStyle(n)}class qx extends cA{constructor(){super(...arguments),this.type="html",this.renderInstance=pA}readValueFromInstance(t,e){var r;if(Bo.has(e))return(r=this.projection)!=null&&r.isProjecting?Vp(e):uI(t,e);{const o=Hx(t),u=(w1(e)?o.getPropertyValue(e):o[e])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(t,{transformPagePoint:e}){return mA(t,e)}build(t,e,r){Yg(t,e,r.transformTemplate)}scrapeMotionValuesFromProps(t,e,r){return Qg(t,e,r)}}const Gx={offset:"stroke-dashoffset",array:"stroke-dasharray"},Kx={offset:"strokeDashoffset",array:"strokeDasharray"};function Yx(n,t,e=1,r=0,o=!0){n.pathLength=1;const u=o?Gx:Kx;n[u.offset]=`${-r}`,n[u.array]=`${t} ${e}`}const Qx=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function yA(n,{attrX:t,attrY:e,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...m},p,g,v){if(Yg(n,m,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:S}=n;E.transform&&(S.transform=E.transform,delete E.transform),(S.transform||E.transformOrigin)&&(S.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),S.transform&&(S.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete E.transformBox);for(const C of Qx)E[C]!==void 0&&(S[C]=E[C],delete E[C]);t!==void 0&&(E.x=t),e!==void 0&&(E.y=e),r!==void 0&&(E.scale=r),o!==void 0&&Yx(E,o,u,c,!1)}const vA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),_A=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Xx(n,t,e,r){pA(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(vA.has(o)?o:jg(o),t.attrs[o])}function TA(n,t,e){const r=Qg(n,t,e);for(const o in n)if(rn(n[o])||rn(t[o])){const u=jo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}class $x extends cA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Le}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Bo.has(e)){const r=J1(e);return r&&r.default||0}return e=vA.has(e)?e:jg(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,r){return TA(t,e,r)}build(t,e,r){yA(t,e,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,e,r,o){Xx(t,e,r,o)}mount(t){this.isSVGTag=_A(t.tagName),super.mount(t)}}const Wx=Kg.length;function EA(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?EA(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<Wx;e++){const r=Kg[e],o=n.props[r];(Su(o)||o===!1)&&(t[r]=o)}return t}function SA(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let r=0;r<e;r++)if(t[r]!==n[r])return!1;return!0}const Zx=[...Gg].reverse(),Jx=Gg.length;function tD(n){return t=>Promise.all(t.map(({animation:e,options:r})=>$I(n,e,r)))}function eD(n){let t=tD(n),e=YT(),r=!0;const o=p=>(g,v)=>{var S;const E=Ao(n,v,p==="exit"?(S=n.presenceContext)==null?void 0:S.custom:void 0);if(E){const{transition:C,transitionEnd:x,...z}=E;g={...g,...z,...x}}return g};function u(p){t=p(n)}function c(p){const{props:g}=n,v=EA(n.parent)||{},E=[],S=new Set;let C={},x=1/0;for(let L=0;L<Jx;L++){const q=Zx[L],W=e[q],Q=g[q]!==void 0?g[q]:v[q],st=Su(Q),nt=q===p?W.isActive:null;nt===!1&&(x=L);let ut=Q===v[q]&&Q!==g[q]&&st;if(ut&&r&&n.manuallyAnimateOnMount&&(ut=!1),W.protectedKeys={...C},!W.isActive&&nt===null||!Q&&!W.prevProp||Rf(Q)||typeof Q=="boolean")continue;if(q==="exit"&&W.isActive&&nt!==!0){W.prevResolvedValues&&(C={...C,...W.prevResolvedValues});continue}const I=nD(W.prevProp,Q);let w=I||q===p&&W.isActive&&!ut&&st||L>x&&st,R=!1;const N=Array.isArray(Q)?Q:[Q];let M=N.reduce(o(q),{});nt===!1&&(M={});const{prevResolvedValues:U={}}=W,D={...U,...M},te=rt=>{w=!0,S.has(rt)&&(R=!0,S.delete(rt)),W.needsAnimating[rt]=!0;const ft=n.getValue(rt);ft&&(ft.liveStyle=!1)};for(const rt in D){const ft=M[rt],It=U[rt];if(C.hasOwnProperty(rt))continue;let Nt=!1;kp(ft)&&kp(It)?Nt=!SA(ft,It):Nt=ft!==It,Nt?ft!=null?te(rt):S.add(rt):ft!==void 0&&S.has(rt)?te(rt):W.protectedKeys[rt]=!0}W.prevProp=Q,W.prevResolvedValues=M,W.isActive&&(C={...C,...M}),r&&n.blockInitialAnimation&&(w=!1);const fe=ut&&I;w&&(!fe||R)&&E.push(...N.map(rt=>{const ft={type:q};if(typeof rt=="string"&&r&&!fe&&n.manuallyAnimateOnMount&&n.parent){const{parent:It}=n,Nt=Ao(It,rt);if(It.enteringChildren&&Nt){const{delayChildren:P}=Nt.transition||{};ft.delay=q1(It.enteringChildren,n,P)}}return{animation:rt,options:ft}}))}if(S.size){const L={};if(typeof g.initial!="boolean"){const q=Ao(n,Array.isArray(g.initial)?g.initial[0]:g.initial);q&&q.transition&&(L.transition=q.transition)}S.forEach(q=>{const W=n.getBaseTarget(q),Q=n.getValue(q);Q&&(Q.liveStyle=!0),L[q]=W??null}),E.push({animation:L})}let z=!!E.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(z=!1),r=!1,z?t(E):Promise.resolve()}function m(p,g){var E;if(e[p].isActive===g)return Promise.resolve();(E=n.variantChildren)==null||E.forEach(S=>{var C;return(C=S.animationState)==null?void 0:C.setActive(p,g)}),e[p].isActive=g;const v=c(p);for(const S in e)e[S].protectedKeys={};return v}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>e,reset:()=>{e=YT()}}}function nD(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!SA(t,n):!1}function Jr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function YT(){return{animate:Jr(!0),whileInView:Jr(),whileHover:Jr(),whileTap:Jr(),whileDrag:Jr(),whileFocus:Jr(),exit:Jr()}}function QT(n,t){n.min=t.min,n.max=t.max}function ri(n,t){QT(n.x,t.x),QT(n.y,t.y)}function XT(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}const AA=1e-4,iD=1-AA,sD=1+AA,bA=.01,rD=0-bA,aD=0+bA;function hn(n){return n.max-n.min}function oD(n,t,e){return Math.abs(n-t)<=e}function $T(n,t,e,r=.5){n.origin=r,n.originPoint=ce(t.min,t.max,n.origin),n.scale=hn(e)/hn(t),n.translate=ce(e.min,e.max,n.origin)-n.originPoint,(n.scale>=iD&&n.scale<=sD||isNaN(n.scale))&&(n.scale=1),(n.translate>=rD&&n.translate<=aD||isNaN(n.translate))&&(n.translate=0)}function hu(n,t,e,r){$T(n.x,t.x,e.x,r?r.originX:void 0),$T(n.y,t.y,e.y,r?r.originY:void 0)}function WT(n,t,e){n.min=e.min+t.min,n.max=n.min+hn(t)}function lD(n,t,e){WT(n.x,t.x,e.x),WT(n.y,t.y,e.y)}function ZT(n,t,e){n.min=t.min-e.min,n.max=n.min+hn(t)}function ef(n,t,e){ZT(n.x,t.x,e.x),ZT(n.y,t.y,e.y)}function JT(n,t,e,r,o){return n-=t,n=tf(n,1/e,r),o!==void 0&&(n=tf(n,1/o,r)),n}function uD(n,t=0,e=1,r=.5,o,u=n,c=n){if(zi.test(t)&&(t=parseFloat(t),t=ce(c.min,c.max,t/100)-c.min),typeof t!="number")return;let m=ce(u.min,u.max,r);n===u&&(m-=t),n.min=JT(n.min,t,e,m,o),n.max=JT(n.max,t,e,m,o)}function tE(n,t,[e,r,o],u,c){uD(n,t[e],t[r],t[o],t.scale,u,c)}const cD=["x","scaleX","originX"],hD=["y","scaleY","originY"];function eE(n,t,e,r){tE(n.x,t,cD,e?e.x:void 0,r?r.x:void 0),tE(n.y,t,hD,e?e.y:void 0,r?r.y:void 0)}function nE(n){return n.translate===0&&n.scale===1}function wA(n){return nE(n.x)&&nE(n.y)}function iE(n,t){return n.min===t.min&&n.max===t.max}function fD(n,t){return iE(n.x,t.x)&&iE(n.y,t.y)}function sE(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function RA(n,t){return sE(n.x,t.x)&&sE(n.y,t.y)}function rE(n){return hn(n.x)/hn(n.y)}function aE(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}function ki(n){return[n("x"),n("y")]}function dD(n,t,e){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,c=(e==null?void 0:e.z)||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:g,rotate:v,rotateX:E,rotateY:S,skewX:C,skewY:x}=e;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),E&&(r+=`rotateX(${E}deg) `),S&&(r+=`rotateY(${S}deg) `),C&&(r+=`skewX(${C}deg) `),x&&(r+=`skewY(${x}deg) `)}const m=n.x.scale*t.x,p=n.y.scale*t.y;return(m!==1||p!==1)&&(r+=`scale(${m}, ${p})`),r||"none"}const CA=["TopLeft","TopRight","BottomLeft","BottomRight"],mD=CA.length,oE=n=>typeof n=="string"?parseFloat(n):n,lE=n=>typeof n=="number"||mt.test(n);function pD(n,t,e,r,o,u){o?(n.opacity=ce(0,e.opacity??1,gD(r)),n.opacityExit=ce(t.opacity??1,0,yD(r))):u&&(n.opacity=ce(t.opacity??1,e.opacity??1,r));for(let c=0;c<mD;c++){const m=`border${CA[c]}Radius`;let p=uE(t,m),g=uE(e,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||lE(p)===lE(g)?(n[m]=Math.max(ce(oE(p),oE(g),r),0),(zi.test(g)||zi.test(p))&&(n[m]+="%")):n[m]=g}(t.rotate||e.rotate)&&(n.rotate=ce(t.rotate||0,e.rotate||0,r))}function uE(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const gD=IA(0,.5,_1),yD=IA(.5,.95,Kn);function IA(n,t,e){return r=>r<n?0:r>t?1:e(_u(n,t,r))}function vD(n,t,e){const r=rn(n)?n:Vo(n);return r.start(Ug("",r,t,e)),r.animation}function Au(n,t,e,r={passive:!0}){return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e)}const _D=(n,t)=>n.depth-t.depth;class TD{constructor(){this.children=[],this.isDirty=!1}add(t){Ag(this.children,t),this.isDirty=!0}remove(t){Xh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(_D),this.isDirty=!1,this.children.forEach(t)}}function ED(n,t){const e=cn.now(),r=({timestamp:o})=>{const u=o-e;u>=t&&(mr(r),n(u-t))};return ne.setup(r,!0),()=>mr(r)}function kh(n){return rn(n)?n.get():n}class SD{constructor(){this.members=[]}add(t){Ag(this.members,t);for(let e=this.members.length-1;e>=0;e--){const r=this.members[e];if(r===t||r===this.lead||r===this.prevLead)continue;const o=r.instance;o&&o.isConnected===!1&&r.isPresent!==!1&&!r.snapshot&&Xh(this.members,r)}t.scheduleRender()}remove(t){if(Xh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(o=>t===o);if(e===0)return!1;let r;for(let o=e;o>=0;o--){const u=this.members[o],c=u.instance;if(u.isPresent!==!1&&(!c||c.isConnected!==!1)){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,e){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender();const o=r.options.layoutDependency,u=t.options.layoutDependency;if(!(o!==void 0&&u!==void 0&&o===u)){const p=r.instance;p&&p.isConnected===!1&&!r.snapshot||(t.resumeFrom=r,e&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:m}=t.options;m===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:r}=t;e.onExitComplete&&e.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Uh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},sp=["","X","Y","Z"],AD=1e3;let bD=0;function rp(n,t,e,r){const{latestValues:o}=t;o[n]&&(e[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function xA(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=X1(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",ne,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&xA(r)}function DA({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},m=t==null?void 0:t()){this.id=bD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(CD),this.nodes.forEach(VD),this.nodes.forEach(MD),this.nodes.forEach(ID)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new TD)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new wg),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const p=this.eventHandlers.get(c);p&&p.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=qg(c)&&!Rx(c),this.instance=c;const{layoutId:m,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||m)&&(this.isLayoutDirty=!0),n){let v,E=0;const S=()=>this.root.updateBlockedByResize=!1;ne.read(()=>{E=window.innerWidth}),n(c,()=>{const C=window.innerWidth;C!==E&&(E=C,this.root.updateBlockedByResize=!0,v&&v(),v=ED(S,250),Uh.hasAnimatedSinceResize&&(Uh.hasAnimatedSinceResize=!1,this.nodes.forEach(fE)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&g&&(m||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:E,hasRelativeLayoutChanged:S,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||g.getDefaultTransition()||kD,{onLayoutAnimationStart:z,onLayoutAnimationComplete:L}=g.getProps(),q=!this.targetLayout||!RA(this.targetLayout,C),W=!E&&S;if(this.options.layoutRoot||this.resumeFrom||W||E&&(q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Q={...kg(x,"layout"),onPlay:z,onComplete:L};(g.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q),this.setAnimationOrigin(v,W)}else E||fE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),mr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ND),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(cE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(hE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(DD),this.nodes.forEach(wD),this.nodes.forEach(RD)):this.nodes.forEach(hE),this.clearAllSnapshots();const m=cn.now();$e.delta=qi(0,1e3/60,m-$e.timestamp),$e.timestamp=m,$e.isProcessing=!0,$m.update.process($e),$m.preRender.process($e),$m.render.process($e),$e.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xD),this.sharedNodes.forEach(OD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ne.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ne.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hn(this.snapshot.measuredBox.x)&&!hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!wA(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(m||ea(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return c&&(p=this.removeTransform(p)),UD(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:c}=this.options;if(!c)return Le();const m=c.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(zD))){const{scroll:v}=this.root;v&&(Eo(m.x,v.offset.x),Eo(m.y,v.offset.y))}return m}removeElementScroll(c){var p;const m=Le();if(ri(m,c),(p=this.scroll)!=null&&p.wasRoot)return m;for(let g=0;g<this.path.length;g++){const v=this.path[g],{scroll:E,options:S}=v;v!==this.root&&E&&S.layoutScroll&&(E.wasRoot&&ri(m,c),Eo(m.x,E.offset.x),Eo(m.y,E.offset.y))}return m}applyTransform(c,m=!1){const p=Le();ri(p,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!m&&v.options.layoutScroll&&v.scroll&&v!==v.root&&So(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),ea(v.latestValues)&&So(p,v.latestValues)}return ea(this.latestValues)&&So(p,this.latestValues),p}removeTransform(c){const m=Le();ri(m,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!ea(g.latestValues))continue;qp(g.latestValues)&&g.updateSnapshot();const v=Le(),E=g.measurePageBox();ri(v,E),eE(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return ea(this.latestValues)&&eE(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$e.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var C;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:E}=this.options;if(!this.layout||!(v||E))return;this.resolvedRelativeTargetAt=$e.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Le(),this.targetWithTransforms=Le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ri(this.target,this.layout.layoutBox),dA(this.target,this.targetDelta)):ri(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||qp(this.parent.latestValues)||fA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,m,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),ef(this.relativeTargetOrigin,m,p),ri(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var x;const c=this.getLead(),m=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===$e.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;ri(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,S=this.treeScale.y;kx(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Le());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(XT(this.prevProjectionDelta.x,this.projectionDelta.x),XT(this.prevProjectionDelta.y,this.projectionDelta.y)),hu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==S||!aE(this.projectionDelta.x,this.prevProjectionDelta.x)||!aE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var m;if((m=this.options.visualElement)==null||m.scheduleRender(),c){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=To(),this.projectionDelta=To(),this.projectionDeltaWithTransform=To()}setAnimationOrigin(c,m=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},E=To();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const S=Le(),C=p?p.source:void 0,x=this.layout?this.layout.source:void 0,z=C!==x,L=this.getStack(),q=!L||L.members.length<=1,W=!!(z&&!q&&this.options.crossfade===!0&&!this.path.some(LD));this.animationProgress=0;let Q;this.mixTargetDelta=st=>{const nt=st/1e3;dE(E.x,c.x,nt),dE(E.y,c.y,nt),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ef(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),PD(this.relativeTarget,this.relativeTargetOrigin,S,nt),Q&&fD(this.relativeTarget,Q)&&(this.isProjectionDirty=!1),Q||(Q=Le()),ri(Q,this.relativeTarget)),z&&(this.animationValues=v,pD(v,g,this.latestValues,nt,W,q)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=nt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var m,p,g;this.notifyListeners("animationStart"),(m=this.currentAnimation)==null||m.stop(),(g=(p=this.resumingFrom)==null?void 0:p.currentAnimation)==null||g.stop(),this.pendingAnimation&&(mr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ne.update(()=>{Uh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Vo(0)),this.motionValue.jump(0,!1),this.currentAnimation=vD(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),c.onUpdate&&c.onUpdate(v)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(AD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:v}=c;if(!(!m||!p||!g)){if(this!==c&&this.layout&&g&&VA(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Le();const E=hn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+E;const S=hn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+S}ri(m,p),So(m,v),hu(this.projectionDeltaWithTransform,this.layoutCorrected,m,v)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new SD),this.sharedNodes.get(c).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var m;const{layoutId:c}=this.options;return c?((m=this.getStack())==null?void 0:m.lead)||this:this}getPrevLead(){var m;const{layoutId:c}=this.options;return c?(m=this.getStack())==null?void 0:m.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&rp("z",c,g,this.animationValues);for(let v=0;v<sp.length;v++)rp(`rotate${sp[v]}`,c,g,this.animationValues),rp(`skew${sp[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=kh(m==null?void 0:m.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=kh(m==null?void 0:m.pointerEvents)||""),this.hasProjected&&!ea(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let E=dD(this.projectionDeltaWithTransform,this.treeScale,v);p&&(E=p(v,E)),c.transform=E;const{x:S,y:C}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${C.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const x in Kp){if(v[x]===void 0)continue;const{correct:z,applyTo:L,isCSSVariable:q}=Kp[x],W=E==="none"?v[x]:z(v[x],g);if(L){const Q=L.length;for(let st=0;st<Q;st++)c[L[st]]=W}else q?this.options.visualElement.renderState.vars[x]=W:c[x]=W}this.options.layoutId&&(c.pointerEvents=g===this?kh(m==null?void 0:m.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var m;return(m=c.currentAnimation)==null?void 0:m.stop()}),this.root.nodes.forEach(cE),this.root.sharedNodes.clear()}}}function wD(n){n.updateLayout()}function RD(n){var e;const t=((e=n.resumeFrom)==null?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=n.layout,{animationType:u}=n.options,c=t.source!==n.layout.source;u==="size"?ki(E=>{const S=c?t.measuredBox[E]:t.layoutBox[E],C=hn(S);S.min=r[E].min,S.max=S.min+C}):VA(u,t.layoutBox,r)&&ki(E=>{const S=c?t.measuredBox[E]:t.layoutBox[E],C=hn(r[E]);S.max=S.min+C,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[E].max=n.relativeTarget[E].min+C)});const m=To();hu(m,r,t.layoutBox);const p=To();c?hu(p,n.applyTransform(o,!0),t.measuredBox):hu(p,r,t.layoutBox);const g=!wA(m);let v=!1;if(!n.resumeFrom){const E=n.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:S,layout:C}=E;if(S&&C){const x=Le();ef(x,t.layoutBox,S.layoutBox);const z=Le();ef(z,r,C.layoutBox),RA(x,z)||(v=!0),E.options.layoutRoot&&(n.relativeTarget=z,n.relativeTargetOrigin=x,n.relativeParent=E)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:p,layoutDelta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function CD(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function ID(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function xD(n){n.clearSnapshot()}function cE(n){n.clearMeasurements()}function hE(n){n.isLayoutDirty=!1}function DD(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function fE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function VD(n){n.resolveTargetDelta()}function MD(n){n.calcProjection()}function ND(n){n.resetSkewAndRotation()}function OD(n){n.removeLeadSnapshot()}function dE(n,t,e){n.translate=ce(t.translate,0,e),n.scale=ce(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function mE(n,t,e,r){n.min=ce(t.min,e.min,r),n.max=ce(t.max,e.max,r)}function PD(n,t,e,r){mE(n.x,t.x,e.x,r),mE(n.y,t.y,e.y,r)}function LD(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const kD={duration:.45,ease:[.4,0,.1,1]},pE=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),gE=pE("applewebkit/")&&!pE("chrome/")?Math.round:Kn;function yE(n){n.min=gE(n.min),n.max=gE(n.max)}function UD(n){yE(n.x),yE(n.y)}function VA(n,t,e){return n==="position"||n==="preserve-aspect"&&!oD(rE(t),rE(e),.2)}function zD(n){var t;return n!==n.root&&((t=n.scroll)==null?void 0:t.wasRoot)}const jD=DA({attachResizeListener:(n,t)=>Au(n,"resize",t),measureScroll:()=>{var n,t;return{x:document.documentElement.scrollLeft||((n=document.body)==null?void 0:n.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),ap={current:void 0},MA=DA({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!ap.current){const n=new jD({});n.mount(window),n.setOptions({layoutScroll:!0}),ap.current=n}return ap.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Xg=at.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function vE(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function BD(...n){return t=>{let e=!1;const r=n.map(o=>{const u=vE(o,t);return!e&&typeof u=="function"&&(e=!0),u});if(e)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():vE(n[o],null)}}}}function FD(...n){return at.useCallback(BD(...n),n)}class HD extends at.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=e.offsetParent,o=Fp(r)&&r.offsetWidth||0,u=Fp(r)&&r.offsetHeight||0,c=this.props.sizeRef.current;c.height=e.offsetHeight||0,c.width=e.offsetWidth||0,c.top=e.offsetTop,c.left=e.offsetLeft,c.right=o-c.width-c.left,c.bottom=u-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function qD({children:n,isPresent:t,anchorX:e,anchorY:r,root:o,pop:u}){var S;const c=at.useId(),m=at.useRef(null),p=at.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:g}=at.useContext(Xg),v=((S=n.props)==null?void 0:S.ref)??(n==null?void 0:n.ref),E=FD(m,v);return at.useInsertionEffect(()=>{const{width:C,height:x,top:z,left:L,right:q,bottom:W}=p.current;if(t||u===!1||!m.current||!C||!x)return;const Q=e==="left"?`left: ${L}`:`right: ${q}`,st=r==="bottom"?`bottom: ${W}`:`top: ${z}`;m.current.dataset.motionPopId=c;const nt=document.createElement("style");g&&(nt.nonce=g);const ut=o??document.head;return ut.appendChild(nt),nt.sheet&&nt.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${C}px !important;
            height: ${x}px !important;
            ${Q}px !important;
            ${st}px !important;
          }
        `),()=>{ut.contains(nt)&&ut.removeChild(nt)}},[t]),Y.jsx(HD,{isPresent:t,childRef:m,sizeRef:p,pop:u,children:u===!1?n:at.cloneElement(n,{ref:E})})}const GD=({children:n,initial:t,isPresent:e,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:m,anchorY:p,root:g})=>{const v=Sg(KD),E=at.useId();let S=!0,C=at.useMemo(()=>(S=!1,{id:E,initial:t,isPresent:e,custom:o,onExitComplete:x=>{v.set(x,!0);for(const z of v.values())if(!z)return;r&&r()},register:x=>(v.set(x,!1),()=>v.delete(x))}),[e,v,r]);return u&&S&&(C={...C}),at.useMemo(()=>{v.forEach((x,z)=>v.set(z,!1))},[e]),at.useEffect(()=>{!e&&!v.size&&r&&r()},[e]),n=Y.jsx(qD,{pop:c==="popLayout",isPresent:e,anchorX:m,anchorY:p,root:g,children:n}),Y.jsx(wf.Provider,{value:C,children:n})};function KD(){return new Map}function NA(n=!0){const t=at.useContext(wf);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:o}=t,u=at.useId();at.useEffect(()=>{if(n)return o(u)},[n]);const c=at.useCallback(()=>n&&r&&r(u),[u,r,n]);return!e&&r?[!1,c]:[!0]}const wh=n=>n.key||"";function _E(n){const t=[];return at.Children.forEach(n,e=>{at.isValidElement(e)&&t.push(e)}),t}const OA=({children:n,custom:t,initial:e=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:m="left",anchorY:p="top",root:g})=>{const[v,E]=NA(c),S=at.useMemo(()=>_E(n),[n]),C=c&&!v?[]:S.map(wh),x=at.useRef(!0),z=at.useRef(S),L=Sg(()=>new Map),q=at.useRef(new Set),[W,Q]=at.useState(S),[st,nt]=at.useState(S);o1(()=>{x.current=!1,z.current=S;for(let w=0;w<st.length;w++){const R=wh(st[w]);C.includes(R)?(L.delete(R),q.current.delete(R)):L.get(R)!==!0&&L.set(R,!1)}},[st,C.length,C.join("-")]);const ut=[];if(S!==W){let w=[...S];for(let R=0;R<st.length;R++){const N=st[R],M=wh(N);C.includes(M)||(w.splice(R,0,N),ut.push(N))}return u==="wait"&&ut.length&&(w=ut),nt(_E(w)),Q(S),null}const{forceRender:I}=at.useContext(Eg);return Y.jsx(Y.Fragment,{children:st.map(w=>{const R=wh(w),N=c&&!v?!1:S===st||C.includes(R),M=()=>{if(q.current.has(R))return;if(q.current.add(R),L.has(R))L.set(R,!0);else return;let U=!0;L.forEach(D=>{D||(U=!1)}),U&&(I==null||I(),nt(z.current),c&&(E==null||E()),r&&r())};return Y.jsx(GD,{isPresent:N,initial:!x.current||e?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:g,onExitComplete:N?void 0:M,anchorX:m,anchorY:p,children:w},R)})})},PA=at.createContext({strict:!1}),TE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let EE=!1;function YD(){if(EE)return;const n={};for(const t in TE)n[t]={isEnabled:e=>TE[t].some(r=>!!e[r])};uA(n),EE=!0}function LA(){return YD(),Nx()}function QD(n){const t=LA();for(const e in n)t[e]={...t[e],...n[e]};uA(t)}const XD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function nf(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||XD.has(n)}let kA=n=>!nf(n);function $D(n){typeof n=="function"&&(kA=t=>t.startsWith("on")?!nf(t):n(t))}try{$D(require("@emotion/is-prop-valid").default)}catch{}function WD(n,t,e){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(kA(o)||e===!0&&nf(o)||!t&&!nf(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const If=at.createContext({});function ZD(n,t){if(Cf(n)){const{initial:e,animate:r}=n;return{initial:e===!1||Su(e)?e:void 0,animate:Su(r)?r:void 0}}return n.inherit!==!1?t:{}}function JD(n){const{initial:t,animate:e}=ZD(n,at.useContext(If));return at.useMemo(()=>({initial:t,animate:e}),[SE(t),SE(e)])}function SE(n){return Array.isArray(n)?n.join(" "):n}const $g=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function UA(n,t,e){for(const r in t)!rn(t[r])&&!gA(r,e)&&(n[r]=t[r])}function tV({transformTemplate:n},t){return at.useMemo(()=>{const e=$g();return Yg(e,t,n),Object.assign({},e.vars,e.style)},[t])}function eV(n,t){const e=n.style||{},r={};return UA(r,e,n),Object.assign(r,tV(n,t)),r}function nV(n,t){const e={},r=eV(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=r,e}const zA=()=>({...$g(),attrs:{}});function iV(n,t,e,r){const o=at.useMemo(()=>{const u=zA();return yA(u,t,_A(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};UA(u,n.style,n),o.style={...u,...o.style}}return o}const sV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Wg(n){return typeof n!="string"||n.includes("-")?!1:!!(sV.indexOf(n)>-1||/[A-Z]/u.test(n))}function rV(n,t,e,{latestValues:r},o,u=!1,c){const p=(c??Wg(n)?iV:nV)(t,r,o,n),g=WD(t,typeof n=="string",u),v=n!==at.Fragment?{...g,...p,ref:e}:{},{children:E}=t,S=at.useMemo(()=>rn(E)?E.get():E,[E]);return at.createElement(n,{...v,children:S})}function aV({scrapeMotionValuesFromProps:n,createRenderState:t},e,r,o){return{latestValues:oV(e,r,o,n),renderState:t()}}function oV(n,t,e,r){const o={},u=r(n,{});for(const S in u)o[S]=kh(u[S]);let{initial:c,animate:m}=n;const p=Cf(n),g=oA(n);t&&g&&!p&&n.inherit!==!1&&(c===void 0&&(c=t.initial),m===void 0&&(m=t.animate));let v=e?e.initial===!1:!1;v=v||c===!1;const E=v?m:c;if(E&&typeof E!="boolean"&&!Rf(E)){const S=Array.isArray(E)?E:[E];for(let C=0;C<S.length;C++){const x=zg(n,S[C]);if(x){const{transitionEnd:z,transition:L,...q}=x;for(const W in q){let Q=q[W];if(Array.isArray(Q)){const st=v?Q.length-1:0;Q=Q[st]}Q!==null&&(o[W]=Q)}for(const W in z)o[W]=z[W]}}}return o}const jA=n=>(t,e)=>{const r=at.useContext(If),o=at.useContext(wf),u=()=>aV(n,t,r,o);return e?u():Sg(u)},lV=jA({scrapeMotionValuesFromProps:Qg,createRenderState:$g}),uV=jA({scrapeMotionValuesFromProps:TA,createRenderState:zA}),cV=Symbol.for("motionComponentSymbol");function hV(n,t,e){const r=at.useRef(e);at.useInsertionEffect(()=>{r.current=e});const o=at.useRef(null);return at.useCallback(u=>{var m;u&&((m=n.onMount)==null||m.call(n,u)),t&&(u?t.mount(u):t.unmount());const c=r.current;if(typeof c=="function")if(u){const p=c(u);typeof p=="function"&&(o.current=p)}else o.current?(o.current(),o.current=null):c(u);else c&&(c.current=u)},[t])}const BA=at.createContext({});function fo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function fV(n,t,e,r,o,u){var Q,st;const{visualElement:c}=at.useContext(If),m=at.useContext(PA),p=at.useContext(wf),g=at.useContext(Xg),v=g.reducedMotion,E=g.skipAnimations,S=at.useRef(null),C=at.useRef(!1);r=r||m.renderer,!S.current&&r&&(S.current=r(n,{visualState:t,parent:c,props:e,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:v,skipAnimations:E,isSVG:u}),C.current&&S.current&&(S.current.manuallyAnimateOnMount=!0));const x=S.current,z=at.useContext(BA);x&&!x.projection&&o&&(x.type==="html"||x.type==="svg")&&dV(S.current,e,o,z);const L=at.useRef(!1);at.useInsertionEffect(()=>{x&&L.current&&x.update(e,p)});const q=e[Q1],W=at.useRef(!!q&&!((Q=window.MotionHandoffIsComplete)!=null&&Q.call(window,q))&&((st=window.MotionHasOptimisedAnimation)==null?void 0:st.call(window,q)));return o1(()=>{C.current=!0,x&&(L.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),W.current&&x.animationState&&x.animationState.animateChanges())}),at.useEffect(()=>{x&&(!W.current&&x.animationState&&x.animationState.animateChanges(),W.current&&(queueMicrotask(()=>{var nt;(nt=window.MotionHandoffMarkAsComplete)==null||nt.call(window,q)}),W.current=!1),x.enteringChildren=void 0)}),x}function dV(n,t,e,r){const{layoutId:o,layout:u,drag:c,dragConstraints:m,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:FA(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||m&&fo(m),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:p,layoutRoot:g})}function FA(n){if(n)return n.options.allowProjection!==!1?n.projection:FA(n.parent)}function op(n,{forwardMotionProps:t=!1,type:e}={},r,o){r&&QD(r);const u=e?e==="svg":Wg(n),c=u?uV:lV;function m(g,v){let E;const S={...at.useContext(Xg),...g,layoutId:mV(g)},{isStatic:C}=S,x=JD(g),z=c(g,C);if(!C&&a1){pV();const L=gV(S);E=L.MeasureLayout,x.visualElement=fV(n,z,S,o,L.ProjectionNode,u)}return Y.jsxs(If.Provider,{value:x,children:[E&&x.visualElement?Y.jsx(E,{visualElement:x.visualElement,...S}):null,rV(n,g,hV(z,x.visualElement,v),z,C,t,u)]})}m.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const p=at.forwardRef(m);return p[cV]=n,p}function mV({layoutId:n}){const t=at.useContext(Eg).id;return t&&n!==void 0?t+"-"+n:n}function pV(n,t){at.useContext(PA).strict}function gV(n){const t=LA(),{drag:e,layout:r}=t;if(!e&&!r)return{};const o={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(n)||r!=null&&r.isEnabled(n)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function yV(n,t){if(typeof Proxy>"u")return op;const e=new Map,r=(u,c)=>op(u,c,n,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(e.has(c)||e.set(c,op(c,void 0,n,t)),e.get(c))})}const vV=(n,t)=>t.isSVG??Wg(n)?new $x(t):new qx(t,{allowProjection:n!==at.Fragment});class _V extends Er{constructor(t){super(t),t.animationState||(t.animationState=eD(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Rf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let TV=0;class EV extends Er{constructor(){super(...arguments),this.id=TV++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);e&&!t&&o.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const SV={animation:{Feature:_V},exit:{Feature:EV}};function ku(n){return{point:{x:n.pageX,y:n.pageY}}}const AV=n=>t=>Hg(t)&&n(t,ku(t));function fu(n,t,e,r){return Au(n,t,AV(e),r)}const HA=({current:n})=>n?n.ownerDocument.defaultView:null,AE=(n,t)=>Math.abs(n-t);function bV(n,t){const e=AE(n.x,t.x),r=AE(n.y,t.y);return Math.sqrt(e**2+r**2)}const bE=new Set(["auto","scroll"]);class qA{constructor(t,e,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3,element:m}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=C=>{this.handleScroll(C.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=up(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,z=bV(C.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!z)return;const{point:L}=C,{timestamp:q}=$e;this.history.push({...L,timestamp:q});const{onStart:W,onMove:Q}=this.handlers;x||(W&&W(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),Q&&Q(this.lastMoveEvent,C)},this.handlePointerMove=(C,x)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=lp(x,this.transformPagePoint),ne.update(this.updatePoint,!0)},this.handlePointerUp=(C,x)=>{this.end();const{onEnd:z,onSessionEnd:L,resumeAnimation:q}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&q&&q(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const W=up(C.type==="pointercancel"?this.lastMoveEventInfo:lp(x,this.transformPagePoint),this.history);this.startEvent&&z&&z(C,W),L&&L(C,W)},!Hg(t))return;this.dragSnapToOrigin=u,this.handlers=e,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const p=ku(t),g=lp(p,this.transformPagePoint),{point:v}=g,{timestamp:E}=$e;this.history=[{...v,timestamp:E}];const{onSessionStart:S}=e;S&&S(t,up(g,this.history)),this.removeListeners=Ou(fu(this.contextWindow,"pointermove",this.handlePointerMove),fu(this.contextWindow,"pointerup",this.handlePointerUp),fu(this.contextWindow,"pointercancel",this.handlePointerUp)),m&&this.startScrollTracking(m)}startScrollTracking(t){let e=t.parentElement;for(;e;){const r=getComputedStyle(e);(bE.has(r.overflowX)||bE.has(r.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0}),window.addEventListener("scroll",this.onWindowScroll),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const r=t===window,o=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},u={x:o.x-e.x,y:o.y-e.y};u.x===0&&u.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=u.x,this.lastMoveEventInfo.point.y+=u.y):this.history.length>0&&(this.history[0].x-=u.x,this.history[0].y-=u.y),this.scrollPositions.set(t,o),ne.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),mr(this.updatePoint)}}function lp(n,t){return t?{point:t(n.point)}:n}function wE(n,t){return{x:n.x-t.x,y:n.y-t.y}}function up({point:n},t){return{point:n,delta:wE(n,GA(t)),offset:wE(n,wV(t)),velocity:RV(t,.1)}}function wV(n){return n[0]}function GA(n){return n[n.length-1]}function RV(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,r=null;const o=GA(n);for(;e>=0&&(r=n[e],!(o.timestamp-r.timestamp>ci(t)));)e--;if(!r)return{x:0,y:0};r===n[0]&&n.length>2&&o.timestamp-r.timestamp>ci(t)*2&&(r=n[1]);const u=Gn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function CV(n,{min:t,max:e},r){return t!==void 0&&n<t?n=r?ce(t,n,r.min):Math.max(n,t):e!==void 0&&n>e&&(n=r?ce(e,n,r.max):Math.min(n,e)),n}function RE(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function IV(n,{top:t,left:e,bottom:r,right:o}){return{x:RE(n.x,e,o),y:RE(n.y,t,r)}}function CE(n,t){let e=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,r]=[r,e]),{min:e,max:r}}function xV(n,t){return{x:CE(n.x,t.x),y:CE(n.y,t.y)}}function DV(n,t){let e=.5;const r=hn(n),o=hn(t);return o>r?e=_u(t.min,t.max-r,n.min):r>o&&(e=_u(n.min,n.max-o,t.min)),qi(0,1,e)}function VV(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const Yp=.35;function MV(n=Yp){return n===!1?n=0:n===!0&&(n=Yp),{x:IE(n,"left","right"),y:IE(n,"top","bottom")}}function IE(n,t,e){return{min:xE(n,t),max:xE(n,e)}}function xE(n,t){return typeof n=="number"?n:n[t]||0}const NV=new WeakMap;class OV{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Le(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=E=>{e&&this.snapToCursor(ku(E).point),this.stopAnimation()},c=(E,S)=>{const{drag:C,dragPropagation:x,onDragStart:z}=this.getProps();if(C&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ux(C),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ki(q=>{let W=this.getAxisMotionValue(q).get()||0;if(zi.test(W)){const{projection:Q}=this.visualElement;if(Q&&Q.layout){const st=Q.layout.layoutBox[q];st&&(W=hn(st)*(parseFloat(W)/100))}}this.originPoint[q]=W}),z&&ne.update(()=>z(E,S),!1,!0),Up(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},m=(E,S)=>{this.latestPointerEvent=E,this.latestPanInfo=S;const{dragPropagation:C,dragDirectionLock:x,onDirectionLock:z,onDrag:L}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:q}=S;if(x&&this.currentDirection===null){this.currentDirection=LV(q),this.currentDirection!==null&&z&&z(this.currentDirection);return}this.updateAxis("x",S.point,q),this.updateAxis("y",S.point,q),this.visualElement.render(),L&&ne.update(()=>L(E,S),!1,!0)},p=(E,S)=>{this.latestPointerEvent=E,this.latestPanInfo=S,this.stop(E,S),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>{const{dragSnapToOrigin:E}=this.getProps();(E||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:v}=this.getProps();this.panSession=new qA(t,{onSessionStart:u,onStart:c,onMove:m,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:HA(this.visualElement),element:this.visualElement.current})}stop(t,e){const r=t||this.latestPointerEvent,o=e||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:m}=this.getProps();m&&ne.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,e,r){const{drag:o}=this.getProps();if(!r||!Rh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=CV(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:t,dragElastic:e}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,o=this.constraints;t&&fo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=IV(r.layoutBox,t):this.constraints=!1,this.elastic=MV(e),o!==this.constraints&&!fo(t)&&r&&this.constraints&&!this.hasMutatedConstraints&&ki(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=VV(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!fo(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=Ux(r,o.root,this.visualElement.getTransformPagePoint());let c=xV(o.layout.layoutBox,u);if(e){const m=e(Px(c));this.hasMutatedConstraints=!!m,m&&(c=hA(m))}return c}startAnimation(t){const{drag:e,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=ki(v=>{if(!Rh(v,e,this.currentDirection))return;let E=p&&p[v]||{};c&&(E={min:0,max:0});const S=o?200:1e6,C=o?40:1e7,x={type:"inertia",velocity:r?t[v]:0,bounceStiffness:S,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(v,x)});return Promise.all(g).then(m)}startAxisValueAnimation(t,e){const r=this.getAxisMotionValue(t);return Up(this.visualElement,t),r.start(Ug(t,r,0,e,this.visualElement,!1))}stopAnimation(){ki(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[e];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ki(e=>{const{drag:r}=this.getProps();if(!Rh(e,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(e);if(o&&o.layout){const{min:c,max:m}=o.layout.layoutBox[e],p=u.get()||0;u.set(t[e]-ce(c,m,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:r}=this.visualElement;if(!fo(e)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};ki(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const p=m.get();o[c]=DV({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),ki(c=>{if(!Rh(c,t,null))return;const m=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];m.set(ce(p,g,o[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;NV.set(this.visualElement,this);const t=this.visualElement.current,e=fu(t,"pointerdown",g=>{const{drag:v,dragListener:E=!0}=this.getProps(),S=g.target,C=S!==t&&px(S);v&&E&&!C&&this.start(g)});let r;const o=()=>{const{dragConstraints:g}=this.getProps();fo(g)&&g.current&&(this.constraints=this.resolveRefConstraints(),r||(r=PV(t,g.current,()=>this.scalePositionWithinConstraints())))},{projection:u}=this.visualElement,c=u.addEventListener("measure",o);u&&!u.layout&&(u.root&&u.root.updateScroll(),u.updateLayout()),ne.read(o);const m=Au(window,"resize",()=>this.scalePositionWithinConstraints()),p=u.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:v})=>{this.isDragging&&v&&(ki(E=>{const S=this.getAxisMotionValue(E);S&&(this.originPoint[E]+=g[E].translate,S.set(S.get()+g[E].translate))}),this.visualElement.render())}));return()=>{m(),e(),c(),p&&p(),r&&r()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Yp,dragMomentum:m=!0}=t;return{...t,drag:e,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function DE(n){let t=!0;return()=>{if(t){t=!1;return}n()}}function PV(n,t,e){const r=kT(n,DE(e)),o=kT(t,DE(e));return()=>{r(),o()}}function Rh(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function LV(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class kV extends Er{constructor(t){super(t),this.removeGroupControls=Kn,this.removeListeners=Kn,this.controls=new OV(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Kn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const cp=n=>(t,e)=>{n&&ne.update(()=>n(t,e),!1,!0)};class UV extends Er{constructor(){super(...arguments),this.removePointerDownListener=Kn}onPointerDown(t){this.session=new qA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:HA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:cp(t),onStart:cp(e),onMove:cp(r),onEnd:(u,c)=>{delete this.session,o&&ne.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=fu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let hp=!1;class zV extends at.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;u&&(e.group&&e.group.add(u),r&&r.register&&o&&r.register(u),hp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Uh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,t.layoutDependency!==e&&c.setOptions({...c.options,layoutDependency:e}),hp=!0,o||t.layoutDependency!==e||e===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||ne.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Fg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r}=this.props,{projection:o}=t;hp=!0,o&&(o.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function KA(n){const[t,e]=NA(),r=at.useContext(Eg);return Y.jsx(zV,{...n,layoutGroup:r,switchLayoutGroup:at.useContext(BA),isPresent:t,safeToRemove:e})}const jV={pan:{Feature:UV},drag:{Feature:kV,ProjectionNode:MA,MeasureLayout:KA}};function VE(n,t,e){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",e==="Start");const o="onHover"+e,u=r[o];u&&ne.postRender(()=>u(t,ku(t)))}class BV extends Er{mount(){const{current:t}=this.node;t&&(this.unmount=hx(t,(e,r)=>(VE(this.node,r,"Start"),o=>VE(this.node,o,"End"))))}unmount(){}}class FV extends Er{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ou(Au(this.node.current,"focus",()=>this.onFocus()),Au(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ME(n,t,e){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",e==="Start");const o="onTap"+(e==="End"?"":e),u=r[o];u&&ne.postRender(()=>u(t,ku(t)))}class HV extends Er{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:e,propagate:r}=this.node.props;this.unmount=yx(t,(o,u)=>(ME(this.node,u,"Start"),(c,{success:m})=>ME(this.node,c,m?"End":"Cancel")),{useGlobalTarget:e,stopPropagation:(r==null?void 0:r.tap)===!1})}unmount(){}}const Qp=new WeakMap,fp=new WeakMap,qV=n=>{const t=Qp.get(n.target);t&&t(n)},GV=n=>{n.forEach(qV)};function KV({root:n,...t}){const e=n||document;fp.has(e)||fp.set(e,{});const r=fp.get(e),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(GV,{root:n,...t})),r[o]}function YV(n,t,e){const r=KV(t);return Qp.set(n,e),r.observe(n),()=>{Qp.delete(n),r.unobserve(n)}}const QV={some:0,all:1};class XV extends Er{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:r,amount:o="some",once:u}=t,c={root:e?e.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:QV[o]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),S=g?v:E;S&&S(p)};return YV(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some($V(t,e))&&this.startObserver()}unmount(){}}function $V({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const WV={inView:{Feature:XV},tap:{Feature:HV},focus:{Feature:FV},hover:{Feature:BV}},ZV={layout:{ProjectionNode:MA,MeasureLayout:KA}},JV={...SV,...WV,...jV,...ZV},ha=yV(JV,vV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eM=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,r)=>r?r.toUpperCase():e.toLowerCase()),NE=n=>{const t=eM(n);return t.charAt(0).toUpperCase()+t.slice(1)},YA=(...n)=>n.filter((t,e,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===e).join(" ").trim(),nM=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=at.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:c,...m},p)=>at.createElement("svg",{ref:p,...iM,width:t,height:t,stroke:n,strokeWidth:r?Number(e)*24/Number(t):e,className:YA("lucide",o),...!u&&!nM(m)&&{"aria-hidden":"true"},...m},[...c.map(([g,v])=>at.createElement(g,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=(n,t)=>{const e=at.forwardRef(({className:r,...o},u)=>at.createElement(sM,{ref:u,iconNode:t,className:YA(`lucide-${tM(NE(n))}`,`lucide-${n}`,r),...o}));return e.displayName=NE(n),e};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],QA=mi("calendar",rM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],oM=mi("chevron-down",aM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],uM=mi("circle-alert",lM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],hM=mi("hash",cM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],dM=mi("info",fM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],XA=mi("loader-circle",mM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],$A=mi("log-in",pM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],yM=mi("log-out",gM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],WA=mi("sparkles",vM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],TM=mi("user",_M);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],SM=mi("x",EM),AM=({isOpen:n,onClose:t,groupAZones:e,groupBZones:r,groupCZones:o,groupNewAZones:u,groupNewBZones:c,initialTab:m="A",onTabChange:p})=>{const[g,v]=at.useState(m);JC.useEffect(()=>{n&&v(m)},[n,m]);const E=x=>{v(x),p==null||p(x)},S=[{name:"A",zones:e},{name:"B",zones:r},{name:"C",zones:o},{name:"A",zones:u},{name:"B",zones:c}],C=S.find(x=>x.name===g)||S[0];return Y.jsx(OA,{children:n&&Y.jsxs(ha.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"fixed left-0 right-0 bottom-0 z-50 bg-white shadow-[0_-8px_30px_rgba(0,0,0,0.12)] border-t border-zinc-100 flex flex-col rounded-t-3xl",children:[Y.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-zinc-100 bg-zinc-50/50 rounded-t-3xl",children:[Y.jsx("h2",{className:"text-lg font-bold text-zinc-900",children:""}),Y.jsx("button",{onClick:t,className:"p-2 hover:bg-zinc-100 rounded-full transition-colors text-zinc-400 hover:text-zinc-600",children:Y.jsx(SM,{className:"w-5 h-5"})})]}),Y.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[Y.jsx("div",{className:"flex p-1 bg-zinc-100 rounded-xl",children:S.map(x=>Y.jsx("button",{onClick:()=>E(x.name),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${g===x.name?"bg-zinc-800 text-white shadow-md":"text-zinc-500 hover:text-zinc-700 hover:bg-zinc-200/50"}`,children:x.name},x.name))}),Y.jsx("div",{className:"grid grid-cols-3 gap-3",children:C.zones.map((x,z)=>Y.jsxs("div",{className:"bg-zinc-50 rounded-xl p-3 border border-zinc-100",children:[Y.jsxs("div",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-widest mb-2 flex items-center gap-2 justify-center",children:[Y.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-zinc-300"})," ",z+1," "]}),Y.jsx("div",{className:"flex flex-wrap gap-1.5 justify-left",children:Array.from(x).sort((L,q)=>L-q).map(L=>Y.jsx("span",{className:"w-8 h-8 flex items-center justify-center rounded-lg bg-white border border-zinc-200 text-sm font-mono font-medium text-zinc-600 shadow-sm hover:border-violet-300 hover:text-violet-600 transition-colors cursor-default",children:L},L))})]},z))})]})]})})},bM=()=>{};var OE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},wM=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const o=n[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[e++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[e++],c=n[e++],m=n[e++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=n[e++],c=n[e++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},JA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,m=c?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,v=u>>2,E=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,C=g&63;p||(C=64,c||(S=64)),r.push(e[v],e[E],e[S],e[C])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(ZA(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):wM(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=e[n.charAt(o++)],m=o<n.length?e[n.charAt(o)]:0;++o;const g=o<n.length?e[n.charAt(o)]:64;++o;const E=o<n.length?e[n.charAt(o)]:64;if(++o,u==null||m==null||g==null||E==null)throw new RM;const S=u<<2|m>>4;if(r.push(S),g!==64){const C=m<<4&240|g>>2;if(r.push(C),E!==64){const x=g<<6&192|E;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class RM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CM=function(n){const t=ZA(n);return JA.encodeByteArray(t,!0)},sf=function(n){return CM(n).replace(/\./g,"")},tb=function(n){try{return JA.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=()=>IM().__FIREBASE_DEFAULTS__,DM=()=>{if(typeof process>"u"||typeof OE>"u")return;const n=OE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},VM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&tb(n[1]);return t&&JSON.parse(t)},xf=()=>{try{return bM()||xM()||DM()||VM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},eb=n=>{var t,e;return(e=(t=xf())==null?void 0:t.emulatorHosts)==null?void 0:e[n]},MM=n=>{const t=eb(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},nb=()=>{var n;return(n=xf())==null?void 0:n.config},ib=n=>{var t;return(t=xf())==null?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sb(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[sf(JSON.stringify(e)),sf(JSON.stringify(c)),""].join(".")}const du={};function PM(){const n={prod:[],emulator:[]};for(const t of Object.keys(du))du[t]?n.emulator.push(t):n.prod.push(t);return n}function LM(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let PE=!1;function rb(n,t){if(typeof window>"u"||typeof document>"u"||!Fo(window.location.host)||du[n]===t||du[n]||PE)return;du[n]=t;function e(S){return`__firebase__banner__${S}`}const r="__firebase__banner",u=PM().prod.length>0;function c(){const S=document.getElementById(r);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,C){S.setAttribute("width","24"),S.setAttribute("id",C),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{PE=!0,c()},S}function v(S,C){S.setAttribute("id",C),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=LM(r),C=e("text"),x=document.getElementById(C)||document.createElement("span"),z=e("learnmore"),L=document.getElementById(z)||document.createElement("a"),q=e("preprendIcon"),W=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Q=S.element;m(Q),v(L,z);const st=g();p(W,q),Q.append(W,x,L,st),document.body.appendChild(Q)}u?(x.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function UM(){var t;const n=(t=xf())==null?void 0:t.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function BM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FM(){const n=an();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function HM(){return!UM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qM(){try{return typeof indexedDB=="object"}catch{return!1}}function GM(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM="FirebaseError";class Ss extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=KM,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uu.prototype.create)}}class Uu{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?YM(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Ss(o,m,r)}}function YM(n,t){return n.replace(QM,(e,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const QM=/\{\$([^}]+)}/g;function XM(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function fa(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const u=n[o],c=t[o];if(LE(u)&&LE(c)){if(!fa(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function LE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function $M(n,t){const e=new WM(n,t);return e.subscribe.bind(e)}class WM{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let o;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");ZM(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:r},o.next===void 0&&(o.next=dp),o.error===void 0&&(o.error=dp),o.complete===void 0&&(o.complete=dp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZM(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function dp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(n){return n&&n._delegate?n._delegate:n}class da{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new NM;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(eN(t))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=na){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=na){return this.instances.has(t)}getOptions(t=na){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tN(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=na){return this.component?this.component.multipleInstances?t:na:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tN(n){return n===na?void 0:n}function eN(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new JM(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Lt||(Lt={}));const iN={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},sN=Lt.INFO,rN={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},aN=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=rN[t];if(o)console[o](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Zg{constructor(t){this.name=t,this._logLevel=sN,this._logHandler=aN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?iN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const oN=(n,t)=>t.some(e=>n instanceof e);let kE,UE;function lN(){return kE||(kE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uN(){return UE||(UE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ab=new WeakMap,Xp=new WeakMap,ob=new WeakMap,mp=new WeakMap,Jg=new WeakMap;function cN(n){const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{e(cr(n.result)),o()},c=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&ab.set(e,n)}).catch(()=>{}),Jg.set(t,n),t}function hN(n){if(Xp.has(n))return;const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{e(),o()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});Xp.set(n,t)}let $p={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Xp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||ob.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return cr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function fN(n){$p=n($p)}function dN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(pp(this),t,...e);return ob.set(r,t.sort?t.sort():[t]),cr(r)}:uN().includes(n)?function(...t){return n.apply(pp(this),t),cr(ab.get(this))}:function(...t){return cr(n.apply(pp(this),t))}}function mN(n){return typeof n=="function"?dN(n):(n instanceof IDBTransaction&&hN(n),oN(n,lN())?new Proxy(n,$p):n)}function cr(n){if(n instanceof IDBRequest)return cN(n);if(mp.has(n))return mp.get(n);const t=mN(n);return t!==n&&(mp.set(n,t),Jg.set(t,n)),t}const pp=n=>Jg.get(n);function pN(n,t,{blocked:e,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(n,t),m=cr(c);return r&&c.addEventListener("upgradeneeded",p=>{r(cr(c.result),p.oldVersion,p.newVersion,cr(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const gN=["get","getKey","getAll","getAllKeys","count"],yN=["put","add","delete","clear"],gp=new Map;function zE(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(gp.get(t))return gp.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=yN.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(o||gN.includes(e)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[e](...m),o&&p.done]))[0]};return gp.set(t,u),u}fN(n=>({...n,get:(t,e,r)=>zE(t,e)||n.get(t,e,r),has:(t,e)=>!!zE(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(_N(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function _N(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Wp="@firebase/app",jE="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new Zg("@firebase/app"),TN="@firebase/app-compat",EN="@firebase/analytics-compat",SN="@firebase/analytics",AN="@firebase/app-check-compat",bN="@firebase/app-check",wN="@firebase/auth",RN="@firebase/auth-compat",CN="@firebase/database",IN="@firebase/data-connect",xN="@firebase/database-compat",DN="@firebase/functions",VN="@firebase/functions-compat",MN="@firebase/installations",NN="@firebase/installations-compat",ON="@firebase/messaging",PN="@firebase/messaging-compat",LN="@firebase/performance",kN="@firebase/performance-compat",UN="@firebase/remote-config",zN="@firebase/remote-config-compat",jN="@firebase/storage",BN="@firebase/storage-compat",FN="@firebase/firestore",HN="@firebase/ai",qN="@firebase/firestore-compat",GN="firebase",KN="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="[DEFAULT]",YN={[Wp]:"fire-core",[TN]:"fire-core-compat",[SN]:"fire-analytics",[EN]:"fire-analytics-compat",[bN]:"fire-app-check",[AN]:"fire-app-check-compat",[wN]:"fire-auth",[RN]:"fire-auth-compat",[CN]:"fire-rtdb",[IN]:"fire-data-connect",[xN]:"fire-rtdb-compat",[DN]:"fire-fn",[VN]:"fire-fn-compat",[MN]:"fire-iid",[NN]:"fire-iid-compat",[ON]:"fire-fcm",[PN]:"fire-fcm-compat",[LN]:"fire-perf",[kN]:"fire-perf-compat",[UN]:"fire-rc",[zN]:"fire-rc-compat",[jN]:"fire-gcs",[BN]:"fire-gcs-compat",[FN]:"fire-fst",[qN]:"fire-fst-compat",[HN]:"fire-vertex","fire-js":"fire-js",[GN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf=new Map,QN=new Map,Jp=new Map;function BE(n,t){try{n.container.addComponent(t)}catch(e){vs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Mo(n){const t=n.name;if(Jp.has(t))return vs.debug(`There were multiple attempts to register component ${t}.`),!1;Jp.set(t,n);for(const e of rf.values())BE(e,n);for(const e of QN.values())BE(e,n);return!0}function ty(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function oi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new Uu("app","Firebase",XN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=KN;function lb(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:Zp,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw hr.create("bad-app-name",{appName:String(o)});if(e||(e=nb()),!e)throw hr.create("no-options");const u=rf.get(o);if(u){if(fa(e,u.options)&&fa(r,u.config))return u;throw hr.create("duplicate-app",{appName:o})}const c=new nN(o);for(const p of Jp.values())c.addComponent(p);const m=new $N(e,r,c);return rf.set(o,m),m}function ub(n=Zp){const t=rf.get(n);if(!t&&n===Zp&&nb())return lb();if(!t)throw hr.create("no-app",{appName:n});return t}function fr(n,t,e){let r=YN[n]??n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),vs.warn(c.join(" "));return}Mo(new da(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="firebase-heartbeat-database",ZN=1,bu="firebase-heartbeat-store";let yp=null;function cb(){return yp||(yp=pN(WN,ZN,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(bu)}catch(e){console.warn(e)}}}}).catch(n=>{throw hr.create("idb-open",{originalErrorMessage:n.message})})),yp}async function JN(n){try{const e=(await cb()).transaction(bu),r=await e.objectStore(bu).get(hb(n));return await e.done,r}catch(t){if(t instanceof Ss)vs.warn(t.message);else{const e=hr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});vs.warn(e.message)}}}async function FE(n,t){try{const r=(await cb()).transaction(bu,"readwrite");await r.objectStore(bu).put(t,hb(n)),await r.done}catch(e){if(e instanceof Ss)vs.warn(e.message);else{const r=hr.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});vs.warn(r.message)}}}function hb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=1024,eO=30;class nO{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new sO(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,e;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=HE();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>eO){const c=rO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){vs.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=HE(),{heartbeatsToSend:r,unsentEntries:o}=iO(this._heartbeatsCache.heartbeats),u=sf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return vs.warn(e),""}}}function HE(){return new Date().toISOString().substring(0,10)}function iO(n,t=tO){const e=[];let r=n.slice();for(const o of n){const u=e.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),qE(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),qE(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class sO{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qM()?GM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await JN(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return FE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return FE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function qE(n){return sf(JSON.stringify({version:2,heartbeats:n})).length}function rO(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(n){Mo(new da("platform-logger",t=>new vN(t),"PRIVATE")),Mo(new da("heartbeat",t=>new nO(t),"PRIVATE")),fr(Wp,jE,n),fr(Wp,jE,"esm2020"),fr("fire-js","")}aO("");var oO="firebase",lO="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr(oO,lO,"app");function fb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uO=fb,db=new Uu("auth","Firebase",fb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=new Zg("@firebase/auth");function cO(n,...t){af.logLevel<=Lt.WARN&&af.warn(`Auth (${Ho}): ${n}`,...t)}function zh(n,...t){af.logLevel<=Lt.ERROR&&af.error(`Auth (${Ho}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(n,...t){throw ny(n,...t)}function fi(n,...t){return ny(n,...t)}function ey(n,t,e){const r={...uO(),[t]:e};return new Uu("auth","Firebase",r).create(t,{appName:n.name})}function la(n){return ey(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hO(n,t,e){const r=e;if(!(t instanceof r))throw r.name!==t.constructor.name&&Gi(n,"argument-error"),ey(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ny(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return db.create(n,...t)}function Et(n,t,...e){if(!n)throw ny(t,...e)}function ms(n){const t="INTERNAL ASSERTION FAILED: "+n;throw zh(t),new Error(t)}function _s(n,t){n||ms(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function fO(){return GE()==="http:"||GE()==="https:"}function GE(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fO()||jM()||"connection"in navigator)?navigator.onLine:!0}function mO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(t,e){this.shortDelay=t,this.longDelay=e,_s(e>t,"Short delay should be less than long delay!"),this.isMobile=kM()||BM()}get(){return dO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(n,t){_s(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yO=new ju(3e4,6e4);function sy(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function qo(n,t,e,r,o={}){return pb(n,o,async()=>{let u={},c={};r&&(t==="GET"?c=r:u={body:JSON.stringify(r)});const m=zu({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:p,...u};return zM()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Fo(n.emulatorConfig.host)&&(g.credentials="include"),mb.fetch()(await gb(n,n.config.apiHost,e,m),g)})}async function pb(n,t,e){n._canInitEmulator=!1;const r={...pO,...t};try{const o=new _O(n),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Ch(n,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ch(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Ch(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Ch(n,"user-disabled",c);const v=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ey(n,v,g);Gi(n,v)}}catch(o){if(o instanceof Ss)throw o;Gi(n,"network-request-failed",{message:String(o)})}}async function vO(n,t,e,r,o={}){const u=await qo(n,t,e,r,o);return"mfaPendingCredential"in u&&Gi(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function gb(n,t,e,r){const o=`${t}${e}?${r}`,u=n,c=u.config.emulator?iy(n.config,o):`${n.config.apiScheme}://${o}`;return gO.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class _O{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(fi(this.auth,"network-request-failed")),yO.get())})}}function Ch(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const o=fi(n,t,r);return o.customData._tokenResponse=e,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TO(n,t){return qo(n,"POST","/v1/accounts:delete",t)}async function of(n,t){return qo(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function EO(n,t=!1){const e=xn(n),r=await e.getIdToken(t),o=ry(r);Et(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:mu(vp(o.auth_time)),issuedAtTime:mu(vp(o.iat)),expirationTime:mu(vp(o.exp)),signInProvider:c||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function vp(n){return Number(n)*1e3}function ry(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return zh("JWT malformed, contained fewer than 3 sections"),null;try{const o=tb(e);return o?JSON.parse(o):(zh("Failed to decode base64 JWT payload"),null)}catch(o){return zh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function KE(n){const t=ry(n);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof Ss&&SO(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function SO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=mu(this.lastLoginAt),this.creationTime=mu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lf(n){var E;const t=n.auth,e=await n.getIdToken(),r=await wu(n,of(t,{idToken:e}));Et(r==null?void 0:r.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const u=(E=o.providerUserInfo)!=null&&E.length?yb(o.providerUserInfo):[],c=wO(n.providerData,u),m=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new eg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function bO(n){const t=xn(n);await lf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function wO(n,t){return[...n.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function yb(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RO(n,t){const e=await pb(n,{},async()=>{const r=zu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,c=await gb(n,o,"/v1/token",`key=${u}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return n.emulatorConfig&&Fo(n.emulatorConfig.host)&&(p.credentials="include"),mb.fetch()(c,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function CO(n,t){return qo(n,"POST","/v2/accounts:revokeToken",sy(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):KE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const e=KE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:o,expiresIn:u}=await RO(t,e);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:o,expirationTime:u}=e,c=new bo;return r&&(Et(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),o&&(Et(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(Et(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(n,t){Et(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class li{constructor({uid:t,auth:e,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new AO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new eg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await wu(this,this.stsTokenManager.getToken(this.auth,t));return Et(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return EO(this,t)}reload(){return bO(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new li({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await lf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(la(this.auth));const t=await this.getIdToken();return await wu(this,TO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,c=e.photoURL??void 0,m=e.tenantId??void 0,p=e._redirectEventId??void 0,g=e.createdAt??void 0,v=e.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:C,providerData:x,stsTokenManager:z}=e;Et(E&&z,t,"internal-error");const L=bo.fromJSON(this.name,z);Et(typeof E=="string",t,"internal-error"),nr(r,t.name),nr(o,t.name),Et(typeof S=="boolean",t,"internal-error"),Et(typeof C=="boolean",t,"internal-error"),nr(u,t.name),nr(c,t.name),nr(m,t.name),nr(p,t.name),nr(g,t.name),nr(v,t.name);const q=new li({uid:E,auth:t,email:o,emailVerified:S,displayName:r,isAnonymous:C,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:L,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(q.providerData=x.map(W=>({...W}))),p&&(q._redirectEventId=p),q}static async _fromIdTokenResponse(t,e,r=!1){const o=new bo;o.updateFromServerResponse(e);const u=new li({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await lf(u),u}static async _fromGetAccountInfoResponse(t,e,r){const o=e.users[0];Et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?yb(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new bo;m.updateFromIdToken(r);const p=new li({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new eg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=new Map;function ps(n){_s(n instanceof Function,"Expected a class definition");let t=YE.get(n);return t?(_s(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,YE.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}vb.type="NONE";const QE=vb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(n,t,e){return`firebase:${n}:${t}:${e}`}class wo{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=jh(this.userKey,o.apiKey,u),this.fullPersistenceKey=jh("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await of(this.auth,{idToken:t}).catch(()=>{});return e?li._fromGetAccountInfoResponse(this.auth,e,t):null}return li._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new wo(ps(QE),t,r);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ps(QE);const c=jh(r,t.config.apiKey,t.name);let m=null;for(const g of e)try{const v=await g._get(c);if(v){let E;if(typeof v=="string"){const S=await of(t,{idToken:v}).catch(()=>{});if(!S)break;E=await li._fromGetAccountInfoResponse(t,S,v)}else E=li._fromJSON(t,v);g!==u&&(m=E),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new wo(u,t,r):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new wo(u,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Sb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_b(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bb(t))return"Blackberry";if(wb(t))return"Webos";if(Tb(t))return"Safari";if((t.includes("chrome/")||Eb(t))&&!t.includes("edge/"))return"Chrome";if(Ab(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _b(n=an()){return/firefox\//i.test(n)}function Tb(n=an()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Eb(n=an()){return/crios\//i.test(n)}function Sb(n=an()){return/iemobile/i.test(n)}function Ab(n=an()){return/android/i.test(n)}function bb(n=an()){return/blackberry/i.test(n)}function wb(n=an()){return/webos/i.test(n)}function ay(n=an()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function IO(n=an()){var t;return ay(n)&&!!((t=window.navigator)!=null&&t.standalone)}function xO(){return FM()&&document.documentMode===10}function Rb(n=an()){return ay(n)||Ab(n)||wb(n)||bb(n)||/windows phone/i.test(n)||Sb(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(n,t=[]){let e;switch(n){case"Browser":e=XE(an());break;case"Worker":e=`${XE(an())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ho}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=u=>new Promise((c,m)=>{try{const p=t(u);c(p)}catch(p){m(p)}});r.onAbort=e,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(n,t={}){return qo(n,"GET","/v2/passwordPolicy",sy(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=6;class NO{constructor(t){var r;const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??MO,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(t,e,r,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $E(this),this.idTokenSubscription=new $E(this),this.beforeStateQueue=new DO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=db,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ps(e)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await wo.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await of(this,{idToken:t}),r=await li._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if(oi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(m,m))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=r==null?void 0:r._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===m)&&(p!=null&&p.user)&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await lf(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=mO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(oi(this.app))return Promise.reject(la(this));const e=t?xn(t):null;return e&&Et(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(la(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return oi(this.app)?Promise.reject(la(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await VO(this),e=new NO(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Uu("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await CO(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ps(t)||this._popupRedirectResolver;Et(e,this,"argument-error"),this.redirectPersistenceManager=await wo.create(this,[ps(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,r;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)==null?void 0:e._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,r,o);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Cb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return t!=null&&t.error&&cO(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Df(n){return xn(n)}class $E{constructor(t){this.auth=t,this.observer=null,this.addObserver=$M(e=>this.observer=e)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PO(n){oy=n}function LO(n){return oy.loadJS(n)}function kO(){return oy.gapiScript}function UO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(n,t){const e=ty(n,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(fa(u,t??{}))return o;Gi(o,"already-initialized")}return e.initialize({options:t})}function jO(n,t){const e=(t==null?void 0:t.persistence)||[],r=(Array.isArray(e)?e:[e]).map(ps);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function BO(n,t,e){const r=Df(n);Et(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=Ib(t),{host:c,port:m}=FO(t),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},v=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Et(fa(g,r.config.emulator)&&fa(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Fo(c)?(sb(`${u}//${c}${p}`),rb("Auth",!0)):HO()}function Ib(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function FO(n){const t=Ib(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:WE(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:WE(c)}}}function WE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function HO(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ms("not implemented")}_getIdTokenResponse(t){return ms("not implemented")}_linkToIdToken(t,e){return ms("not implemented")}_getReauthenticationResolver(t){return ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(n,t){return vO(n,"POST","/v1/accounts:signInWithIdp",sy(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO="http://localhost";class ma extends xb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new ma(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Gi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=e;if(!r||!o)return null;const c=new ma(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Ro(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,Ro(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Ro(t,e)}buildRequest(){const t={requestUri:qO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=zu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends ly{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr extends Bu{constructor(){super("facebook.com")}static credential(t){return ma._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return rr.credential(t.oauthAccessToken)}catch{return null}}}rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";rr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Bu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return ma._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return ds.credentialFromTaggedObject(t)}static credentialFromError(t){return ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return ds.credential(e,r)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Bu{constructor(){super("github.com")}static credential(t){return ma._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ar.credential(t.oauthAccessToken)}catch{return null}}}ar.GITHUB_SIGN_IN_METHOD="github.com";ar.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends Bu{constructor(){super("twitter.com")}static credential(t,e){return ma._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return or.credentialFromTaggedObject(t)}static credentialFromError(t){return or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return or.credential(e,r)}catch{return null}}}or.TWITTER_SIGN_IN_METHOD="twitter.com";or.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,o=!1){const u=await li._fromIdTokenResponse(t,r,o),c=ZE(r);return new No({user:u,providerId:c,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const o=ZE(r);return new No({user:t,providerId:o,_tokenResponse:r,operationType:e})}}function ZE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf extends Ss{constructor(t,e,r,o){super(e.code,e.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,uf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,o){return new uf(t,e,r,o)}}function Db(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?uf._fromErrorAndOperation(n,u,t,r):u})}async function GO(n,t,e=!1){const r=await wu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return No._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(n,t,e=!1){const{auth:r}=n;if(oi(r.app))return Promise.reject(la(r));const o="reauthenticate";try{const u=await wu(n,Db(r,o,t,n),e);Et(u.idToken,r,"internal-error");const c=ry(u.idToken);Et(c,r,"internal-error");const{sub:m}=c;return Et(n.uid===m,r,"user-mismatch"),No._forOperation(n,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Gi(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(n,t,e=!1){if(oi(n.app))return Promise.reject(la(n));const r="signIn",o=await Db(n,r,t),u=await No._fromIdTokenResponse(n,r,o);return e||await n._updateCurrentUser(u.user),u}function QO(n,t,e,r){return xn(n).onIdTokenChanged(t,e,r)}function XO(n,t,e){return xn(n).beforeAuthStateChanged(t,e)}function $O(n,t,e,r){return xn(n).onAuthStateChanged(t,e,r)}function Vb(n){return xn(n).signOut()}const cf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(cf,"1"),this.storage.removeItem(cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=1e3,ZO=10;class Nb extends Mb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Rb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),o=this.localCache[e];r!==o&&t(e,o,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const r=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!e&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);xO()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,ZO):o()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},WO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Nb.type="LOCAL";const JO=Nb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob extends Mb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Ob.type="SESSION";const Pb=Ob;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const r=new Vf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:o,data:u}=e.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(c).map(async g=>g(e.origin,u)),p=await t4(m);e.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=uy("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(E){const S=E;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(){return window}function n4(n){ji().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function i4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s4(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function r4(){return Lb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="firebaseLocalStorageDb",a4=1,hf="firebaseLocalStorage",Ub="fbase_key";class Fu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Mf(n,t){return n.transaction([hf],t?"readwrite":"readonly").objectStore(hf)}function o4(){const n=indexedDB.deleteDatabase(kb);return new Fu(n).toPromise()}function ng(){const n=indexedDB.open(kb,a4);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(hf,{keyPath:Ub})}catch(o){e(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(hf)?t(r):(r.close(),await o4(),t(await ng()))})})}async function JE(n,t,e){const r=Mf(n,!0).put({[Ub]:t,value:e});return new Fu(r).toPromise()}async function l4(n,t){const e=Mf(n,!1).get(t),r=await new Fu(e).toPromise();return r===void 0?null:r.value}function tS(n,t){const e=Mf(n,!0).delete(t);return new Fu(e).toPromise()}const u4=800,c4=3;class zb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ng(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>c4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Lb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vf._getInstance(r4()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await i4(),!this.activeServiceWorker)return;this.sender=new e4(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(e=t[0])!=null&&e.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||s4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ng();return await JE(t,cf,"1"),await tS(t,cf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>JE(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>l4(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>tS(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Mf(o,!1).getAll();return new Fu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),u4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zb.type="LOCAL";const h4=zb;new ju(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(n,t){return t?ps(t):(Et(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy extends xb{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ro(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Ro(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Ro(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function f4(n){return YO(n.auth,new cy(n),n.bypassAuthState)}function d4(n){const{auth:t,user:e}=n;return Et(e,t,"internal-error"),KO(e,new cy(n),n.bypassAuthState)}async function m4(n){const{auth:t,user:e}=n;return Et(e,t,"internal-error"),GO(e,new cy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(t,e,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:o,tenantId:u,error:c,type:m}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return f4;case"linkViaPopup":case"linkViaRedirect":return m4;case"reauthViaPopup":case"reauthViaRedirect":return d4;default:Gi(this.auth,"internal-error")}}resolve(t){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=new ju(2e3,1e4);async function g4(n,t,e){if(oi(n.app))return Promise.reject(fi(n,"operation-not-supported-in-this-environment"));const r=Df(n);hO(n,t,ly);const o=jb(r,e);return new ra(r,"signInViaPopup",t,o).executeNotNull()}class ra extends Bb{constructor(t,e,r,o,u){super(t,e,o,u),this.provider=r,this.authWindow=null,this.pollId=null,ra.currentPopupAction&&ra.currentPopupAction.cancel(),ra.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const t=uy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ra.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,r;if((r=(e=this.authWindow)==null?void 0:e.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,p4.get())};t()}}ra.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="pendingRedirect",Bh=new Map;class v4 extends Bb{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=Bh.get(this.auth._key());if(!t){try{const r=await _4(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}Bh.set(this.auth._key(),t)}return this.bypassAuthState||Bh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _4(n,t){const e=S4(t),r=E4(n);if(!await r._isAvailable())return!1;const o=await r._get(e)==="true";return await r._remove(e),o}function T4(n,t){Bh.set(n._key(),t)}function E4(n){return ps(n._redirectPersistence)}function S4(n){return jh(y4,n.config.apiKey,n.name)}async function A4(n,t,e=!1){if(oi(n.app))return Promise.reject(la(n));const r=Df(n),o=jb(r,t),c=await new v4(r,o,e).execute();return c&&!e&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=600*1e3;class w4{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!R4(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var r;if(t.error&&!Fb(t)){const o=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";e.onError(fi(this.auth,o))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=b4&&this.cachedEventUids.clear(),this.cachedEventUids.has(eS(t))}saveEventToCache(t){this.cachedEventUids.add(eS(t)),this.lastProcessedEventTime=Date.now()}}function eS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function Fb({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function R4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fb(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(n,t={}){return qo(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,x4=/^https?/;async function D4(n){if(n.config.emulator)return;const{authorizedDomains:t}=await C4(n);for(const e of t)try{if(V4(e))return}catch{}Gi(n,"unauthorized-domain")}function V4(n){const t=tg(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===r}if(!x4.test(e))return!1;if(I4.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=new ju(3e4,6e4);function nS(){const n=ji().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function N4(n){return new Promise((t,e)=>{var o,u,c;function r(){nS(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nS(),e(fi(n,"network-request-failed"))},timeout:M4.get()})}if((u=(o=ji().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((c=ji().gapi)!=null&&c.load)r();else{const m=UO("iframefcb");return ji()[m]=()=>{gapi.load?r():e(fi(n,"network-request-failed"))},LO(`${kO()}?onload=${m}`).catch(p=>e(p))}}).catch(t=>{throw Fh=null,t})}let Fh=null;function O4(n){return Fh=Fh||N4(n),Fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=new ju(5e3,15e3),L4="__/auth/iframe",k4="emulator/auth/iframe",U4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j4(n){const t=n.config;Et(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?iy(t,k4):`https://${n.config.authDomain}/${L4}`,r={apiKey:t.apiKey,appName:n.name,v:Ho},o=z4.get(n.config.apiHost);o&&(r.eid=o);const u=n._getFrameworks();return u.length&&(r.fw=u.join(",")),`${e}?${zu(r).slice(1)}`}async function B4(n){const t=await O4(n),e=ji().gapi;return Et(e,n,"internal-error"),t.open({where:document.body,url:j4(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:U4,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=fi(n,"network-request-failed"),m=ji().setTimeout(()=>{u(c)},P4.get());function p(){ji().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H4=500,q4=600,G4="_blank",K4="http://localhost";class iS{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Y4(n,t,e,r=H4,o=q4){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...F4,width:r.toString(),height:o.toString(),top:u,left:c},g=an().toLowerCase();e&&(m=Eb(g)?G4:e),_b(g)&&(t=t||K4,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[C,x])=>`${S}${C}=${x},`,"");if(IO(g)&&m!=="_self")return Q4(t||"",m),new iS(null);const E=window.open(t||"",m,v);Et(E,n,"popup-blocked");try{E.focus()}catch{}return new iS(E)}function Q4(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="__/auth/handler",$4="emulator/auth/handler",W4=encodeURIComponent("fac");async function sS(n,t,e,r,o,u){Et(n.config.authDomain,n,"auth-domain-config-required"),Et(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Ho,eventId:o};if(t instanceof ly){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",XM(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(t instanceof Bu){const v=t.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const m=c;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await n._getAppCheckToken(),g=p?`#${W4}=${encodeURIComponent(p)}`:"";return`${Z4(n)}?${zu(m).slice(1)}${g}`}function Z4({config:n}){return n.emulator?iy(n,$4):`https://${n.authDomain}/${X4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="webStorageSupport";class J4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pb,this._completeRedirectFn=A4,this._overrideRedirectResult=T4}async _openPopup(t,e,r,o){var c;_s((c=this.eventManagers[t._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const u=await sS(t,e,r,tg(),o);return Y4(t,u,uy())}async _openRedirect(t,e,r,o){await this._originValidation(t);const u=await sS(t,e,r,tg(),o);return n4(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(_s(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await B4(t),r=new w4(t);return e.register("authEvent",o=>(Et(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(_p,{type:_p},o=>{var c;const u=(c=o==null?void 0:o[0])==null?void 0:c[_p];u!==void 0&&e(!!u),Gi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=D4(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Rb()||Tb()||ay()}}const tP=J4;var rS="@firebase/auth",aS="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iP(n){Mo(new da("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;Et(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cb(n)},g=new OO(r,o,u,p);return jO(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),Mo(new da("auth-internal",t=>{const e=Df(t.getProvider("auth").getImmediate());return(r=>new eP(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(rS,aS,nP(n)),fr(rS,aS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=300,rP=ib("authIdTokenMaxAge")||sP;let oS=null;const aP=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>rP)return;const o=e==null?void 0:e.token;oS!==o&&(oS=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function oP(n=ub()){const t=ty(n,"auth");if(t.isInitialized())return t.getImmediate();const e=zO(n,{popupRedirectResolver:tP,persistence:[h4,JO,Pb]}),r=ib("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=aP(u.toString());XO(e,c,()=>c(e.currentUser)),QO(e,m=>c(m))}}const o=eb("auth");return o&&BO(e,`http://${o}`),e}function lP(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}PO({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=o=>{const u=fi("internal-error");u.customData=o,e(u)},r.type="text/javascript",r.charset="UTF-8",lP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iP("Browser");var lS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dr,Hb;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,w){function R(){}R.prototype=w.prototype,I.F=w.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(N,M,U){for(var D=Array(arguments.length-2),te=2;te<arguments.length;te++)D[te-2]=arguments[te];return w.prototype[M].apply(N,D)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,w,R){R||(R=0);const N=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)N[M]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(M=0;M<16;++M)N[M]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=I.g[0],R=I.g[1],M=I.g[2];let U=I.g[3],D;D=w+(U^R&(M^U))+N[0]+3614090360&4294967295,w=R+(D<<7&4294967295|D>>>25),D=U+(M^w&(R^M))+N[1]+3905402710&4294967295,U=w+(D<<12&4294967295|D>>>20),D=M+(R^U&(w^R))+N[2]+606105819&4294967295,M=U+(D<<17&4294967295|D>>>15),D=R+(w^M&(U^w))+N[3]+3250441966&4294967295,R=M+(D<<22&4294967295|D>>>10),D=w+(U^R&(M^U))+N[4]+4118548399&4294967295,w=R+(D<<7&4294967295|D>>>25),D=U+(M^w&(R^M))+N[5]+1200080426&4294967295,U=w+(D<<12&4294967295|D>>>20),D=M+(R^U&(w^R))+N[6]+2821735955&4294967295,M=U+(D<<17&4294967295|D>>>15),D=R+(w^M&(U^w))+N[7]+4249261313&4294967295,R=M+(D<<22&4294967295|D>>>10),D=w+(U^R&(M^U))+N[8]+1770035416&4294967295,w=R+(D<<7&4294967295|D>>>25),D=U+(M^w&(R^M))+N[9]+2336552879&4294967295,U=w+(D<<12&4294967295|D>>>20),D=M+(R^U&(w^R))+N[10]+4294925233&4294967295,M=U+(D<<17&4294967295|D>>>15),D=R+(w^M&(U^w))+N[11]+2304563134&4294967295,R=M+(D<<22&4294967295|D>>>10),D=w+(U^R&(M^U))+N[12]+1804603682&4294967295,w=R+(D<<7&4294967295|D>>>25),D=U+(M^w&(R^M))+N[13]+4254626195&4294967295,U=w+(D<<12&4294967295|D>>>20),D=M+(R^U&(w^R))+N[14]+2792965006&4294967295,M=U+(D<<17&4294967295|D>>>15),D=R+(w^M&(U^w))+N[15]+1236535329&4294967295,R=M+(D<<22&4294967295|D>>>10),D=w+(M^U&(R^M))+N[1]+4129170786&4294967295,w=R+(D<<5&4294967295|D>>>27),D=U+(R^M&(w^R))+N[6]+3225465664&4294967295,U=w+(D<<9&4294967295|D>>>23),D=M+(w^R&(U^w))+N[11]+643717713&4294967295,M=U+(D<<14&4294967295|D>>>18),D=R+(U^w&(M^U))+N[0]+3921069994&4294967295,R=M+(D<<20&4294967295|D>>>12),D=w+(M^U&(R^M))+N[5]+3593408605&4294967295,w=R+(D<<5&4294967295|D>>>27),D=U+(R^M&(w^R))+N[10]+38016083&4294967295,U=w+(D<<9&4294967295|D>>>23),D=M+(w^R&(U^w))+N[15]+3634488961&4294967295,M=U+(D<<14&4294967295|D>>>18),D=R+(U^w&(M^U))+N[4]+3889429448&4294967295,R=M+(D<<20&4294967295|D>>>12),D=w+(M^U&(R^M))+N[9]+568446438&4294967295,w=R+(D<<5&4294967295|D>>>27),D=U+(R^M&(w^R))+N[14]+3275163606&4294967295,U=w+(D<<9&4294967295|D>>>23),D=M+(w^R&(U^w))+N[3]+4107603335&4294967295,M=U+(D<<14&4294967295|D>>>18),D=R+(U^w&(M^U))+N[8]+1163531501&4294967295,R=M+(D<<20&4294967295|D>>>12),D=w+(M^U&(R^M))+N[13]+2850285829&4294967295,w=R+(D<<5&4294967295|D>>>27),D=U+(R^M&(w^R))+N[2]+4243563512&4294967295,U=w+(D<<9&4294967295|D>>>23),D=M+(w^R&(U^w))+N[7]+1735328473&4294967295,M=U+(D<<14&4294967295|D>>>18),D=R+(U^w&(M^U))+N[12]+2368359562&4294967295,R=M+(D<<20&4294967295|D>>>12),D=w+(R^M^U)+N[5]+4294588738&4294967295,w=R+(D<<4&4294967295|D>>>28),D=U+(w^R^M)+N[8]+2272392833&4294967295,U=w+(D<<11&4294967295|D>>>21),D=M+(U^w^R)+N[11]+1839030562&4294967295,M=U+(D<<16&4294967295|D>>>16),D=R+(M^U^w)+N[14]+4259657740&4294967295,R=M+(D<<23&4294967295|D>>>9),D=w+(R^M^U)+N[1]+2763975236&4294967295,w=R+(D<<4&4294967295|D>>>28),D=U+(w^R^M)+N[4]+1272893353&4294967295,U=w+(D<<11&4294967295|D>>>21),D=M+(U^w^R)+N[7]+4139469664&4294967295,M=U+(D<<16&4294967295|D>>>16),D=R+(M^U^w)+N[10]+3200236656&4294967295,R=M+(D<<23&4294967295|D>>>9),D=w+(R^M^U)+N[13]+681279174&4294967295,w=R+(D<<4&4294967295|D>>>28),D=U+(w^R^M)+N[0]+3936430074&4294967295,U=w+(D<<11&4294967295|D>>>21),D=M+(U^w^R)+N[3]+3572445317&4294967295,M=U+(D<<16&4294967295|D>>>16),D=R+(M^U^w)+N[6]+76029189&4294967295,R=M+(D<<23&4294967295|D>>>9),D=w+(R^M^U)+N[9]+3654602809&4294967295,w=R+(D<<4&4294967295|D>>>28),D=U+(w^R^M)+N[12]+3873151461&4294967295,U=w+(D<<11&4294967295|D>>>21),D=M+(U^w^R)+N[15]+530742520&4294967295,M=U+(D<<16&4294967295|D>>>16),D=R+(M^U^w)+N[2]+3299628645&4294967295,R=M+(D<<23&4294967295|D>>>9),D=w+(M^(R|~U))+N[0]+4096336452&4294967295,w=R+(D<<6&4294967295|D>>>26),D=U+(R^(w|~M))+N[7]+1126891415&4294967295,U=w+(D<<10&4294967295|D>>>22),D=M+(w^(U|~R))+N[14]+2878612391&4294967295,M=U+(D<<15&4294967295|D>>>17),D=R+(U^(M|~w))+N[5]+4237533241&4294967295,R=M+(D<<21&4294967295|D>>>11),D=w+(M^(R|~U))+N[12]+1700485571&4294967295,w=R+(D<<6&4294967295|D>>>26),D=U+(R^(w|~M))+N[3]+2399980690&4294967295,U=w+(D<<10&4294967295|D>>>22),D=M+(w^(U|~R))+N[10]+4293915773&4294967295,M=U+(D<<15&4294967295|D>>>17),D=R+(U^(M|~w))+N[1]+2240044497&4294967295,R=M+(D<<21&4294967295|D>>>11),D=w+(M^(R|~U))+N[8]+1873313359&4294967295,w=R+(D<<6&4294967295|D>>>26),D=U+(R^(w|~M))+N[15]+4264355552&4294967295,U=w+(D<<10&4294967295|D>>>22),D=M+(w^(U|~R))+N[6]+2734768916&4294967295,M=U+(D<<15&4294967295|D>>>17),D=R+(U^(M|~w))+N[13]+1309151649&4294967295,R=M+(D<<21&4294967295|D>>>11),D=w+(M^(R|~U))+N[4]+4149444226&4294967295,w=R+(D<<6&4294967295|D>>>26),D=U+(R^(w|~M))+N[11]+3174756917&4294967295,U=w+(D<<10&4294967295|D>>>22),D=M+(w^(U|~R))+N[2]+718787259&4294967295,M=U+(D<<15&4294967295|D>>>17),D=R+(U^(M|~w))+N[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+U&4294967295}r.prototype.v=function(I,w){w===void 0&&(w=I.length);const R=w-this.blockSize,N=this.C;let M=this.h,U=0;for(;U<w;){if(M==0)for(;U<=R;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<w;)if(N[M++]=I.charCodeAt(U++),M==this.blockSize){o(this,N),M=0;break}}else for(;U<w;)if(N[M++]=I[U++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=w},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,R=0;R<4;++R)for(let N=0;N<32;N+=8)I[w++]=this.g[R]>>>N&255;return I};function u(I,w){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=w(I)}function c(I,w){this.h=w;const R=[];let N=!0;for(let M=I.length-1;M>=0;M--){const U=I[M]|0;N&&U==w||(R[M]=U,N=!1)}this.g=R}var m={};function p(I){return-128<=I&&I<128?u(I,function(w){return new c([w|0],w<0?-1:0)}):new c([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return E;if(I<0)return L(g(-I));const w=[];let R=1;for(let N=0;I>=R;N++)w[N]=I/R|0,R*=4294967296;return new c(w,0)}function v(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return L(v(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(w,8));let N=E;for(let U=0;U<I.length;U+=8){var M=Math.min(8,I.length-U);const D=parseInt(I.substring(U,U+M),w);M<8?(M=g(Math.pow(w,M)),N=N.j(M).add(g(D))):(N=N.j(R),N=N.add(g(D)))}return N}var E=p(0),S=p(1),C=p(16777216);n=c.prototype,n.m=function(){if(z(this))return-L(this).m();let I=0,w=1;for(let R=0;R<this.g.length;R++){const N=this.i(R);I+=(N>=0?N:4294967296+N)*w,w*=4294967296}return I},n.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(x(this))return"0";if(z(this))return"-"+L(this).toString(I);const w=g(Math.pow(I,6));var R=this;let N="";for(;;){const M=st(R,w).g;R=q(R,M.j(w));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=M,x(R))return U+N;for(;U.length<6;)U="0"+U;N=U+N}},n.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function x(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function z(I){return I.h==-1}n.l=function(I){return I=q(this,I),z(I)?-1:x(I)?0:1};function L(I){const w=I.g.length,R=[];for(let N=0;N<w;N++)R[N]=~I.g[N];return new c(R,~I.h).add(S)}n.abs=function(){return z(this)?L(this):this},n.add=function(I){const w=Math.max(this.g.length,I.g.length),R=[];let N=0;for(let M=0;M<=w;M++){let U=N+(this.i(M)&65535)+(I.i(M)&65535),D=(U>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);N=D>>>16,U&=65535,D&=65535,R[M]=D<<16|U}return new c(R,R[R.length-1]&-2147483648?-1:0)};function q(I,w){return I.add(L(w))}n.j=function(I){if(x(this)||x(I))return E;if(z(this))return z(I)?L(this).j(L(I)):L(L(this).j(I));if(z(I))return L(this.j(L(I)));if(this.l(C)<0&&I.l(C)<0)return g(this.m()*I.m());const w=this.g.length+I.g.length,R=[];for(var N=0;N<2*w;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(let M=0;M<I.g.length;M++){const U=this.i(N)>>>16,D=this.i(N)&65535,te=I.i(M)>>>16,fe=I.i(M)&65535;R[2*N+2*M]+=D*fe,W(R,2*N+2*M),R[2*N+2*M+1]+=U*fe,W(R,2*N+2*M+1),R[2*N+2*M+1]+=D*te,W(R,2*N+2*M+1),R[2*N+2*M+2]+=U*te,W(R,2*N+2*M+2)}for(I=0;I<w;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=w;I<2*w;I++)R[I]=0;return new c(R,0)};function W(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function Q(I,w){this.g=I,this.h=w}function st(I,w){if(x(w))throw Error("division by zero");if(x(I))return new Q(E,E);if(z(I))return w=st(L(I),w),new Q(L(w.g),L(w.h));if(z(w))return w=st(I,L(w)),new Q(L(w.g),w.h);if(I.g.length>30){if(z(I)||z(w))throw Error("slowDivide_ only works with positive integers.");for(var R=S,N=w;N.l(I)<=0;)R=nt(R),N=nt(N);var M=ut(R,1),U=ut(N,1);for(N=ut(N,2),R=ut(R,2);!x(N);){var D=U.add(N);D.l(I)<=0&&(M=M.add(R),U=D),N=ut(N,1),R=ut(R,1)}return w=q(I,M.j(w)),new Q(M,w)}for(M=E;I.l(w)>=0;){for(R=Math.max(1,Math.floor(I.m()/w.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),U=g(R),D=U.j(w);z(D)||D.l(I)>0;)R-=N,U=g(R),D=U.j(w);x(U)&&(U=S),M=M.add(U),I=q(I,D)}return new Q(M,I)}n.B=function(I){return st(this,I).h},n.and=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let N=0;N<w;N++)R[N]=this.i(N)&I.i(N);return new c(R,this.h&I.h)},n.or=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let N=0;N<w;N++)R[N]=this.i(N)|I.i(N);return new c(R,this.h|I.h)},n.xor=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let N=0;N<w;N++)R[N]=this.i(N)^I.i(N);return new c(R,this.h^I.h)};function nt(I){const w=I.g.length+1,R=[];for(let N=0;N<w;N++)R[N]=I.i(N)<<1|I.i(N-1)>>>31;return new c(R,I.h)}function ut(I,w){const R=w>>5;w%=32;const N=I.g.length-R,M=[];for(let U=0;U<N;U++)M[U]=w>0?I.i(U+R)>>>w|I.i(U+R+1)<<32-w:I.i(U+R);return new c(M,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Hb=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,dr=c}).apply(typeof lS<"u"?lS:typeof self<"u"?self:typeof window<"u"?window:{});var Ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qb,su,Gb,Hh,ig,Kb,Yb,Qb;(function(){var n,t=Object.defineProperty;function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ih=="object"&&Ih];for(var y=0;y<h.length;++y){var T=h[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=e(this);function o(h,y){if(y)t:{var T=r;h=h.split(".");for(var b=0;b<h.length-1;b++){var j=h[b];if(!(j in T))break t;T=T[j]}h=h[h.length-1],b=T[h],y=y(b),y!=b&&y!=null&&t(T,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var T=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&T.push([b,y[b]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,T){return h.call.apply(h.bind,arguments)}function g(h,y,T){return g=p,g.apply(null,arguments)}function v(h,y){var T=Array.prototype.slice.call(arguments,1);return function(){var b=T.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function E(h,y){function T(){}T.prototype=y.prototype,h.Z=y.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(b,j,G){for(var ot=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)ot[Rt-2]=arguments[Rt];return y.prototype[j].apply(b,ot)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const y=h.length;if(y>0){const T=Array(y);for(let b=0;b<y;b++)T[b]=h[b];return T}return[]}function x(h,y){for(let b=1;b<arguments.length;b++){const j=arguments[b];var T=typeof j;if(T=T!="object"?T:j?Array.isArray(j)?"array":T:"null",T=="array"||T=="object"&&typeof j.length=="number"){T=h.length||0;const G=j.length||0;h.length=T+G;for(let ot=0;ot<G;ot++)h[T+ot]=j[ot]}else h.push(j)}}class z{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(h){c.setTimeout(()=>{throw h},0)}function q(){var h=I;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class W{constructor(){this.h=this.g=null}add(y,T){const b=Q.get();b.set(y,T),this.h?this.h.next=b:this.g=b,this.h=b}}var Q=new z(()=>new st,h=>h.reset());class st{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ut=!1,I=new W,w=()=>{const h=Promise.resolve(void 0);nt=()=>{h.then(R)}};function R(){for(var h;h=q();){try{h.h.call(h.g)}catch(T){L(T)}var y=Q;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ut=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function te(h,y){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}E(te,M),te.prototype.init=function(h,y){const T=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(T=="mouseover"?y=h.fromElement:T=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),$=0;function rt(h,y,T,b,j){this.listener=h,this.proxy=null,this.src=y,this.type=T,this.capture=!!b,this.ha=j,this.key=++$,this.da=this.fa=!1}function ft(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function It(h,y,T){for(const b in h)y.call(T,h[b],b,h)}function Nt(h,y){for(const T in h)y.call(void 0,h[T],T,h)}function P(h){const y={};for(const T in h)y[T]=h[T];return y}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(h,y){let T,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(T in b)h[T]=b[T];for(let G=0;G<tt.length;G++)T=tt[G],Object.prototype.hasOwnProperty.call(b,T)&&(h[T]=b[T])}}function ht(h){this.src=h,this.g={},this.h=0}ht.prototype.add=function(h,y,T,b,j){const G=h.toString();h=this.g[G],h||(h=this.g[G]=[],this.h++);const ot=xt(h,y,b,j);return ot>-1?(y=h[ot],T||(y.fa=!1)):(y=new rt(y,this.src,G,!!b,j),y.fa=T,h.push(y)),y};function St(h,y){const T=y.type;if(T in h.g){var b=h.g[T],j=Array.prototype.indexOf.call(b,y,void 0),G;(G=j>=0)&&Array.prototype.splice.call(b,j,1),G&&(ft(y),h.g[T].length==0&&(delete h.g[T],h.h--))}}function xt(h,y,T,b){for(let j=0;j<h.length;++j){const G=h[j];if(!G.da&&G.listener==y&&G.capture==!!T&&G.ha==b)return j}return-1}var jt="closure_lm_"+(Math.random()*1e6|0),Ne={};function ae(h,y,T,b,j){if(Array.isArray(y)){for(let G=0;G<y.length;G++)ae(h,y[G],T,b,j);return null}return T=Wo(T),h&&h[fe]?h.J(y,T,m(b)?!!b.capture:!1,j):Sr(h,y,T,!1,b,j)}function Sr(h,y,T,b,j,G){if(!y)throw Error("Invalid event type");const ot=m(j)?!!j.capture:!!j;let Rt=Ar(h);if(Rt||(h[jt]=Rt=new ht(h)),T=Rt.add(y,T,b,ot,G),T.proxy)return T;if(b=Sa(),T.proxy=b,b.src=h,b.listener=T,h.addEventListener)U||(j=ot),j===void 0&&(j=!1),h.addEventListener(y.toString(),b,j);else if(h.attachEvent)h.attachEvent(pi(y.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Sa(){function h(T){return y.call(h.src,h.listener,T)}const y=Xo;return h}function Aa(h,y,T,b,j){if(Array.isArray(y))for(var G=0;G<y.length;G++)Aa(h,y[G],T,b,j);else b=m(b)?!!b.capture:!!b,T=Wo(T),h&&h[fe]?(h=h.i,G=String(y).toString(),G in h.g&&(y=h.g[G],T=xt(y,T,b,j),T>-1&&(ft(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete h.g[G],h.h--)))):h&&(h=Ar(h))&&(y=h.g[y.toString()],h=-1,y&&(h=xt(y,T,b,j)),(T=h>-1?y[h]:null)&&ba(T))}function ba(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[fe])St(y.i,h);else{var T=h.type,b=h.proxy;y.removeEventListener?y.removeEventListener(T,b,h.capture):y.detachEvent?y.detachEvent(pi(T),b):y.addListener&&y.removeListener&&y.removeListener(b),(T=Ar(y))?(St(T,h),T.h==0&&(T.src=null,y[jt]=null)):ft(h)}}}function pi(h){return h in Ne?Ne[h]:Ne[h]="on"+h}function Xo(h,y){if(h.da)h=!0;else{y=new te(y,this);const T=h.listener,b=h.ha||h.src;h.fa&&ba(h),h=T.call(b,y)}return h}function Ar(h){return h=h[jt],h instanceof ht?h:null}var $o="__closure_events_fn_"+(Math.random()*1e9>>>0);function Wo(h){return typeof h=="function"?h:(h[$o]||(h[$o]=function(y){return h.handleEvent(y)}),h[$o])}function Ee(){N.call(this),this.i=new ht(this),this.M=this,this.G=null}E(Ee,N),Ee.prototype[fe]=!0,Ee.prototype.removeEventListener=function(h,y,T,b){Aa(this,h,y,T,b)};function Oe(h,y){var T,b=h.G;if(b)for(T=[];b;b=b.G)T.push(b);if(h=h.M,b=y.type||y,typeof y=="string")y=new M(y,h);else if(y instanceof M)y.target=y.target||h;else{var j=y;y=new M(b,h),lt(y,j)}j=!0;let G,ot;if(T)for(ot=T.length-1;ot>=0;ot--)G=y.g=T[ot],j=As(G,b,!0,y)&&j;if(G=y.g=h,j=As(G,b,!0,y)&&j,j=As(G,b,!1,y)&&j,T)for(ot=0;ot<T.length;ot++)G=y.g=T[ot],j=As(G,b,!1,y)&&j}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const T=h.g[y];for(let b=0;b<T.length;b++)ft(T[b]);delete h.g[y],h.h--}}this.G=null},Ee.prototype.J=function(h,y,T,b){return this.i.add(String(h),y,!1,T,b)},Ee.prototype.K=function(h,y,T,b){return this.i.add(String(h),y,!0,T,b)};function As(h,y,T,b){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let j=!0;for(let G=0;G<y.length;++G){const ot=y[G];if(ot&&!ot.da&&ot.capture==T){const Rt=ot.listener,ye=ot.ha||ot.src;ot.fa&&St(h.i,ot),j=Rt.call(ye,b)!==!1&&j}}return j&&!b.defaultPrevented}function Kf(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Qu(h){h.g=Kf(()=>{h.g=null,h.i&&(h.i=!1,Qu(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class on extends N{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Qu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function br(h){N.call(this),this.h=h,this.g={}}E(br,N);var Zo=[];function Jo(h){It(h.g,function(y,T){this.g.hasOwnProperty(T)&&ba(y)},h),h.g={}}br.prototype.N=function(){br.Z.N.call(this),Jo(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bs=c.JSON.stringify,Yf=c.JSON.parse,Xu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function $u(){}function Wu(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){M.call(this,"d")}E(qe,M);function Dn(){M.call(this,"c")}E(Dn,M);var ge={},Zu=null;function wa(){return Zu=Zu||new Ee}ge.Ia="serverreachability";function Ju(h){M.call(this,ge.Ia,h)}E(Ju,M);function gi(h){const y=wa();Oe(y,new Ju(y))}ge.STAT_EVENT="statevent";function wr(h,y){M.call(this,ge.STAT_EVENT,h),this.stat=y}E(wr,M);function Se(h){const y=wa();Oe(y,new wr(y,h))}ge.Ja="timingevent";function yi(h,y){M.call(this,ge.Ja,h),this.size=y}E(yi,M);function vi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function Qf(h,y,T,b,j,G){h.info(function(){if(h.g)if(G){var ot="",Rt=G.split("&");for(let qt=0;qt<Rt.length;qt++){var ye=Rt[qt].split("=");if(ye.length>1){const oe=ye[0];ye=ye[1];const On=oe.split("_");ot=On.length>=2&&On[1]=="type"?ot+(oe+"="+ye+"&"):ot+(oe+"=redacted&")}}}else ot=null;else ot=G;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+y+`
`+T+`
`+ot})}function tc(h,y,T,b,j,G,ot){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+y+`
`+T+`
`+G+" "+ot})}function _i(h,y,T,b){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Xf(h,T)+(b?" "+b:"")})}function Rr(h,y){h.info(function(){return"TIMEOUT: "+y})}Qn.prototype.info=function(){};function Xf(h,y){if(!h.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(h=0;h<G.length;h++)if(Array.isArray(G[h])){var T=G[h];if(!(T.length<2)){var b=T[1];if(Array.isArray(b)&&!(b.length<1)){var j=b[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ot=1;ot<b.length;ot++)b[ot]=""}}}}return bs(G)}catch{return y}}var Cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},tl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},el;function Ir(){}E(Ir,$u),Ir.prototype.g=function(){return new XMLHttpRequest},el=new Ir;function Qi(h){return encodeURIComponent(String(h))}function ec(h){var y=1;h=h.split(":");const T=[];for(;y>0&&h.length;)T.push(h.shift()),y--;return h.length&&T.push(h.join(":")),T}function Xn(h,y,T,b){this.j=h,this.i=y,this.l=T,this.S=b||1,this.V=new br(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}var Ae={},ze={};function Ti(h,y,T){h.M=1,h.A=xr(we(y)),h.u=T,h.R=!0,Ra(h,null)}function Ra(h,y){h.F=Date.now(),Ei(h),h.B=we(h.A);var T=h.B,b=h.S;Array.isArray(b)||(b=[String(b)]),Da(T.i,"t",b),h.C=0,T=h.j.L,h.h=new $n,h.g=gc(h.j,T?y:null,!h.u),h.P>0&&(h.O=new on(g(h.Y,h,h.g),h.P)),y=h.V,T=h.g,b=h.ba;var j="readystatechange";Array.isArray(j)||(j&&(Zo[0]=j.toString()),j=Zo);for(let G=0;G<j.length;G++){const ot=ae(T,j[G],b||y.handleEvent,!1,y.h||y);if(!ot)break;y.g[ot.key]=ot}y=h.J?P(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),gi(),Qf(h.i,h.v,h.B,h.l,h.S,h.u)}Xn.prototype.ba=function(h){h=h.target;const y=this.O;y&&Jn(h)==3?y.j():this.Y(h)},Xn.prototype.Y=function(h){try{if(h==this.g)t:{const Rt=Jn(this.g),ye=this.g.ya(),qt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Ge(this.g)))){this.K||Rt!=4||ye==7||(ye==8||qt<=0?gi(3):gi(2)),Si(this);var y=this.g.ca();this.X=y;var T=$f(this);if(this.o=y==200,tc(this.i,this.v,this.B,this.l,this.S,Rt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var b,j=this.g;if((b=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(b)){var G=b;break e}}G=null}if(h=G)_i(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ai(this,h);else{this.o=!1,this.m=3,Se(12),Tn(this),Vn(this);break t}}if(this.R){h=!0;let oe;for(;!this.K&&this.C<T.length;)if(oe=ic(this,T),oe==ze){Rt==4&&(this.m=4,Se(14),h=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Ae){this.m=4,Se(15),_i(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else _i(this.i,this.l,oe,null),Ai(this,oe);if(nc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||T.length!=0||this.h.h||(this.m=1,Se(16),h=!1),this.o=this.o&&h,!h)_i(this.i,this.l,T,"[Invalid Chunked Response]"),Tn(this),Vn(this);else if(T.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),gl(ot),ot.P=!0,Se(11))}}else _i(this.i,this.l,T,null),Ai(this,T);Rt==4&&Tn(this),this.o&&!this.K&&(Rt==4?fc(this.j,this):(this.o=!1,Ei(this)))}else $i(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,Se(12)):(this.m=0,Se(13)),Tn(this),Vn(this)}}}catch{}finally{}};function $f(h){if(!nc(h))return h.g.la();const y=Ge(h.g);if(y==="")return"";let T="";const b=y.length,j=Jn(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Tn(h),Vn(h),"";h.h.i=new c.TextDecoder}for(let G=0;G<b;G++)h.h.h=!0,T+=h.h.i.decode(y[G],{stream:!(j&&G==b-1)});return y.length=0,h.h.g+=T,h.C=0,h.h.g}function nc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function ic(h,y){var T=h.C,b=y.indexOf(`
`,T);return b==-1?ze:(T=Number(y.substring(T,b)),isNaN(T)?Ae:(b+=1,b+T>y.length?ze:(y=y.slice(b,b+T),h.C=b+T,y)))}Xn.prototype.cancel=function(){this.K=!0,Tn(this)};function Ei(h){h.T=Date.now()+h.H,Ca(h,h.H)}function Ca(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=vi(g(h.aa,h),y)}function Si(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Xn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Rr(this.i,this.B),this.M!=2&&(gi(),Se(17)),Tn(this),this.m=2,Vn(this)):Ca(this,this.T-h)};function Vn(h){h.j.I==0||h.K||fc(h.j,h)}function Tn(h){Si(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Jo(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Ai(h,y){try{var T=h.j;if(T.I!=0&&(T.g==h||wi(T.h,h))){if(!h.L&&wi(T.h,h)&&T.I==3){try{var b=T.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Pa(T),Ms(T);else break t;Lr(T),Se(18)}}else T.xa=j[1],0<T.xa-T.K&&j[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=vi(g(T.Va,T),6e3));bi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Vi(T,11)}else if((h.L||T.g==h)&&Pa(T),!D(y))for(j=T.Ba.g.parse(y),y=0;y<j.length;y++){let qt=j[y];const oe=qt[0];if(!(oe<=T.K))if(T.K=oe,qt=qt[1],T.I==2)if(qt[0]=="c"){T.M=qt[1],T.ba=qt[2];const On=qt[3];On!=null&&(T.ka=On,T.j.info("VER="+T.ka));const Mi=qt[4];Mi!=null&&(T.za=Mi,T.j.info("SVER="+T.za));const ti=qt[5];ti!=null&&typeof ti=="number"&&ti>0&&(b=1.5*ti,T.O=b,T.j.info("backChannelRequestTimeoutMs_="+b)),b=T;const ei=h.g;if(ei){const kr=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kr){var G=b.h;G.g||kr.indexOf("spdy")==-1&&kr.indexOf("quic")==-1&&kr.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(sl(G,G.h),G.h=null))}if(b.G){const La=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;La&&(b.wa=La,Yt(b.J,b.G,La))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),b=T;var ot=h;if(b.na=pc(b,b.L?b.ba:null,b.W),ot.L){rl(b.h,ot);var Rt=ot,ye=b.O;ye&&(Rt.H=ye),Rt.D&&(Si(Rt),Ei(Rt)),b.g=ot}else cc(b);T.i.length>0&&Di(T)}else qt[0]!="stop"&&qt[0]!="close"||Vi(T,7);else T.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?Vi(T,7):ml(T):qt[0]!="noop"&&T.l&&T.l.qa(qt),T.A=0)}}gi(4)}catch{}}var be=class{constructor(h,y){this.g=h,this.map=y}};function nl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function il(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function bi(h){return h.h?1:h.g?h.g.size:0}function wi(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function sl(h,y){h.g?h.g.add(y):h.h=y}function rl(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}nl.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function al(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const T of h.g.values())y=y.concat(T.G);return y}return C(h.i)}var sc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ia(h,y){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const b=h[T].indexOf("=");let j,G=null;b>=0?(j=h[T].substring(0,b),G=h[T].substring(b+1)):j=h[T],y(j,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function En(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof En?(this.l=h.l,je(this,h.j),this.o=h.o,this.g=h.g,ws(this,h.u),this.h=h.h,ol(this,lc(h.i)),this.m=h.m):h&&(y=String(h).match(sc))?(this.l=!1,je(this,y[1]||"",!0),this.o=Ri(y[2]||""),this.g=Ri(y[3]||"",!0),ws(this,y[4]),this.h=Ri(y[5]||"",!0),ol(this,y[6]||"",!0),this.m=Ri(y[7]||"")):(this.l=!1,this.i=new Cs(null,this.l))}En.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Dr(y,xa,!0),":");var T=this.g;return(T||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Dr(y,xa,!0),"@"),h.push(Qi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Dr(T,T.charAt(0)=="/"?ll:rc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Dr(T,ac)),h.join("")},En.prototype.resolve=function(h){const y=we(this);let T=!!h.j;T?je(y,h.j):T=!!h.o,T?y.o=h.o:T=!!h.g,T?y.g=h.g:T=h.u!=null;var b=h.h;if(T)ws(y,h.u);else if(T=!!h.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var j=y.h.lastIndexOf("/");j!=-1&&(b=y.h.slice(0,j+1)+b)}if(j=b,j==".."||j==".")b="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){b=j.lastIndexOf("/",0)==0,j=j.split("/");const G=[];for(let ot=0;ot<j.length;){const Rt=j[ot++];Rt=="."?b&&ot==j.length&&G.push(""):Rt==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),b&&ot==j.length&&G.push("")):(G.push(Rt),b=!0)}b=G.join("/")}else b=j}return T?y.h=b:T=h.i.toString()!=="",T?ol(y,lc(h.i)):T=!!h.m,T&&(y.m=h.m),y};function we(h){return new En(h)}function je(h,y,T){h.j=T?Ri(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function ws(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function ol(h,y,T){y instanceof Cs?(h.i=y,Va(h.i,h.l)):(T||(y=Dr(y,Rs)),h.i=new Cs(y,h.l))}function Yt(h,y,T){h.i.set(y,T)}function xr(h){return Yt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ri(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Dr(h,y,T){return typeof h=="string"?(h=encodeURI(h).replace(y,fn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function fn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var xa=/[#\/\?@]/g,rc=/[#\?:]/g,ll=/[#\?]/g,Rs=/[#\?@]/g,ac=/#/g;function Cs(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function dn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ia(h.i,function(y,T){h.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}n=Cs.prototype,n.add=function(h,y){dn(this),this.i=null,h=Is(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(y),this.h+=1,this};function oc(h,y){dn(h),y=Is(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function ul(h,y){return dn(h),y=Is(h,y),h.g.has(y)}n.forEach=function(h,y){dn(this),this.g.forEach(function(T,b){T.forEach(function(j){h.call(y,j,b,this)},this)},this)};function cl(h,y){dn(h);let T=[];if(typeof y=="string")ul(h,y)&&(T=T.concat(h.g.get(Is(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)T=T.concat(h[y]);return T}n.set=function(h,y){return dn(this),this.i=null,h=Is(this,h),ul(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=cl(this,h),h.length>0?String(h[0]):y):y};function Da(h,y,T){oc(h,y),T.length>0&&(h.i=null,h.g.set(Is(h,y),C(T)),h.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var T=y[b];const j=Qi(T);T=cl(this,T);for(let G=0;G<T.length;G++){let ot=j;T[G]!==""&&(ot+="="+Qi(T[G])),h.push(ot)}}return this.i=h.join("&")};function lc(h){const y=new Cs;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Is(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Va(h,y){y&&!h.j&&(dn(h),h.i=null,h.g.forEach(function(T,b){const j=b.toLowerCase();b!=j&&(oc(this,b),Da(this,j,T))},h)),h.j=y}function Wn(h,y){const T=new Qn;if(c.Image){const b=new Image;b.onload=v(Mn,T,"TestLoadImage: loaded",!0,y,b),b.onerror=v(Mn,T,"TestLoadImage: error",!1,y,b),b.onabort=v(Mn,T,"TestLoadImage: abort",!1,y,b),b.ontimeout=v(Mn,T,"TestLoadImage: timeout",!1,y,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else y(!1)}function hl(h,y){const T=new Qn,b=new AbortController,j=setTimeout(()=>{b.abort(),Mn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:b.signal}).then(G=>{clearTimeout(j),G.ok?Mn(T,"TestPingServer: ok",!0,y):Mn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Mn(T,"TestPingServer: error",!1,y)})}function Mn(h,y,T,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(T)}catch{}}function xs(){this.g=new Xu}function Ci(h){this.i=h.Sb||null,this.h=h.ab||!1}E(Ci,$u),Ci.prototype.g=function(){return new Vr(this.i,this.h)};function Vr(h,y){Ee.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Vr,Ee),n=Vr.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Zn(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ds(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ma(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ma(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Ds(this):Zn(this),this.readyState==3&&Ma(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,Ds(this))},n.Na=function(h){this.g&&(this.response=h,Ds(this))},n.ga=function(){this.g&&Ds(this)};function Ds(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Zn(h)}n.setRequestHeader=function(h,y){this.A.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=y.next();return h.join(`\r
`)};function Zn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Nn(h){let y="";return It(h,function(T,b){y+=b,y+=":",y+=T,y+=`\r
`}),y}function Mr(h,y,T){t:{for(b in T){var b=!1;break t}b=!0}b||(T=Nn(T),typeof h=="string"?T!=null&&Qi(T):Yt(h,y,T))}function $t(h){Ee.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E($t,Ee);var Ii=/^https?$/i,fl=["POST","PUT"];n=$t.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,y,T,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():el.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(G){Nr(this,G);return}if(h=T||"",T=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)T.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())T.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(T.keys()).find(G=>G.toLowerCase()=="content-type"),j=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(fl,y,void 0)>=0)||b||j||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ot]of T)this.g.setRequestHeader(G,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(G){Nr(this,G)}};function Nr(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,dl(h),Xi(h)}function dl(h){h.A||(h.A=!0,Oe(h,"complete"),Oe(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Oe(this,"complete"),Oe(this,"abort"),Xi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),$t.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Or(this):this.Xa())},n.Xa=function(){Or(this)};function Or(h){if(h.h&&typeof u<"u"){if(h.v&&Jn(h)==4)setTimeout(h.Ca.bind(h),0);else if(Oe(h,"readystatechange"),Jn(h)==4){h.h=!1;try{const G=h.ca();t:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var T;if(!(T=y)){var b;if(b=G===0){let ot=String(h.D).match(sc)[1]||null;!ot&&c.self&&c.self.location&&(ot=c.self.location.protocol.slice(0,-1)),b=!Ii.test(ot?ot.toLowerCase():"")}T=b}if(T)Oe(h,"complete"),Oe(h,"success");else{h.o=6;try{var j=Jn(h)>2?h.g.statusText:""}catch{j=""}h.l=j+" ["+h.ca()+"]",dl(h)}}finally{Xi(h)}}}}function Xi(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,y||Oe(h,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Jn(h){return h.g?h.g.readyState:0}n.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Yf(y)}};function Ge(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(h){const y={};h=(h.g&&Jn(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(D(h[b]))continue;var T=ec(h[b]);const j=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const G=y[j]||[];y[j]=G,G.push(T)}Nt(y,function(b){return b.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(h,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||y}function Vs(h){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,h),this.Za=xi("retryDelaySeedMs",1e4,h),this.Ta=xi("forwardChannelMaxRetries",2,h),this.va=xi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new nl(h&&h.concurrentRequestLimit),this.Ba=new xs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Vs.prototype,n.ka=8,n.I=1,n.connect=function(h,y,T,b){Se(0),this.W=h,this.H=y||{},T&&b!==void 0&&(this.H.OSID=T,this.H.OAID=b),this.F=this.X,this.J=pc(this,null,this.W),Di(this)};function ml(h){if(Na(h),h.I==3){var y=h.V++,T=we(h.J);if(Yt(T,"SID",h.M),Yt(T,"RID",y),Yt(T,"TYPE","terminate"),Pr(h,T),y=new Xn(h,h.j,y),y.M=2,y.A=xr(we(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.A,T=!0),T||(y.g=gc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ei(y)}mc(h)}function Ms(h){h.g&&(gl(h),h.g.cancel(),h.g=null)}function Na(h){Ms(h),h.v&&(c.clearTimeout(h.v),h.v=null),Pa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Di(h){if(!il(h.h)&&!h.m){h.m=!0;var y=h.Ea;nt||w(),ut||(nt(),ut=!0),I.add(y,h),h.D=0}}function Oa(h,y){return bi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=vi(g(h.Ea,h,y),dc(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const j=new Xn(this,this.j,h);let G=this.o;if(this.U&&(G?(G=P(G),lt(G,this.U)):G=this.U),this.u!==null||this.R||(j.J=G,G=null),this.S)t:{for(var y=0,T=0;T<this.i.length;T++){e:{var b=this.i[T];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=T;break t}if(y===4096||T===this.i.length-1){y=T+1;break t}}y=1e3}else y=1e3;y=uc(this,j,y),T=we(this.J),Yt(T,"RID",h),Yt(T,"CVER",22),this.G&&Yt(T,"X-HTTP-Session-Id",this.G),Pr(this,T),G&&(this.R?y="headers="+Qi(Nn(G))+"&"+y:this.u&&Mr(T,this.u,G)),sl(this.h,j),this.Ra&&Yt(T,"TYPE","init"),this.S?(Yt(T,"$req",y),Yt(T,"SID","null"),j.U=!0,Ti(j,T,null)):Ti(j,T,y),this.I=2}}else this.I==3&&(h?pl(this,h):this.i.length==0||il(this.h)||pl(this))};function pl(h,y){var T;y?T=y.l:T=h.V++;const b=we(h.J);Yt(b,"SID",h.M),Yt(b,"RID",T),Yt(b,"AID",h.K),Pr(h,b),h.u&&h.o&&Mr(b,h.u,h.o),T=new Xn(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),y&&(h.i=y.G.concat(h.i)),y=uc(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),sl(h.h,T),Ti(T,b,y)}function Pr(h,y){h.H&&It(h.H,function(T,b){Yt(y,b,T)}),h.l&&It({},function(T,b){Yt(y,b,T)})}function uc(h,y,T){T=Math.min(h.i.length,T);const b=h.l?g(h.l.Ka,h.l,h):null;t:{var j=h.i;let Rt=-1;for(;;){const ye=["count="+T];Rt==-1?T>0?(Rt=j[0].g,ye.push("ofs="+Rt)):Rt=0:ye.push("ofs="+Rt);let qt=!0;for(let oe=0;oe<T;oe++){var G=j[oe].g;const On=j[oe].map;if(G-=Rt,G<0)Rt=Math.max(0,j[oe].g-100),qt=!1;else try{G="req"+G+"_"||"";try{var ot=On instanceof Map?On:Object.entries(On);for(const[Mi,ti]of ot){let ei=ti;m(ti)&&(ei=bs(ti)),ye.push(G+Mi+"="+encodeURIComponent(ei))}}catch(Mi){throw ye.push(G+"type="+encodeURIComponent("_badmap")),Mi}}catch{b&&b(On)}}if(qt){ot=ye.join("&");break t}}ot=void 0}return h=h.i.splice(0,T),y.G=h,ot}function cc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;nt||w(),ut||(nt(),ut=!0),I.add(y,h),h.A=0}}function Lr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=vi(g(h.Da,h),dc(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,hc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=vi(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Se(10),Ms(this),hc(this))};function gl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function hc(h){h.g=new Xn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=we(h.na);Yt(y,"RID","rpc"),Yt(y,"SID",h.M),Yt(y,"AID",h.K),Yt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Yt(y,"TO",h.ia),Yt(y,"TYPE","xmlhttp"),Pr(h,y),h.u&&h.o&&Mr(y,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=xr(we(y)),T.u=null,T.R=!0,Ra(T,h)}n.Va=function(){this.C!=null&&(this.C=null,Ms(this),Lr(this),Se(19))};function Pa(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function fc(h,y){var T=null;if(h.g==y){Pa(h),gl(h),h.g=null;var b=2}else if(wi(h.h,y))T=y.G,rl(h.h,y),b=1;else return;if(h.I!=0){if(y.o)if(b==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var j=h.D;b=wa(),Oe(b,new yi(b,T)),Di(h)}else cc(h);else if(j=y.m,j==3||j==0&&y.X>0||!(b==1&&Oa(h,y)||b==2&&Lr(h)))switch(T&&T.length>0&&(y=h.h,y.i=y.i.concat(T)),j){case 1:Vi(h,5);break;case 4:Vi(h,10);break;case 3:Vi(h,6);break;default:Vi(h,2)}}}function dc(h,y){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*y}function Vi(h,y){if(h.j.info("Error code "+y),y==2){var T=g(h.bb,h),b=h.Ua;const j=!b;b=new En(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||je(b,"https"),xr(b),j?Wn(b.toString(),T):hl(b.toString(),T)}else Se(2);h.I=0,h.l&&h.l.pa(y),mc(h),Na(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))};function mc(h){if(h.I=0,h.ja=[],h.l){const y=al(h.h);(y.length!=0||h.i.length!=0)&&(x(h.ja,y),x(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function pc(h,y,T){var b=T instanceof En?we(T):new En(T);if(b.g!="")y&&(b.g=y+"."+b.g),ws(b,b.u);else{var j=c.location;b=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;const G=new En(null);b&&je(G,b),y&&(G.g=y),j&&ws(G,j),T&&(G.h=T),b=G}return T=h.G,y=h.wa,T&&y&&Yt(b,T,y),Yt(b,"VER",h.ka),Pr(h,b),b}function gc(h,y,T){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new $t(new Ci({ab:T})):new $t(h.ma),y.Fa(h.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function yc(){}n=yc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ns(){}Ns.prototype.g=function(h,y){return new ln(h,y)};function ln(h,y){Ee.call(this),this.g=new Vs(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!D(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Wi(this)}E(ln,Ee),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){ml(this.g)},ln.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=bs(h),h=T);y.i.push(new be(y.Ya++,h)),y.I==3&&Di(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,ml(this.g),delete this.g,ln.Z.N.call(this)};function vc(h){qe.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const T in y){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}E(vc,qe);function _c(){Dn.call(this),this.status=1}E(_c,Dn);function Wi(h){this.g=h}E(Wi,yc),Wi.prototype.ra=function(){Oe(this.g,"a")},Wi.prototype.qa=function(h){Oe(this.g,new vc(h))},Wi.prototype.pa=function(h){Oe(this.g,new _c)},Wi.prototype.oa=function(){Oe(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,Qb=function(){return new Ns},Yb=function(){return wa()},Kb=ge,ig={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cr.NO_ERROR=0,Cr.TIMEOUT=8,Cr.HTTP_ERROR=6,Hh=Cr,tl.COMPLETE="complete",Gb=tl,Wu.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,su=Wu,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,qb=$t}).apply(typeof Ih<"u"?Ih:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go="12.9.0";function uP(n){Go=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new Zg("@firebase/firestore");function mo(){return pa.logLevel}function ct(n,...t){if(pa.logLevel<=Lt.DEBUG){const e=t.map(hy);pa.debug(`Firestore (${Go}): ${n}`,...e)}}function Ts(n,...t){if(pa.logLevel<=Lt.ERROR){const e=t.map(hy);pa.error(`Firestore (${Go}): ${n}`,...e)}}function ga(n,...t){if(pa.logLevel<=Lt.WARN){const e=t.map(hy);pa.warn(`Firestore (${Go}): ${n}`,...e)}}function hy(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,Xb(n,r,e)}function Xb(n,t,e){let r=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Ts(r),new Error(r)}function Kt(n,t,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,n||Xb(t,o,r)}function wt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends Ss{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class cP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(nn.UNAUTHENTICATED)))}shutdown(){}}class hP{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class fP{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Kt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,e(p)):Promise.resolve();let u=new ua;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ua,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ua)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string",31837,{l:r}),new $b(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class dP{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class mP{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new dP(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class uS{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pP{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Kt(this.o===void 0,3512);const r=u=>{u.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new uS(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Kt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new uS(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=gP(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<e&&(r+=t.charAt(o[u]%62))}return r}}function kt(n,t){return n<t?-1:n>t?1:0}function sg(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const o=n.charAt(r),u=t.charAt(r);if(o!==u)return Tp(o)===Tp(u)?kt(o,u):Tp(o)?1:-1}return kt(n.length,t.length)}const yP=55296,vP=57343;function Tp(n){const t=n.charCodeAt(0);return t>=yP&&t<=vP}function Oo(n,t,e){return n.length===t.length&&n.every(((r,o)=>e(r,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="__name__";class Ui{constructor(t,e,r){e===void 0?e=0:e>t.length&&Tt(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&Tt(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return Ui.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ui?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const u=Ui.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return kt(t.length,e.length)}static compareSegments(t,e){const r=Ui.isNumericId(t),o=Ui.isNumericId(e);return r&&!o?-1:!r&&o?1:r&&o?Ui.extractNumericId(t).compare(Ui.extractNumericId(e)):sg(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return dr.fromString(t.substring(4,t.length-2))}}class ue extends Ui{construct(t,e,r){return new ue(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new gt(it.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((o=>o.length>0)))}return new ue(e)}static emptyPath(){return new ue([])}}const _P=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Ui{construct(t,e,r){return new Ze(t,e,r)}static isValidIdentifier(t){return _P.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cS}static keyField(){return new Ze([cS])}static fromServerFormat(t){const e=[];let r="",o=0;const u=()=>{if(r.length===0)throw new gt(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new gt(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new gt(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new gt(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(e)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ue.fromString(t))}static fromName(t){return new vt(ue.fromString(t).popFirst(5))}static empty(){return new vt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ue.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ue(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(n,t,e){if(!e)throw new gt(it.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function EP(n,t,e,r){if(t===!0&&r===!0)throw new gt(it.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function hS(n){if(!vt.isDocumentKey(n))throw new gt(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Wb(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function dy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Tt(12329,{type:typeof n})}function Co(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new gt(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=dy(n);throw new gt(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(n,t){const e={typeString:n};return t&&(e.value=t),e}function Hu(n,t){if(!Wb(n))throw new gt(it.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const c=n[r];if(o&&typeof c!==o){e=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){e=`Expected '${r}' field to equal '${u.value}'`;break}}if(e)throw new gt(it.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=-62135596800,dS=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*dS);return new re(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new gt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new gt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<fS)throw new gt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dS}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hu(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-fS;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Me("string",re._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new re(0,0))}static max(){return new At(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=-1;function SP(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=At.fromTimestamp(r===1e9?new re(e+1,0):new re(e,r));return new pr(o,vt.empty(),t)}function AP(n){return new pr(n.readTime,n.key,Ru)}class pr{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new pr(At.min(),vt.empty(),Ru)}static max(){return new pr(At.max(),vt.empty(),Ru)}}function bP(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=vt.comparator(n.documentKey,t.documentKey),e!==0?e:kt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(n){if(n.code!==it.FAILED_PRECONDITION||n.message!==wP)throw n;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new et(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(r,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof et?e:et.resolve(e)}catch(e){return et.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):et.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):et.reject(e)}static resolve(t){return new et(((e,r)=>{e(t)}))}static reject(t){return new et(((e,r)=>{r(t)}))}static waitFor(t){return new et(((e,r)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&e()}),(p=>r(p)))})),c=!0,u===o&&e()}))}static or(t){let e=et.resolve(!1);for(const r of t)e=e.next((o=>o?et.resolve(o):r()));return e}static forEach(t,e){const r=[];return t.forEach(((o,u)=>{r.push(e.call(this,o,u))})),this.waitFor(r)}static mapArray(t,e){return new et(((r,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;e(t[g]).next((v=>{c[g]=v,++m,m===u&&r(c)}),(v=>o(v)))}}))}static doWhile(t,e){return new et(((r,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):r()};u()}))}}function CP(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Yo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Nf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my=-1;function Of(n){return n==null}function ff(n){return n===0&&1/n==-1/0}function IP(n){return typeof n=="number"&&Number.isInteger(n)&&!ff(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="";function xP(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=mS(t)),t=DP(n.get(e),t);return mS(t)}function DP(n,t){let e=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":e+="";break;case Zb:e+="";break;default:e+=u}}return e}function mS(n){return n+Zb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function va(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Jb(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t,e){this.comparator=t,this.root=e||We.EMPTY}insert(t,e){return new he(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xh(this.root,t,this.comparator,!1)}getReverseIterator(){return new xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xh(this.root,t,this.comparator,!0)}}class xh{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?r(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,e,r,o,u){this.key=t,this.value=e,this.color=r??We.RED,this.left=o??We.EMPTY,this.right=u??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,u){return new We(t??this.key,e??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,r),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return We.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,e,r,o,u){return this}insert(t,e,r){return new We(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new gS(this.data.getIterator())}getIteratorFrom(t){return new gS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ue(this.comparator);return e.data=t,e}}class gS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new ui([])}unionWith(t){let e=new Ue(Ze.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new ui(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Oo(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new tw("Invalid base64 string: "+u):u}})(t);return new Je(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new Je(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const VP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(n){if(Kt(!!n,39018),typeof n=="string"){let t=0;const e=VP.exec(n);if(Kt(!!e,46558,{timestamp:n}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Te(n.seconds),nanos:Te(n.nanos)}}function Te(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function yr(n){return typeof n=="string"?Je.fromBase64String(n):Je.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="server_timestamp",nw="__type__",iw="__previous_value__",sw="__local_write_time__";function py(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[nw])==null?void 0:r.stringValue)===ew}function Pf(n){const t=n.mapValue.fields[iw];return py(t)?Pf(t):t}function Cu(n){const t=gr(n.mapValue.fields[sw].timestampValue);return new re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(t,e,r,o,u,c,m,p,g,v,E){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v,this.apiKey=E}}const df="(default)";class Iu{constructor(t,e){this.projectId=t,this.database=e||df}static empty(){return new Iu("","")}get isDefaultDatabase(){return this.database===df}isEqual(t){return t instanceof Iu&&t.projectId===this.projectId&&t.database===this.database}}function NP(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new gt(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Iu(n.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="__type__",OP="__max__",Dh={mapValue:{}},aw="__vector__",mf="value";function vr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?py(n)?4:LP(n)?9007199254740991:PP(n)?10:11:Tt(28295,{value:n})}function Ki(n,t){if(n===t)return!0;const e=vr(n);if(e!==vr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Cu(n).isEqual(Cu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=gr(o.timestampValue),m=gr(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return yr(o.bytesValue).isEqual(yr(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return Te(o.geoPointValue.latitude)===Te(u.geoPointValue.latitude)&&Te(o.geoPointValue.longitude)===Te(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Te(o.integerValue)===Te(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Te(o.doubleValue),m=Te(u.doubleValue);return c===m?ff(c)===ff(m):isNaN(c)&&isNaN(m)}return!1})(n,t);case 9:return Oo(n.arrayValue.values||[],t.arrayValue.values||[],Ki);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(pS(c)!==pS(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!Ki(c[p],m[p])))return!1;return!0})(n,t);default:return Tt(52216,{left:n})}}function xu(n,t){return(n.values||[]).find((e=>Ki(e,t)))!==void 0}function Po(n,t){if(n===t)return 0;const e=vr(n),r=vr(t);if(e!==r)return kt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return kt(n.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=Te(u.integerValue||u.doubleValue),p=Te(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(n,t);case 3:return yS(n.timestampValue,t.timestampValue);case 4:return yS(Cu(n),Cu(t));case 5:return sg(n.stringValue,t.stringValue);case 6:return(function(u,c){const m=yr(u),p=yr(c);return m.compareTo(p)})(n.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=kt(m[g],p[g]);if(v!==0)return v}return kt(m.length,p.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=kt(Te(u.latitude),Te(c.latitude));return m!==0?m:kt(Te(u.longitude),Te(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return vS(n.arrayValue,t.arrayValue);case 10:return(function(u,c){var S,C,x,z;const m=u.fields||{},p=c.fields||{},g=(S=m[mf])==null?void 0:S.arrayValue,v=(C=p[mf])==null?void 0:C.arrayValue,E=kt(((x=g==null?void 0:g.values)==null?void 0:x.length)||0,((z=v==null?void 0:v.values)==null?void 0:z.length)||0);return E!==0?E:vS(g,v)})(n.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Dh.mapValue&&c===Dh.mapValue)return 0;if(u===Dh.mapValue)return 1;if(c===Dh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const S=sg(p[E],v[E]);if(S!==0)return S;const C=Po(m[p[E]],g[v[E]]);if(C!==0)return C}return kt(p.length,v.length)})(n.mapValue,t.mapValue);default:throw Tt(23264,{he:e})}}function yS(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return kt(n,t);const e=gr(n),r=gr(t),o=kt(e.seconds,r.seconds);return o!==0?o:kt(e.nanos,r.nanos)}function vS(n,t){const e=n.values||[],r=t.values||[];for(let o=0;o<e.length&&o<r.length;++o){const u=Po(e[o],r[o]);if(u)return u}return kt(e.length,r.length)}function Lo(n){return rg(n)}function rg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=gr(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return yr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return vt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",o=!0;for(const u of e.values||[])o?o=!1:r+=",",r+=rg(u);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${rg(e.fields[c])}`;return o+"}"})(n.mapValue):Tt(61005,{value:n})}function qh(n){switch(vr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Pf(n);return t?16+qh(t):16;case 5:return 2*n.stringValue.length;case 6:return yr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+qh(u)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return va(r.fields,((u,c)=>{o+=u.length+qh(c)})),o})(n.mapValue);default:throw Tt(13486,{value:n})}}function ag(n){return!!n&&"integerValue"in n}function gy(n){return!!n&&"arrayValue"in n}function _S(n){return!!n&&"nullValue"in n}function TS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gh(n){return!!n&&"mapValue"in n}function PP(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[rw])==null?void 0:r.stringValue)===aw}function pu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return va(n.mapValue.fields,((e,r)=>t.mapValue.fields[e]=pu(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=pu(n.arrayValue.values[e]);return t}return{...n}}function LP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===OP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t){this.value=t}static empty(){return new Hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!Gh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=pu(e)}setAll(t){let e=Ze.emptyPath(),r={},o=[];t.forEach(((c,m)=>{if(!e.isImmediateParentOf(m)){const p=this.getFieldsMap(e);this.applyChanges(p,r,o),r={},o=[],e=m.popLast()}c?r[m.lastSegment()]=pu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,r,o)}delete(t){const e=this.field(t.popLast());Gh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ki(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];Gh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){va(e,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new Hn(pu(this.value))}}function ow(n){const t=[];return va(n.fields,((e,r)=>{const o=new Ze([e]);if(Gh(r)){const u=ow(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new ui(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t,e,r,o,u,c,m){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new sn(t,0,At.min(),At.min(),At.min(),Hn.empty(),0)}static newFoundDocument(t,e,r,o){return new sn(t,1,e,At.min(),r,o,0)}static newNoDocument(t,e){return new sn(t,2,e,At.min(),At.min(),Hn.empty(),0)}static newUnknownDocument(t,e){return new sn(t,3,e,At.min(),At.min(),Hn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(t,e){this.position=t,this.inclusive=e}}function ES(n,t,e){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],c=n.position[o];if(u.field.isKeyField()?r=vt.comparator(vt.fromName(c.referenceValue),e.key):r=Po(c,e.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function SS(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ki(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(t,e="asc"){this.field=t,this.dir=e}}function kP(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{}class ke extends lw{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new zP(t,e,r):e==="array-contains"?new FP(t,r):e==="in"?new HP(t,r):e==="not-in"?new qP(t,r):e==="array-contains-any"?new GP(t,r):new ke(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new jP(t,r):new BP(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Po(e,this.value)):e!==null&&vr(this.value)===vr(e)&&this.matchesComparison(Po(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yi extends lw{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Yi(t,e)}matches(t){return uw(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uw(n){return n.op==="and"}function cw(n){return UP(n)&&uw(n)}function UP(n){for(const t of n.filters)if(t instanceof Yi)return!1;return!0}function og(n){if(n instanceof ke)return n.field.canonicalString()+n.op.toString()+Lo(n.value);if(cw(n))return n.filters.map((t=>og(t))).join(",");{const t=n.filters.map((e=>og(e))).join(",");return`${n.op}(${t})`}}function hw(n,t){return n instanceof ke?(function(r,o){return o instanceof ke&&r.op===o.op&&r.field.isEqual(o.field)&&Ki(r.value,o.value)})(n,t):n instanceof Yi?(function(r,o){return o instanceof Yi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&hw(c,o.filters[m])),!0):!1})(n,t):void Tt(19439)}function fw(n){return n instanceof ke?(function(e){return`${e.field.canonicalString()} ${e.op} ${Lo(e.value)}`})(n):n instanceof Yi?(function(e){return e.op.toString()+" {"+e.getFilters().map(fw).join(" ,")+"}"})(n):"Filter"}class zP extends ke{constructor(t,e,r){super(t,e,r),this.key=vt.fromName(r.referenceValue)}matches(t){const e=vt.comparator(t.key,this.key);return this.matchesComparison(e)}}class jP extends ke{constructor(t,e){super(t,"in",e),this.keys=dw("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class BP extends ke{constructor(t,e){super(t,"not-in",e),this.keys=dw("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function dw(n,t){var e;return(((e=t.arrayValue)==null?void 0:e.values)||[]).map((r=>vt.fromName(r.referenceValue)))}class FP extends ke{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return gy(e)&&xu(e.arrayValue,this.value)}}class HP extends ke{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&xu(this.value.arrayValue,e)}}class qP extends ke{constructor(t,e){super(t,"not-in",e)}matches(t){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!xu(this.value.arrayValue,e)}}class GP extends ke{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!gy(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>xu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(t,e=null,r=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function AS(n,t=null,e=[],r=[],o=null,u=null,c=null){return new KP(n,t,e,r,o,u,c)}function yy(n){const t=wt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>og(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Of(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>Lo(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>Lo(r))).join(",")),t.Te=e}return t.Te}function vy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!kP(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!hw(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!SS(n.startAt,t.startAt)&&SS(n.endAt,t.endAt)}function lg(n){return vt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(t,e=null,r=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function YP(n,t,e,r,o,u,c,m){return new Lf(n,t,e,r,o,u,c,m)}function _y(n){return new Lf(n)}function bS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function QP(n){return vt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function XP(n){return n.collectionGroup!==null}function gu(n){const t=wt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Ue(Ze.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new gf(u,r))})),e.has(Ze.keyField().canonicalString())||t.Ie.push(new gf(Ze.keyField(),r))}return t.Ie}function Bi(n){const t=wt(n);return t.Ee||(t.Ee=$P(t,gu(n))),t.Ee}function $P(n,t){if(n.limitType==="F")return AS(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new gf(o.field,u)}));const e=n.endAt?new pf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new pf(n.startAt.position,n.startAt.inclusive):null;return AS(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function ug(n,t,e){return new Lf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function kf(n,t){return vy(Bi(n),Bi(t))&&n.limitType===t.limitType}function mw(n){return`${yy(Bi(n))}|lt:${n.limitType}`}function po(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((o=>fw(o))).join(", ")}]`),Of(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((o=>Lo(o))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((o=>Lo(o))).join(",")),`Target(${r})`})(Bi(n))}; limitType=${n.limitType})`}function Uf(n,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):vt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(n,t)&&(function(r,o){for(const u of gu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(r,o){return!(r.startAt&&!(function(c,m,p){const g=ES(c,m,p);return c.inclusive?g<=0:g<0})(r.startAt,gu(r),o)||r.endAt&&!(function(c,m,p){const g=ES(c,m,p);return c.inclusive?g>=0:g>0})(r.endAt,gu(r),o))})(n,t)}function WP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function pw(n){return(t,e)=>{let r=!1;for(const o of gu(n)){const u=ZP(o,t,e);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function ZP(n,t,e){const r=n.field.isKeyField()?vt.comparator(t.key,e.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Po(p,g):Tt(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Tt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){va(this.inner,((e,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return Jb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=new he(vt.comparator);function Es(){return JP}const gw=new he(vt.comparator);function ru(...n){let t=gw;for(const e of n)t=t.insert(e.key,e);return t}function yw(n){let t=gw;return n.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function aa(){return yu()}function vw(){return yu()}function yu(){return new _a((n=>n.toString()),((n,t)=>n.isEqual(t)))}const t3=new he(vt.comparator),e3=new Ue(vt.comparator);function Ut(...n){let t=e3;for(const e of n)t=t.add(e);return t}const n3=new Ue(kt);function i3(){return n3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ff(t)?"-0":t}}function _w(n){return{integerValue:""+n}}function s3(n,t){return IP(t)?_w(t):Ty(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(){this._=void 0}}function r3(n,t,e){return n instanceof yf?(function(o,u){const c={fields:{[nw]:{stringValue:ew},[sw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&py(u)&&(u=Pf(u)),u&&(c.fields[iw]=u),{mapValue:c}})(e,t):n instanceof Du?Ew(n,t):n instanceof Vu?Sw(n,t):(function(o,u){const c=Tw(o,u),m=wS(c)+wS(o.Ae);return ag(c)&&ag(o.Ae)?_w(m):Ty(o.serializer,m)})(n,t)}function a3(n,t,e){return n instanceof Du?Ew(n,t):n instanceof Vu?Sw(n,t):e}function Tw(n,t){return n instanceof vf?(function(r){return ag(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class yf extends zf{}class Du extends zf{constructor(t){super(),this.elements=t}}function Ew(n,t){const e=Aw(t);for(const r of n.elements)e.some((o=>Ki(o,r)))||e.push(r);return{arrayValue:{values:e}}}class Vu extends zf{constructor(t){super(),this.elements=t}}function Sw(n,t){let e=Aw(t);for(const r of n.elements)e=e.filter((o=>!Ki(o,r)));return{arrayValue:{values:e}}}class vf extends zf{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function wS(n){return Te(n.integerValue||n.doubleValue)}function Aw(n){return gy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function o3(n,t){return n.field.isEqual(t.field)&&(function(r,o){return r instanceof Du&&o instanceof Du||r instanceof Vu&&o instanceof Vu?Oo(r.elements,o.elements,Ki):r instanceof vf&&o instanceof vf?Ki(r.Ae,o.Ae):r instanceof yf&&o instanceof yf})(n.transform,t.transform)}class l3{constructor(t,e){this.version=t,this.transformResults=e}}class gs{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new gs}static exists(t){return new gs(void 0,t)}static updateTime(t){return new gs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Kh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class jf{}function bw(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Rw(n.key,gs.none()):new qu(n.key,n.data,gs.none());{const e=n.data,r=Hn.empty();let o=new Ue(Ze.comparator);for(let u of t.fields)if(!o.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new Ta(n.key,r,new ui(o.toArray()),gs.none())}}function u3(n,t,e){n instanceof qu?(function(o,u,c){const m=o.value.clone(),p=CS(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,t,e):n instanceof Ta?(function(o,u,c){if(!Kh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=CS(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(ww(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,t,e):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function vu(n,t,e,r){return n instanceof qu?(function(u,c,m,p){if(!Kh(u.precondition,c))return m;const g=u.value.clone(),v=IS(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,t,e,r):n instanceof Ta?(function(u,c,m,p){if(!Kh(u.precondition,c))return m;const g=IS(u.fieldTransforms,p,c),v=c.data;return v.setAll(ww(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(n,t,e,r):(function(u,c,m){return Kh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(n,t,e)}function c3(n,t){let e=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=Tw(r.transform,o||null);u!=null&&(e===null&&(e=Hn.empty()),e.set(r.field,u))}return e||null}function RS(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Oo(r,o,((u,c)=>o3(u,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class qu extends jf{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ta extends jf{constructor(t,e,r,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ww(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}})),t}function CS(n,t,e){const r=new Map;Kt(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let o=0;o<e.length;o++){const u=n[o],c=u.transform,m=t.data.field(u.field);r.set(u.field,a3(c,m,e[o]))}return r}function IS(n,t,e){const r=new Map;for(const o of n){const u=o.transform,c=e.data.field(o.field);r.set(o.field,r3(u,c,t))}return r}class Rw extends jf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h3 extends jf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&u3(u,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=vu(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=vu(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=vw();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=e.has(o.key)?null:m;const p=bw(c,m);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(At.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Oo(this.mutations,t.mutations,((e,r)=>RS(e,r)))&&Oo(this.baseMutations,t.baseMutations,((e,r)=>RS(e,r)))}}class Ey{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){Kt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return t3})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Ey(t,e,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De,Bt;function p3(n){switch(n){case it.OK:return Tt(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return Tt(15467,{code:n})}}function Cw(n){if(n===void 0)return Ts("GRPC error has no .code"),it.UNKNOWN;switch(n){case De.OK:return it.OK;case De.CANCELLED:return it.CANCELLED;case De.UNKNOWN:return it.UNKNOWN;case De.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case De.INTERNAL:return it.INTERNAL;case De.UNAVAILABLE:return it.UNAVAILABLE;case De.UNAUTHENTICATED:return it.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case De.NOT_FOUND:return it.NOT_FOUND;case De.ALREADY_EXISTS:return it.ALREADY_EXISTS;case De.PERMISSION_DENIED:return it.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case De.ABORTED:return it.ABORTED;case De.OUT_OF_RANGE:return it.OUT_OF_RANGE;case De.UNIMPLEMENTED:return it.UNIMPLEMENTED;case De.DATA_LOSS:return it.DATA_LOSS;default:return Tt(39323,{code:n})}}(Bt=De||(De={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=new dr([4294967295,4294967295],0);function xS(n){const t=g3().encode(n),e=new Hb;return e.update(t),new Uint8Array(e.digest())}function DS(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new dr([e,r],0),new dr([o,u],0)]}class Sy{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new au(`Invalid padding: ${e}`);if(r<0)throw new au(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new au(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=dr.fromNumber(this.ge)}ye(t,e,r){let o=t.add(e.multiply(dr.fromNumber(r)));return o.compare(y3)===1&&(o=new dr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=xS(t),[r,o]=DS(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Sy(u,o,e);return r.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const e=xS(t),[r,o]=DS(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.be(c)}}be(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(t,e,r,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,Gu.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Bf(At.min(),o,new he(kt),Es(),Ut())}}class Gu{constructor(t,e,r,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Gu(r,e,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(t,e,r,o){this.Se=t,this.removedTargetIds=e,this.key=r,this.De=o}}class Iw{constructor(t,e){this.targetId=t,this.Ce=e}}class xw{constructor(t,e,r=Je.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class VS{constructor(){this.ve=0,this.Fe=MS(),this.Me=Je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),e=Ut(),r=Ut();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:Tt(38017,{changeType:u})}})),new Gu(this.Me,this.xe,t,e,r)}Ke(){this.Oe=!1,this.Fe=MS()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class v3{constructor(t){this.Ge=t,this.ze=new Map,this.je=Es(),this.He=Vh(),this.Je=Vh(),this.Ze=new he(kt)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,r=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(lg(u))if(r===0){const c=new vt(u.path);this.et(e,c,sn.newNoDocument(c,At.min()))}else Kt(r===1,20013,{expectedCount:r});else{const c=this._t(e);if(c!==r){const m=this.ut(t),p=m?this.ct(m,t,c):1;if(p!==0){this.it(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=e;let c,m;try{c=yr(r).toUint8Array()}catch(p){if(p instanceof tw)return ga("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Sy(c,o,u)}catch(p){return ga(p instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&lg(m.target)){const p=new vt(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,sn.newNoDocument(p,t))}u.Be&&(e.set(c,u.ke()),u.Ke())}}));let r=Ut();this.Je.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Bf(t,e,this.Ze,this.je,r);return this.je=Es(),this.He=Vh(),this.Je=Vh(),this.Ze=new he(kt),o}Ye(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,r),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.qe(e,1):o.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new VS,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new Ue(kt),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new Ue(kt),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ct("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new VS),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Vh(){return new he(vt.comparator)}function MS(){return new he(vt.comparator)}const _3={asc:"ASCENDING",desc:"DESCENDING"},T3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E3={and:"AND",or:"OR"};class S3{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function cg(n,t){return n.useProto3Json||Of(t)?t:{value:t}}function _f(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Dw(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function A3(n,t){return _f(n,t.toTimestamp())}function Fi(n){return Kt(!!n,49232),At.fromTimestamp((function(e){const r=gr(e);return new re(r.seconds,r.nanos)})(n))}function Ay(n,t){return hg(n,t).canonicalString()}function hg(n,t){const e=(function(o){return new ue(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?e:e.child(t)}function Vw(n){const t=ue.fromString(n);return Kt(Lw(t),10190,{key:t.toString()}),t}function fg(n,t){return Ay(n.databaseId,t.path)}function Ep(n,t){const e=Vw(t);if(e.get(1)!==n.databaseId.projectId)throw new gt(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new gt(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new vt(Nw(e))}function Mw(n,t){return Ay(n.databaseId,t)}function b3(n){const t=Vw(n);return t.length===4?ue.emptyPath():Nw(t)}function dg(n){return new ue(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Nw(n){return Kt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function NS(n,t,e){return{name:fg(n,t),fields:e.value.mapValue.fields}}function w3(n,t){let e;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Kt(v===void 0||typeof v=="string",58123),Je.fromBase64String(v||"")):(Kt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Je.fromUint8Array(v||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(g){const v=g.code===void 0?it.UNKNOWN:Cw(g.code);return new gt(v,g.message||"")})(c);e=new xw(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Ep(n,r.document.name),u=Fi(r.document.updateTime),c=r.document.createTime?Fi(r.document.createTime):At.min(),m=new Hn({mapValue:{fields:r.document.fields}}),p=sn.newFoundDocument(o,u,c,m),g=r.targetIds||[],v=r.removedTargetIds||[];e=new Yh(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Ep(n,r.document),u=r.readTime?Fi(r.readTime):At.min(),c=sn.newNoDocument(o,u),m=r.removedTargetIds||[];e=new Yh([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Ep(n,r.document),u=r.removedTargetIds||[];e=new Yh([],u,o,null)}else{if(!("filter"in t))return Tt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new m3(o,u),m=r.targetId;e=new Iw(m,c)}}return e}function R3(n,t){let e;if(t instanceof qu)e={update:NS(n,t.key,t.value)};else if(t instanceof Rw)e={delete:fg(n,t.key)};else if(t instanceof Ta)e={update:NS(n,t.key,t.data),updateMask:P3(t.fieldMask)};else{if(!(t instanceof h3))return Tt(16599,{dt:t.type});e={verify:fg(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof yf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Du)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Vu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof vf)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw Tt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:A3(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt(27497)})(n,t.precondition)),e}function C3(n,t){return n&&n.length>0?(Kt(t!==void 0,14353),n.map((e=>(function(o,u){let c=o.updateTime?Fi(o.updateTime):Fi(u);return c.isEqual(At.min())&&(c=Fi(u)),new l3(c,o.transformResults||[])})(e,t)))):[]}function I3(n,t){return{documents:[Mw(n,t.path)]}}function x3(n,t){const e={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=Mw(n,o);const u=(function(g){if(g.length!==0)return Pw(Yi.create(g,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(S){return{field:go(S.field),direction:M3(S.dir)}})(v)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const m=cg(n,t.limit);return m!==null&&(e.structuredQuery.limit=m),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:o}}function D3(n){let t=b3(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){Kt(r===1,65062);const v=e.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];e.where&&(u=(function(E){const S=Ow(E);return S instanceof Yi&&cw(S)?S.getFilters():[S]})(e.where));let c=[];e.orderBy&&(c=(function(E){return E.map((S=>(function(x){return new gf(yo(x.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(S)))})(e.orderBy));let m=null;e.limit&&(m=(function(E){let S;return S=typeof E=="object"?E.value:E,Of(S)?null:S})(e.limit));let p=null;e.startAt&&(p=(function(E){const S=!!E.before,C=E.values||[];return new pf(C,S)})(e.startAt));let g=null;return e.endAt&&(g=(function(E){const S=!E.before,C=E.values||[];return new pf(C,S)})(e.endAt)),YP(t,o,c,u,m,"F",p,g)}function V3(n,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Ow(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=yo(e.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=yo(e.unaryFilter.field);return ke.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=yo(e.unaryFilter.field);return ke.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=yo(e.unaryFilter.field);return ke.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return ke.create(yo(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Yi.create(e.compositeFilter.filters.map((r=>Ow(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(e.compositeFilter.op))})(n):Tt(30097,{filter:n})}function M3(n){return _3[n]}function N3(n){return T3[n]}function O3(n){return E3[n]}function go(n){return{fieldPath:n.canonicalString()}}function yo(n){return Ze.fromServerFormat(n.fieldPath)}function Pw(n){return n instanceof ke?(function(e){if(e.op==="=="){if(TS(e.value))return{unaryFilter:{field:go(e.field),op:"IS_NAN"}};if(_S(e.value))return{unaryFilter:{field:go(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(TS(e.value))return{unaryFilter:{field:go(e.field),op:"IS_NOT_NAN"}};if(_S(e.value))return{unaryFilter:{field:go(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(e.field),op:N3(e.op),value:e.value}}})(n):n instanceof Yi?(function(e){const r=e.getFilters().map((o=>Pw(o)));return r.length===1?r[0]:{compositeFilter:{op:O3(e.op),filters:r}}})(n):Tt(54877,{filter:n})}function P3(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Lw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function kw(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(t,e,r,o,u=At.min(),c=At.min(),m=Je.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new ur(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(t){this.yt=t}}function k3(n){const t=D3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ug(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(){this.Sn=new z3}addToCollectionParentIndex(t,e){return this.Sn.add(e),et.resolve()}getCollectionParents(t,e){return et.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return et.resolve()}deleteFieldIndex(t,e){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,e){return et.resolve()}getDocumentsMatchingTarget(t,e){return et.resolve(null)}getIndexType(t,e){return et.resolve(0)}getFieldIndexes(t,e){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,e){return et.resolve(pr.min())}getMinOffsetFromCollectionGroup(t,e){return et.resolve(pr.min())}updateCollectionGroup(t,e,r){return et.resolve()}updateIndexEntries(t,e){return et.resolve()}}class z3{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new Ue(ue.comparator),u=!o.has(r);return this.index[e]=o.add(r),u}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ue(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Uw=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(Uw,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new ko(0)}static ar(){return new ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="LruGarbageCollector",j3=1048576;function LS([n,t],[e,r]){const o=kt(n,e);return o===0?kt(t,r):o}class B3{constructor(t){this.Pr=t,this.buffer=new Ue(LS),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();LS(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class F3{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ct(PS,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Yo(e)?ct(PS,"Ignoring IndexedDB error during garbage collection: ",e):await Ko(e)}await this.Ar(3e5)}))}}class H3{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return et.resolve(Nf.ce);const r=new B3(e);return this.Vr.forEachTarget(t,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.Vr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(OS)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OS):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let r,o,u,c,m,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(t,o)))).next((E=>(r=E,m=Date.now(),this.removeTargets(t,r,e)))).next((E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((E=>(g=Date.now(),mo()<=Lt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function q3(n,t){return new H3(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(){this.changes=new _a((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?et.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(r!==null&&vu(r.mutation,o,ui.empty(),re.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,Ut()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=Ut()){const o=aa();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,r).next((u=>{let c=ru();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const r=aa();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,Ut())))}populateOverlays(t,e,r){const o=[];return r.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{e.set(c,m)}))}))}computeViews(t,e,r,o){let u=Es();const c=yu(),m=(function(){return yu()})();return e.forEach(((p,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Ta)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),vu(v.mutation,g,v.mutation.getFieldMask(),re.now())):c.set(g.key,ui.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>c.set(g,v))),e.forEach(((g,v)=>m.set(g,new K3(v,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,e){const r=yu();let o=new he(((c,m)=>c-m)),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=e.get(p);if(g===null)return;let v=r.get(p)||ui.empty();v=m.applyToLocalView(g,v),r.set(p,v);const E=(o.get(m.batchId)||Ut()).add(p);o=o.insert(m.batchId,E)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,E=vw();v.forEach((S=>{if(!u.has(S)){const C=bw(e.get(S),r.get(S));C!==null&&E.set(S,C),u=u.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,E))}return et.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,o){return QP(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):XP(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o)}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-u.size):et.resolve(aa());let m=Ru,p=u;return c.next((g=>et.forEach(g,((v,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),u.get(v)?et.resolve():this.remoteDocumentCache.getEntry(t,v).next((S=>{p=p.insert(v,S)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Ut()))).next((v=>({batchId:m,changes:yw(v)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new vt(e)).next((r=>{let o=ru();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const u=e.collectionGroup;let c=ru();return this.indexManager.getCollectionParents(t,u).next((m=>et.forEach(m,(p=>{const g=(function(E,S){return new Lf(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(e,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((v=>{v.forEach(((E,S)=>{c=c.insert(E,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,u,o)))).next((c=>{u.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,sn.newInvalidDocument(v)))}));let m=ru();return c.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&vu(v.mutation,g,ui.empty(),re.now()),Uf(e,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return et.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:Fi(o.createTime)}})(e)),et.resolve()}getNamedQuery(t,e){return et.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(o){return{name:o.name,query:k3(o.bundledQuery),readTime:Fi(o.readTime)}})(e)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(){this.overlays=new he(vt.comparator),this.Lr=new Map}getOverlay(t,e){return et.resolve(this.overlays.get(e))}getOverlays(t,e){const r=aa();return et.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((o,u)=>{this.bt(t,e,u)})),et.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),et.resolve()}getOverlaysForCollection(t,e,r){const o=aa(),u=e.length+1,c=new vt(e.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return et.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let u=new he(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>r){let v=u.get(g.largestBatchId);v===null&&(v=aa(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=aa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return et.resolve(m)}bt(t,e,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new d3(e,r));let u=this.Lr.get(e);u===void 0&&(u=Ut(),this.Lr.set(e,u)),this.Lr.set(e,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(){this.kr=new Ue(Fe.Kr),this.qr=new Ue(Fe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const r=new Fe(t,e);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Wr(new Fe(t,e))}Qr(t,e){t.forEach((r=>this.removeReference(r,e)))}Gr(t){const e=new vt(new ue([])),r=new Fe(e,t),o=new Fe(e,t+1),u=[];return this.qr.forEachInRange([r,o],(c=>{this.Wr(c),u.push(c.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new vt(new ue([])),r=new Fe(e,t),o=new Fe(e,t+1);let u=Ut();return this.qr.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const e=new Fe(t,0),r=this.kr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class Fe{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return vt.comparator(t.key,e.key)||kt(t.Hr,e.Hr)}static Ur(t,e){return kt(t.Hr,e.Hr)||vt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new Ue(Fe.Kr)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new f3(u,e,r,o);this.mutationQueue.push(c);for(const m of o)this.Jr=this.Jr.add(new Fe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return et.resolve(c)}lookupMutationBatch(t,e){return et.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=this.Xr(r),u=o<0?0:o;return et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?my:this.Yn-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Fe(e,0),o=new Fe(e,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(c=>{const m=this.Zr(c.Hr);u.push(m)})),et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Ue(kt);return e.forEach((o=>{const u=new Fe(o,0),c=new Fe(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,c],(m=>{r=r.add(m.Hr)}))})),et.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let u=r;vt.isDocumentKey(u)||(u=u.child(""));const c=new Fe(new vt(u),0);let m=new Ue(kt);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),c),et.resolve(this.Yr(m))}Yr(t){const e=[];return t.forEach((r=>{const o=this.Zr(r);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){Kt(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return et.forEach(e.mutations,(o=>{const u=new Fe(o.key,e.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,e){const r=new Fe(e,0),o=this.Jr.firstAfterOrEqual(r);return et.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(t){this.ti=t,this.docs=(function(){return new he(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),u=o?o.size:0,c=this.ti(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return et.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(e))}getEntries(t,e){let r=Es();return e.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))})),et.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let u=Es();const c=e.path,m=new vt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||bP(AP(v),r)<=0||(o.has(v.key)||Uf(e,v))&&(u=u.insert(v.key,v.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(t,e,r,o){Tt(9500)}ni(t,e){return et.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new J3(this)}getSize(t){return et.resolve(this.size)}}class J3 extends G3{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?e.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(r)})),et.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(t){this.persistence=t,this.ri=new _a((e=>yy(e)),vy),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.ii=0,this.si=new by,this.targetCount=0,this.oi=ko._r()}forEachTarget(t,e){return this.ri.forEach(((r,o)=>e(o))),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.ii&&(this.ii=e),et.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new ko(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,et.resolve()}updateTargetData(t,e){return this.lr(e),et.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,e,r){let o=0;const u=[];return this.ri.forEach(((c,m)=>{m.sequenceNumber<=e&&r.get(m.targetId)===null&&(this.ri.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),et.waitFor(u).next((()=>o))}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,e){const r=this.ri.get(e)||null;return et.resolve(r)}addMatchingKeys(t,e,r){return this.si.$r(e,r),et.resolve()}removeMatchingKeys(t,e,r){this.si.Qr(e,r);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),et.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),et.resolve()}getMatchingKeysForTargetId(t,e){const r=this.si.jr(e);return et.resolve(r)}containsKey(t,e){return et.resolve(this.si.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(t,e){this._i={},this.overlays={},this.ai=new Nf(0),this.ui=!1,this.ui=!0,this.ci=new $3,this.referenceDelegate=t(this),this.li=new t6(this),this.indexManager=new U3,this.remoteDocumentCache=(function(o){return new Z3(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new L3(e),this.Pi=new Q3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new X3,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this._i[t.toKey()];return r||(r=new W3(e,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,r){ct("MemoryPersistence","Starting transaction:",t);const o=new e6(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,e){return et.or(Object.values(this._i).map((r=>()=>r.containsKey(t,e))))}}class e6 extends RP{constructor(t){super(),this.currentSequenceNumber=t}}class wy{constructor(t){this.persistence=t,this.Ri=new by,this.Ai=null}static Vi(t){return new wy(t)}get di(){if(this.Ai)return this.Ai;throw Tt(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.di.delete(r.toString()),et.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.di.add(r.toString()),et.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),et.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.di,(r=>{const o=vt.fromPath(r);return this.mi(t,o).next((u=>{u||e.removeEntry(o,At.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((r=>{r?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return et.or([()=>et.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class Tf{constructor(t,e){this.persistence=t,this.fi=new _a((r=>xP(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=q3(this,e)}static Vi(t,e){return new Tf(t,e)}Ti(){}Ii(t){return et.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((o=>r+o))))}pr(t){let e=0;return this.mr(t,(r=>{e++})).next((()=>e))}mr(t,e){return et.forEach(this.fi,((r,o)=>this.wr(t,r,o).next((u=>u?et.resolve():e(o)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(c=>this.wr(t,c,e).next((m=>{m||(r++,u.removeEntry(c,At.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),et.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.fi.set(r,t.currentSequenceNumber),et.resolve()}removeReference(t,e,r){return this.fi.set(r,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),et.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=qh(t.data.value)),e}wr(t,e,r){return et.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.fi.get(e);return et.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Ts=r,this.Is=o}static Es(t,e){let r=Ut(),o=Ut();for(const u of e.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ry(t,e.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return HM()?8:CP(an())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,o){const u={result:null};return this.gs(t,e).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ps(t,e,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new n6;return this.ys(t,e,c).next((m=>{if(u.result=m,this.As)return this.ws(t,e,c,m.size)}))})).next((()=>u.result))}ws(t,e,r,o){return r.documentReadCount<this.Vs?(mo()<=Lt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",po(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),et.resolve()):(mo()<=Lt.DEBUG&&ct("QueryEngine","Query:",po(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(mo()<=Lt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",po(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Bi(e))):et.resolve())}gs(t,e){if(bS(e))return et.resolve(null);let r=Bi(e);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=ug(e,null,"F"),r=Bi(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Ut(...u);return this.fs.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,r).next((p=>{const g=this.bs(e,m);return this.Ss(e,g,c,p.readTime)?this.gs(t,ug(e,null,"F")):this.Ds(t,g,e,p)}))))})))))}ps(t,e,r,o){return bS(e)||o.isEqual(At.min())?et.resolve(null):this.fs.getDocuments(t,r).next((u=>{const c=this.bs(e,u);return this.Ss(e,c,r,o)?et.resolve(null):(mo()<=Lt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(e)),this.Ds(t,c,e,SP(o,Ru)).next((m=>m)))}))}bs(t,e){let r=new Ue(pw(t));return e.forEach(((o,u)=>{Uf(t,u)&&(r=r.add(u))})),r}Ss(t,e,r,o){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,e,r){return mo()<=Lt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",po(e)),this.fs.getDocumentsMatchingQuery(t,e,pr.min(),r)}Ds(t,e,r,o){return this.fs.getDocumentsMatchingQuery(t,r,o).next((u=>(e.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="LocalStore",s6=3e8;class r6{constructor(t,e,r,o){this.persistence=t,this.Cs=e,this.serializer=o,this.vs=new he(kt),this.Fs=new _a((u=>yy(u)),vy),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Y3(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function a6(n,t,e,r){return new r6(n,t,e,r)}async function jw(n,t){const e=wt(n);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,e.Os(t),e.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let p=Ut();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return e.localDocuments.getDocuments(r,p).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function o6(n,t){const e=wt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=e.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const E=g.batch,S=E.keys();let C=et.resolve();return S.forEach((x=>{C=C.next((()=>v.getEntry(p,x))).next((z=>{const L=g.docVersions.get(x);Kt(L!==null,48541),z.version.compareTo(L)<0&&(E.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),v.addEntry(z)))}))})),C.next((()=>m.mutationQueue.removeMutationBatch(p,E)))})(e,r,t,u).next((()=>u.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Ut();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>e.localDocuments.getDocuments(r,o)))}))}function Bw(n){const t=wt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function l6(n,t){const e=wt(n),r=t.snapshotVersion;let o=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=e.xs.newChangeBuffer({trackRemovals:!0});o=e.vs;const m=[];t.targetChanges.forEach(((v,E)=>{const S=o.get(E);if(!S)return;m.push(e.li.removeMatchingKeys(u,v.removedDocuments,E).next((()=>e.li.addMatchingKeys(u,v.addedDocuments,E))));let C=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?C=C.withResumeToken(Je.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,r)),o=o.insert(E,C),(function(z,L,q){return z.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=s6?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(S,C,v)&&m.push(e.li.updateTargetData(u,C))}));let p=Es(),g=Ut();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(u6(u,c,t.documentUpdates).next((v=>{p=v.Bs,g=v.Ls}))),!r.isEqual(At.min())){const v=e.li.getLastRemoteSnapshotVersion(u).next((E=>e.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(v)}return et.waitFor(m).next((()=>c.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(e.vs=o,u)))}function u6(n,t,e){let r=Ut(),o=Ut();return e.forEach((u=>r=r.add(u))),t.getEntries(n,r).next((u=>{let c=Es();return e.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(m,p)):ct(Cy,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:c,Ls:o}}))}function c6(n,t){const e=wt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=my),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function h6(n,t){const e=wt(n);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return e.li.getTargetData(r,t).next((u=>u?(o=u,et.resolve(o)):e.li.allocateTargetId(r).next((c=>(o=new ur(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=e.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.vs=e.vs.insert(r.targetId,r),e.Fs.set(t,r.targetId)),r}))}async function mg(n,t,e){const r=wt(n),o=r.vs.get(t),u=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Yo(c))throw c;ct(Cy,`Failed to update sequence numbers for target ${t}: ${c}`)}r.vs=r.vs.remove(t),r.Fs.delete(o.target)}function kS(n,t,e){const r=wt(n);let o=At.min(),u=Ut();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const E=wt(p),S=E.Fs.get(v);return S!==void 0?et.resolve(E.vs.get(S)):E.li.getTargetData(g,v)})(r,c,Bi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,t,e?o:At.min(),e?u:Ut()))).next((m=>(f6(r,WP(t),m),{documents:m,ks:u})))))}function f6(n,t,e){let r=n.Ms.get(t)||At.min();e.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),n.Ms.set(t,r)}class US{constructor(){this.activeTargetIds=i3()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class d6{constructor(){this.vo=new US,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,r){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new US,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="ConnectivityMonitor";class jS{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ct(zS,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ct(zS,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mh=null;function pg(){return Mh===null?Mh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mh++,"0x"+Mh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="RestConnection",p6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class g6{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===df?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(t,e,r,o,u){const c=pg(),m=this.Qo(t,e.toUriEncodedString());ct(Sp,`Sending RPC '${t}' ${c}:`,m,r);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(m),v=Fo(g);return this.zo(t,m,p,r,v).then((E=>(ct(Sp,`Received RPC '${t}' ${c}: `,E),E)),(E=>{throw ga(Sp,`RPC '${t}' ${c} failed with error: `,E,"url: ",m,"request:",r),E}))}jo(t,e,r,o,u,c){return this.Wo(t,e,r,o,u)}Go(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Go})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}Qo(t,e){const r=p6[t];let o=`${this.qo}/v1/${e}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection",nu=(n,t,e)=>{n.listen(t,(r=>{try{e(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Io extends g6{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Io.c_){const t=Yb();nu(t,Kb.STAT_EVENT,(e=>{e.stat===ig.PROXY?ct(en,"STAT_EVENT: detected buffering proxy"):e.stat===ig.NOPROXY&&ct(en,"STAT_EVENT: detected no buffering proxy")})),Io.c_=!0}}zo(t,e,r,o,u){const c=pg();return new Promise(((m,p)=>{const g=new qb;g.setWithCredentials(!0),g.listenOnce(Gb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Hh.NO_ERROR:const E=g.getResponseJson();ct(en,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),m(E);break;case Hh.TIMEOUT:ct(en,`RPC '${t}' ${c} timed out`),p(new gt(it.DEADLINE_EXCEEDED,"Request time out"));break;case Hh.HTTP_ERROR:const S=g.getStatus();if(ct(en,`RPC '${t}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const x=C==null?void 0:C.error;if(x&&x.status&&x.message){const z=(function(q){const W=q.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(W)>=0?W:it.UNKNOWN})(x.status);p(new gt(z,x.message))}else p(new gt(it.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new gt(it.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ct(en,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);ct(en,`RPC '${t}' ${c} sending request:`,o),g.send(e,"POST",v,r,15)}))}T_(t,e,r){const o=pg(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,e,r),m.encodeInitMessageHeaders=!0;const g=u.join("");ct(en,`Creating RPC '${t}' stream ${o}: ${g}`,m);const v=c.createWebChannel(g,m);this.I_(v);let E=!1,S=!1;const C=new y6({Ho:x=>{S?ct(en,`Not sending because RPC '${t}' stream ${o} is closed:`,x):(E||(ct(en,`Opening RPC '${t}' stream ${o} transport.`),v.open(),E=!0),ct(en,`RPC '${t}' stream ${o} sending:`,x),v.send(x))},Jo:()=>v.close()});return nu(v,su.EventType.OPEN,(()=>{S||(ct(en,`RPC '${t}' stream ${o} transport opened.`),C.i_())})),nu(v,su.EventType.CLOSE,(()=>{S||(S=!0,ct(en,`RPC '${t}' stream ${o} transport closed`),C.o_(),this.E_(v))})),nu(v,su.EventType.ERROR,(x=>{S||(S=!0,ga(en,`RPC '${t}' stream ${o} transport errored. Name:`,x.name,"Message:",x.message),C.o_(new gt(it.UNAVAILABLE,"The operation could not be completed")))})),nu(v,su.EventType.MESSAGE,(x=>{var z;if(!S){const L=x.data[0];Kt(!!L,16349);const q=L,W=(q==null?void 0:q.error)||((z=q[0])==null?void 0:z.error);if(W){ct(en,`RPC '${t}' stream ${o} received error:`,W);const Q=W.status;let st=(function(I){const w=De[I];if(w!==void 0)return Cw(w)})(Q),nt=W.message;Q==="NOT_FOUND"&&nt.includes("database")&&nt.includes("does not exist")&&nt.includes(this.databaseId.database)&&ga(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),st===void 0&&(st=it.INTERNAL,nt="Unknown error status: "+Q+" with message "+W.message),S=!0,C.o_(new gt(st,nt)),v.close()}else ct(en,`RPC '${t}' stream ${o} received:`,L),C.__(L)}})),Io.u_(),setTimeout((()=>{C.s_()}),0),C}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,r){super.Go(t,e,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Qb()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(n){return new Io(n)}function Ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(n){return new S3(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Io.c_=!1;class Fw{constructor(t,e,r=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=e,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-r);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="PersistentStream";class Hw{constructor(t,e,r,o,u,c,m,p){this.Ci=t,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Fw(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===it.RESOURCE_EXHAUSTED?(Ts(e.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===e&&this.G_(r,o)}),(r=>{t((()=>{const o=new gt(it.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,e){const r=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ct(BS,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(ct(BS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _6 extends Hw{constructor(t,e,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=w3(this.serializer,t),r=(function(u){if(!("targetChange"in u))return At.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?At.min():c.readTime?Fi(c.readTime):At.min()})(t);return this.listener.J_(e,r)}Z_(t){const e={};e.database=dg(this.serializer),e.addTarget=(function(u,c){let m;const p=c.target;if(m=lg(p)?{documents:I3(u,p)}:{query:x3(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=Dw(u,c.resumeToken);const g=cg(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(At.min())>0){m.readTime=_f(u,c.snapshotVersion.toTimestamp());const g=cg(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const r=V3(this.serializer,t);r&&(e.labels=r),this.K_(e)}X_(t){const e={};e.database=dg(this.serializer),e.removeTarget=t,this.K_(e)}}class T6 extends Hw{constructor(t,e,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=C3(t.writeResults,t.commitTime),r=Fi(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=dg(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>R3(this.serializer,r)))};this.K_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{}class S6 extends E6{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new gt(it.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Wo(t,hg(e,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new gt(it.UNKNOWN,u.toString())}))}jo(t,e,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.jo(t,hg(e,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new gt(it.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function A6(n,t,e,r){return new S6(n,t,e,r)}class b6{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ts(e),this.aa=!1):ct("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="RemoteStore";class w6{constructor(t,e,r,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{Ea(this)&&(ct(ya,"Restarting streams for network reachability change."),await(async function(p){const g=wt(p);g.Ea.add(4),await Ku(g),g.Va.set("Unknown"),g.Ea.delete(4),await Hf(g)})(this))}))})),this.Va=new b6(r,o)}}async function Hf(n){if(Ea(n))for(const t of n.Ra)await t(!0)}async function Ku(n){for(const t of n.Ra)await t(!1)}function qw(n,t){const e=wt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Vy(e)?Dy(e):Qo(e).O_()&&xy(e,t))}function Iy(n,t){const e=wt(n),r=Qo(e);e.Ia.delete(t),r.O_()&&Gw(e,t),e.Ia.size===0&&(r.O_()?r.L_():Ea(e)&&e.Va.set("Unknown"))}function xy(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Qo(n).Z_(t)}function Gw(n,t){n.da.$e(t),Qo(n).X_(t)}function Dy(n){n.da=new v3({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Qo(n).start(),n.Va.ua()}function Vy(n){return Ea(n)&&!Qo(n).x_()&&n.Ia.size>0}function Ea(n){return wt(n).Ea.size===0}function Kw(n){n.da=void 0}async function R6(n){n.Va.set("Online")}async function C6(n){n.Ia.forEach(((t,e)=>{xy(n,t)}))}async function I6(n,t){Kw(n),Vy(n)?(n.Va.ha(t),Dy(n)):n.Va.set("Unknown")}async function x6(n,t,e){if(n.Va.set("Online"),t instanceof xw&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.da.removeTarget(m))})(n,t)}catch(r){ct(ya,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Ef(n,r)}else if(t instanceof Yh?n.da.Xe(t):t instanceof Iw?n.da.st(t):n.da.tt(t),!e.isEqual(At.min()))try{const r=await Bw(n.localStore);e.compareTo(r)>=0&&await(function(u,c){const m=u.da.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(Je.EMPTY_BYTE_STRING,v.snapshotVersion)),Gw(u,p);const E=new ur(v.target,p,g,v.sequenceNumber);xy(u,E)})),u.remoteSyncer.applyRemoteEvent(m)})(n,e)}catch(r){ct(ya,"Failed to raise snapshot:",r),await Ef(n,r)}}async function Ef(n,t,e){if(!Yo(t))throw t;n.Ea.add(1),await Ku(n),n.Va.set("Offline"),e||(e=()=>Bw(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ct(ya,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Hf(n)}))}function Yw(n,t){return t().catch((e=>Ef(n,e,t)))}async function qf(n){const t=wt(n),e=_r(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:my;for(;D6(t);)try{const o=await c6(t.localStore,r);if(o===null){t.Ta.length===0&&e.L_();break}r=o.batchId,V6(t,o)}catch(o){await Ef(t,o)}Qw(t)&&Xw(t)}function D6(n){return Ea(n)&&n.Ta.length<10}function V6(n,t){n.Ta.push(t);const e=_r(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function Qw(n){return Ea(n)&&!_r(n).x_()&&n.Ta.length>0}function Xw(n){_r(n).start()}async function M6(n){_r(n).ra()}async function N6(n){const t=_r(n);for(const e of n.Ta)t.ea(e.mutations)}async function O6(n,t,e){const r=n.Ta.shift(),o=Ey.from(r,t,e);await Yw(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await qf(n)}async function P6(n,t){t&&_r(n).Y_&&await(async function(r,o){if((function(c){return p3(c)&&c!==it.ABORTED})(o.code)){const u=r.Ta.shift();_r(r).B_(),await Yw(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await qf(r)}})(n,t),Qw(n)&&Xw(n)}async function FS(n,t){const e=wt(n);e.asyncQueue.verifyOperationInProgress(),ct(ya,"RemoteStore received new credentials");const r=Ea(e);e.Ea.add(3),await Ku(e),r&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Hf(e)}async function L6(n,t){const e=wt(n);t?(e.Ea.delete(2),await Hf(e)):t||(e.Ea.add(2),await Ku(e),e.Va.set("Unknown"))}function Qo(n){return n.ma||(n.ma=(function(e,r,o){const u=wt(e);return u.sa(),new _6(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Zo:R6.bind(null,n),Yo:C6.bind(null,n),t_:I6.bind(null,n),J_:x6.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),Vy(n)?Dy(n):n.Va.set("Unknown")):(await n.ma.stop(),Kw(n))}))),n.ma}function _r(n){return n.fa||(n.fa=(function(e,r,o){const u=wt(e);return u.sa(),new T6(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:M6.bind(null,n),t_:P6.bind(null,n),ta:N6.bind(null,n),na:O6.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await qf(n)):(await n.fa.stop(),n.Ta.length>0&&(ct(ya,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(t,e,r,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,u){const c=Date.now()+r,m=new My(t,e,c,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ny(n,t){if(Ts("AsyncQueue",`${t}: ${n}`),Yo(n))return new gt(it.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{static emptySet(t){return new xo(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||vt.comparator(e.key,r.key):(e,r)=>vt.comparator(e.key,r.key),this.keyedMap=ru(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof xo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new xo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.ga=new he(vt.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Tt(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class Uo{constructor(t,e,r,o,u,c,m,p,g){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,r,o,u){const c=[];return e.forEach((m=>{c.push({type:0,doc:m})})),new Uo(t,e,xo.emptySet(e),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&kf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class U6{constructor(){this.queries=qS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const o=wt(e),u=o.queries;o.queries=qS(),u.forEach(((c,m)=>{for(const p of m.ba)p.onError(r)}))})(this,new gt(it.ABORTED,"Firestore shutting down"))}}function qS(){return new _a((n=>mw(n)),kf)}async function z6(n,t){const e=wt(n);let r=3;const o=t.query;let u=e.queries.get(o);u?!u.Sa()&&t.Da()&&(r=2):(u=new k6,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const m=Ny(c,`Initialization of query '${po(t.query)}' failed`);return void t.onError(m)}e.queries.set(o,u),u.ba.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&Oy(e)}async function j6(n,t){const e=wt(n),r=t.query;let o=3;const u=e.queries.get(r);if(u){const c=u.ba.indexOf(t);c>=0&&(u.ba.splice(c,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function B6(n,t){const e=wt(n);let r=!1;for(const o of t){const u=o.query,c=e.queries.get(u);if(c){for(const m of c.ba)m.Fa(o)&&(r=!0);c.wa=o}}r&&Oy(e)}function F6(n,t,e){const r=wt(n),o=r.queries.get(t);if(o)for(const u of o.ba)u.onError(e);r.queries.delete(t)}function Oy(n){n.Ca.forEach((t=>{t.next()}))}var gg,GS;(GS=gg||(gg={})).Ma="default",GS.Cache="cache";class H6{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Uo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Uo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==gg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t){this.key=t}}class Ww{constructor(t){this.key=t}}class q6{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ut(),this.mutatedKeys=Ut(),this.eu=pw(t),this.tu=new xo(this.eu)}get nu(){return this.Za}ru(t,e){const r=e?e.iu:new HS,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,E)=>{const S=o.get(v),C=Uf(this.query,E)?E:null,x=!!S&&this.mutatedKeys.has(S.key),z=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let L=!1;S&&C?S.data.isEqual(C.data)?x!==z&&(r.track({type:3,doc:C}),L=!0):this.su(S,C)||(r.track({type:2,doc:C}),L=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(m=!0)):!S&&C?(r.track({type:0,doc:C}),L=!0):S&&!C&&(r.track({type:1,doc:S}),L=!0,(p||g)&&(m=!0)),L&&(C?(c=c.add(C),u=z?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Ss:m,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,E)=>(function(C,x){const z=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Vt:L})}};return z(C)-z(x)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(r),o=o??!1;const m=e&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,c.length!==0||g?{snapshot:new Uo(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new HS,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const e=[];return t.forEach((r=>{this.Ya.has(r)||e.push(new Ww(r))})),this.Ya.forEach((r=>{t.has(r)||e.push(new $w(r))})),e}cu(t){this.Za=t.ks,this.Ya=Ut();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Py="SyncEngine";class G6{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class K6{constructor(t){this.key=t,this.hu=!1}}class Y6{constructor(t,e,r,o,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new _a((m=>mw(m)),kf),this.Iu=new Map,this.Eu=new Set,this.Ru=new he(vt.comparator),this.Au=new Map,this.Vu=new by,this.du={},this.mu=new Map,this.fu=ko.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Q6(n,t,e=!0){const r=iR(n);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Zw(r,t,e,!0),o}async function X6(n,t){const e=iR(n);await Zw(e,t,!0,!1)}async function Zw(n,t,e,r){const o=await h6(n.localStore,Bi(t)),u=o.targetId,c=n.sharedClientState.addLocalQueryTarget(u,e);let m;return r&&(m=await $6(n,t,u,c==="current",o.resumeToken)),n.isPrimaryClient&&e&&qw(n.remoteStore,o),m}async function $6(n,t,e,r,o){n.pu=(E,S,C)=>(async function(z,L,q,W){let Q=L.view.ru(q);Q.Ss&&(Q=await kS(z.localStore,L.query,!1).then((({documents:I})=>L.view.ru(I,Q))));const st=W&&W.targetChanges.get(L.targetId),nt=W&&W.targetMismatches.get(L.targetId)!=null,ut=L.view.applyChanges(Q,z.isPrimaryClient,st,nt);return YS(z,L.targetId,ut.au),ut.snapshot})(n,E,S,C);const u=await kS(n.localStore,t,!0),c=new q6(t,u.ks),m=c.ru(u.documents),p=Gu.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",o),g=c.applyChanges(m,n.isPrimaryClient,p);YS(n,e,g.au);const v=new G6(t,e,c);return n.Tu.set(t,v),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),g.snapshot}async function W6(n,t,e){const r=wt(n),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!kf(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await mg(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),e&&Iy(r.remoteStore,o.targetId),yg(r,o.targetId)})).catch(Ko)):(yg(r,o.targetId),await mg(r.localStore,o.targetId,!0))}async function Z6(n,t){const e=wt(n),r=e.Tu.get(t),o=e.Iu.get(r.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),Iy(e.remoteStore,r.targetId))}async function J6(n,t,e){const r=aL(n);try{const o=await(function(c,m){const p=wt(c),g=re.now(),v=m.reduce(((C,x)=>C.add(x.key)),Ut());let E,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let x=Es(),z=Ut();return p.xs.getEntries(C,v).next((L=>{x=L,x.forEach(((q,W)=>{W.isValidDocument()||(z=z.add(q))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,x))).next((L=>{E=L;const q=[];for(const W of m){const Q=c3(W,E.get(W.key).overlayedDocument);Q!=null&&q.push(new Ta(W.key,Q,ow(Q.value.mapValue),gs.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,q,m)})).next((L=>{S=L;const q=L.applyToLocalDocumentSet(E,z);return p.documentOverlayCache.saveOverlays(C,L.batchId,q)}))})).then((()=>({batchId:S.batchId,changes:yw(E)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.du[c.currentUser.toKey()];g||(g=new he(kt)),g=g.insert(m,p),c.du[c.currentUser.toKey()]=g})(r,o.batchId,e),await Yu(r,o.changes),await qf(r.remoteStore)}catch(o){const u=Ny(o,"Failed to persist write");e.reject(u)}}async function Jw(n,t){const e=wt(n);try{const r=await l6(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=e.Au.get(u);c&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Kt(c.hu,14607):o.removedDocuments.size>0&&(Kt(c.hu,42227),c.hu=!1))})),await Yu(e,r,t)}catch(r){await Ko(r)}}function KS(n,t,e){const r=wt(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=wt(c);p.onlineState=m;let g=!1;p.queries.forEach(((v,E)=>{for(const S of E.ba)S.va(m)&&(g=!0)})),g&&Oy(p)})(r.eventManager,t),o.length&&r.Pu.J_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function tL(n,t,e){const r=wt(n);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new he(vt.comparator);c=c.insert(u,sn.newNoDocument(u,At.min()));const m=Ut().add(u),p=new Bf(At.min(),new Map,new he(kt),c,m);await Jw(r,p),r.Ru=r.Ru.remove(u),r.Au.delete(t),Ly(r)}else await mg(r.localStore,t,!1).then((()=>yg(r,t,e))).catch(Ko)}async function eL(n,t){const e=wt(n),r=t.batch.batchId;try{const o=await o6(e.localStore,t);eR(e,r,null),tR(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await Yu(e,o)}catch(o){await Ko(o)}}async function nL(n,t,e){const r=wt(n);try{const o=await(function(c,m){const p=wt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((E=>(Kt(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(r.localStore,t);eR(r,t,e),tR(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await Yu(r,o)}catch(o){await Ko(o)}}function tR(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function eR(n,t,e){const r=wt(n);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),r.du[r.currentUser.toKey()]=o}}function yg(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((r=>{n.Vu.containsKey(r)||nR(n,r)}))}function nR(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(Iy(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),Ly(n))}function YS(n,t,e){for(const r of e)r instanceof $w?(n.Vu.addReference(r.key,t),iL(n,r)):r instanceof Ww?(ct(Py,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,t),n.Vu.containsKey(r.key)||nR(n,r.key)):Tt(19791,{wu:r})}function iL(n,t){const e=t.key,r=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(r)||(ct(Py,"New document in limbo: "+e),n.Eu.add(r),Ly(n))}function Ly(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new vt(ue.fromString(t)),r=n.fu.next();n.Au.set(r,new K6(e)),n.Ru=n.Ru.insert(e,r),qw(n.remoteStore,new ur(Bi(_y(e.path)),r,"TargetPurposeLimboResolution",Nf.ce))}}async function Yu(n,t,e){const r=wt(n),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{c.push(r.pu(p,t,e).then((g=>{var v;if((g||e)&&r.isPrimaryClient){const E=g?!g.fromCache:(v=e==null?void 0:e.targetChanges.get(p.targetId))==null?void 0:v.current;r.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Ry.Es(p.targetId,g);u.push(E)}})))})),await Promise.all(c),r.Pu.J_(o),await(async function(p,g){const v=wt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>et.forEach(g,(S=>et.forEach(S.Ts,(C=>v.persistence.referenceDelegate.addReference(E,S.targetId,C))).next((()=>et.forEach(S.Is,(C=>v.persistence.referenceDelegate.removeReference(E,S.targetId,C)))))))))}catch(E){if(!Yo(E))throw E;ct(Cy,"Failed to update sequence numbers: "+E)}for(const E of g){const S=E.targetId;if(!E.fromCache){const C=v.vs.get(S),x=C.snapshotVersion,z=C.withLastLimboFreeSnapshotVersion(x);v.vs=v.vs.insert(S,z)}}})(r.localStore,u))}async function sL(n,t){const e=wt(n);if(!e.currentUser.isEqual(t)){ct(Py,"User change. New user:",t.toKey());const r=await jw(e.localStore,t);e.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new gt(it.CANCELLED,c))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Yu(e,r.Ns)}}function rL(n,t){const e=wt(n),r=e.Au.get(t);if(r&&r.hu)return Ut().add(r.key);{let o=Ut();const u=e.Iu.get(t);if(!u)return o;for(const c of u){const m=e.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function iR(n){const t=wt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Jw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=rL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=tL.bind(null,t),t.Pu.J_=B6.bind(null,t.eventManager),t.Pu.yu=F6.bind(null,t.eventManager),t}function aL(n){const t=wt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=eL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=nL.bind(null,t),t}class Sf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ff(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return a6(this.persistence,new i6,t.initialUser,this.serializer)}Cu(t){return new zw(wy.Vi,this.serializer)}Du(t){return new d6}async terminate(){var t,e;(t=this.gcScheduler)==null||t.stop(),(e=this.indexBackfillerScheduler)==null||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sf.provider={build:()=>new Sf};class oL extends Sf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Kt(this.persistence.referenceDelegate instanceof Tf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new F3(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new zw((r=>Tf.Vi(r,e)),this.serializer)}}class vg{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>KS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=sL.bind(null,this.syncEngine),await L6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new U6})()}createDatastore(t){const e=Ff(t.databaseInfo.databaseId),r=v6(t.databaseInfo);return A6(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,o,u,c,m){return new w6(r,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(e=>KS(this.syncEngine,e,0)),(function(){return jS.v()?new jS:new m6})())}createSyncEngine(t,e){return(function(o,u,c,m,p,g,v){const E=new Y6(o,u,c,m,p,g);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await(async function(o){const u=wt(o);ct(ya,"RemoteStore shutting down."),u.Ea.add(5),await Ku(u),u.Aa.shutdown(),u.Va.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(e=this.eventManager)==null||e.terminate()}}vg.provider={build:()=>new vg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ts("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="FirestoreClient";class uL{constructor(t,e,r,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this._databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=fy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{ct(Tr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ct(Tr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=Ny(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function bp(n,t){n.asyncQueue.verifyOperationInProgress(),ct(Tr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await jw(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function QS(n,t){n.asyncQueue.verifyOperationInProgress();const e=await cL(n);ct(Tr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((r=>FS(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>FS(t.remoteStore,o))),n._onlineComponents=t}async function cL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ct(Tr,"Using user provided OfflineComponentProvider");try{await bp(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===it.FAILED_PRECONDITION||o.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;ga("Error using user provided cache. Falling back to memory cache: "+e),await bp(n,new Sf)}}else ct(Tr,"Using default OfflineComponentProvider"),await bp(n,new oL(void 0));return n._offlineComponents}async function sR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ct(Tr,"Using user provided OnlineComponentProvider"),await QS(n,n._uninitializedComponentsProvider._online)):(ct(Tr,"Using default OnlineComponentProvider"),await QS(n,new vg))),n._onlineComponents}function hL(n){return sR(n).then((t=>t.syncEngine))}async function XS(n){const t=await sR(n),e=t.eventManager;return e.onListen=Q6.bind(null,t.syncEngine),e.onUnlisten=W6.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=X6.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Z6.bind(null,t.syncEngine),e}function fL(n,t,e,r){const o=new lL(r),u=new H6(t,o,e);return n.asyncQueue.enqueueAndForget((async()=>z6(await XS(n),u))),()=>{o.Nu(),n.asyncQueue.enqueueAndForget((async()=>j6(await XS(n),u)))}}function dL(n,t){const e=new ua;return n.asyncQueue.enqueueAndForget((async()=>J6(await hL(n),t,e))),e.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL="ComponentProvider",$S=new Map;function pL(n,t,e,r,o){return new MP(n,t,e,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,rR(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="firestore.googleapis.com",WS=!0;class ZS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new gt(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aR,this.ssl=WS}else this.host=t.host,this.ssl=t.ssl??WS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Uw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<j3)throw new gt(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}EP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rR(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new gt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new gt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new gt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ky{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new cP;switch(r.type){case"firstParty":return new mP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new gt(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=$S.get(e);r&&(ct(mL,"Removing Datastore"),$S.delete(e),r.terminate())})(this),Promise.resolve()}}function gL(n,t,e,r={}){var g;n=Co(n,ky);const o=Fo(t),u=n._getSettings(),c={...u,emulatorOptions:n._getEmulatorOptions()},m=`${t}:${e}`;o&&(sb(`https://${m}`),rb("Firestore",!0)),u.host!==aR&&u.host!==m&&ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!fa(p,c)&&(n._setSettings(p),r.mockUserToken)){let v,E;if(typeof r.mockUserToken=="string")v=r.mockUserToken,E=nn.MOCK_USER;else{v=OM(r.mockUserToken,(g=n._app)==null?void 0:g.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new gt(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new nn(S)}n._authCredentials=new hP(new $b(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Gf(this.firestore,t,this._query)}}class He{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new He(this.firestore,t,this._key)}toJSON(){return{type:He._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(Hu(e,He._jsonSchema))return new He(t,r||null,new vt(ue.fromString(e.referencePath)))}}He._jsonSchemaVersion="firestore/documentReference/1.0",He._jsonSchema={type:Me("string",He._jsonSchemaVersion),referencePath:Me("string")};class Mu extends Gf{constructor(t,e,r){super(t,e,_y(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new He(this.firestore,null,new vt(t))}withConverter(t){return new Mu(this.firestore,t,this._path)}}function JS(n,t,...e){if(n=xn(n),arguments.length===1&&(t=fy.newId()),TP("doc","path",t),n instanceof ky){const r=ue.fromString(t,...e);return hS(r),new He(n,null,new vt(r))}{if(!(n instanceof He||n instanceof Mu))throw new gt(it.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ue.fromString(t,...e));return hS(r),new He(n.firestore,n instanceof Mu?n.converter:null,new vt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="AsyncQueue";class e1{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Fw(this,"async_queue_retry"),this._c=()=>{const r=Ap();r&&ct(t1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=Ap();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Ap();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new ua;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Yo(t))throw t;ct(t1,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Ts("INTERNAL UNHANDLED ERROR: ",n1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=My.createAndSchedule(this,t,e,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Tt(47125,{Pc:n1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function n1(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Af extends ky{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new e1,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new e1(t),this._firestoreClient=void 0,await t}}}function yL(n,t){const e=typeof n=="object"?n:ub(),r=typeof n=="string"?n:df,o=ty(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=MM("firestore");u&&gL(o,...u)}return o}function oR(n){if(n._terminated)throw new gt(it.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||vL(n),n._firestoreClient}function vL(n){var r,o,u,c;const t=n._freezeSettings(),e=pL(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,(o=n._app)==null?void 0:o.options.apiKey,t);n._componentsProvider||(u=t.localCache)!=null&&u._offlineComponentProvider&&((c=t.localCache)!=null&&c._onlineComponentProvider)&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new uL(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qn(Je.fromBase64String(t))}catch(e){throw new gt(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new qn(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hu(t,qn._jsonSchema))return qn.fromBase64String(t.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Me("string",qn._jsonSchemaVersion),bytes:Me("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new gt(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new gt(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new gt(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(t){if(Hu(t,Hi._jsonSchema))return new Hi(t.latitude,t.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:Me("string",Hi._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hu(t,di._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new di(t.vectorValues);throw new gt(it.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}di._jsonSchemaVersion="firestore/vectorValue/1.0",di._jsonSchema={type:Me("string",di._jsonSchemaVersion),vectorValues:Me("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=/^__.*__$/;class TL{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Ta(t,this.data,this.fieldMask,e,this.fieldTransforms):new qu(t,this.data,e,this.fieldTransforms)}}function cR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{dataSource:n})}}class Uy{constructor(t,e,r,o,u,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Uy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var o;const e=(o=this.path)==null?void 0:o.child(t),r=this.contextWith({path:e,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){var o;const e=(o=this.path)==null?void 0:o.child(t),r=this.contextWith({path:e,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return bf(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(cR(this.dataSource)&&_L.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class EL{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||Ff(t)}createContext(t,e,r,o=!1){return new Uy({dataSource:t,methodName:e,targetDoc:r,path:Ze.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function SL(n){const t=n._freezeSettings(),e=Ff(n._databaseId);return new EL(n._databaseId,!!t.ignoreUndefinedProperties,e)}function AL(n,t,e,r,o,u={}){const c=n.createContext(u.merge||u.mergeFields?2:0,t,e,o);mR("Data must be an object, but it was:",c,r);const m=fR(r,c);let p,g;if(u.merge)p=new ui(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const E of u.mergeFields){const S=zy(t,E,e);if(!c.contains(S))throw new gt(it.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);RL(v,S)||v.push(S)}p=new ui(v),g=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,g=c.fieldTransforms;return new TL(new Hn(m),p,g)}function hR(n,t){if(dR(n=xn(n)))return mR("Unsupported field value:",t,n),fR(n,t);if(n instanceof uR)return(function(r,o){if(!cR(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let p=hR(m,o.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(n,t)}return(function(r,o){if((r=xn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return s3(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=re.fromDate(r);return{timestampValue:_f(o.serializer,u)}}if(r instanceof re){const u=new re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_f(o.serializer,u)}}if(r instanceof Hi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qn)return{bytesValue:Dw(o.serializer,r._byteString)};if(r instanceof He){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ay(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof di)return(function(c,m){const p=c instanceof di?c.toArray():c;return{mapValue:{fields:{[rw]:{stringValue:aw},[mf]:{arrayValue:{values:p.map((v=>{if(typeof v!="number")throw m.createError("VectorValues must only contain numeric values.");return Ty(m.serializer,v)}))}}}}}})(r,o);if(kw(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${dy(r)}`)})(n,t)}function fR(n,t){const e={};return Jb(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):va(n,((r,o)=>{const u=hR(o,t.childContextForField(r));u!=null&&(e[r]=u)})),{mapValue:{fields:e}}}function dR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof re||n instanceof Hi||n instanceof qn||n instanceof He||n instanceof uR||n instanceof di||kw(n))}function mR(n,t,e){if(!dR(e)||!Wb(e)){const r=dy(e);throw r==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+r)}}function zy(n,t,e){if((t=xn(t))instanceof lR)return t._internalPath;if(typeof t=="string")return wL(n,t);throw bf("Field path arguments must be of type string or ",n,!1,void 0,e)}const bL=new RegExp("[~\\*/\\[\\]]");function wL(n,t,e){if(t.search(bL)>=0)throw bf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new lR(...t.split("."))._internalPath}catch{throw bf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function bf(n,t,e,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new gt(it.INVALID_ARGUMENT,m+n+p)}function RL(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{convertValue(t,e="none"){switch(vr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(yr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return va(t,((o,u)=>{r[o]=this.convertValue(u,e)})),r}convertVectorValue(t){var r,o,u;const e=(u=(o=(r=t.fields)==null?void 0:r[mf].arrayValue)==null?void 0:o.values)==null?void 0:u.map((c=>Te(c.doubleValue)));return new di(e)}convertGeoPoint(t){return new Hi(Te(t.latitude),Te(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=Pf(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Cu(t));default:return null}}convertTimestamp(t){const e=gr(t);return new re(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=ue.fromString(t);Kt(Lw(r),9688,{name:t});const o=new Iu(r.get(1),r.get(3)),u=new vt(r.popFirst(5));return o.isEqual(e)||Ts(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR extends CL{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new He(this.firestore,null,e)}}const i1="@firebase/firestore",s1="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(n){return(function(e,r){if(typeof e!="object"||e===null)return!1;const o=e;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(n,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(t,e,r,o,u){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new IL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const e=this._document.data.field(zy("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class IL extends gR{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new gt(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function DL(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class ou{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ca extends gR{constructor(t,e,r,o,u,c){super(t,e,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(zy("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(it.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=ca._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:Me("string",ca._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class Qh extends ca{data(t={}){return super.data(t)}}class Do{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new ou(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new Qh(this._firestore,this._userDataWriter,r.key,r,new ou(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new gt(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new Qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ou(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ou(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:VL(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(it.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Do._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=fy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function VL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:n})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Do._jsonSchemaVersion="firestore/querySnapshot/1.0",Do._jsonSchema={type:Me("string",Do._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};function ML(n,t,e){n=Co(n,He);const r=Co(n.firestore,Af),o=DL(n.converter,t,e),u=SL(r);return OL(r,[AL(u,"setDoc",n._key,o,n.converter!==null,e).toMutation(n._key,gs.none())])}function NL(n,...t){var g,v,E;n=xn(n);let e={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||r1(t[r])||(e=t[r++]);const o={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(r1(t[r])){const S=t[r];t[r]=(g=S.next)==null?void 0:g.bind(S),t[r+1]=(v=S.error)==null?void 0:v.bind(S),t[r+2]=(E=S.complete)==null?void 0:E.bind(S)}let u,c,m;if(n instanceof He)c=Co(n.firestore,Af),m=_y(n._key.path),u={next:S=>{t[r]&&t[r](PL(c,n,S))},error:t[r+1],complete:t[r+2]};else{const S=Co(n,Gf);c=Co(S.firestore,Af),m=S._query;const C=new pR(c);u={next:x=>{t[r]&&t[r](new Do(c,C,S,x))},error:t[r+1],complete:t[r+2]},xL(n._query)}const p=oR(c);return fL(p,m,o,u)}function OL(n,t){const e=oR(n);return dL(e,t)}function PL(n,t,e){const r=e.docs.get(t._key),o=new pR(n);return new ca(n,o,t._key,r,new ou(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){uP(Ho),Mo(new da("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new Af(new fP(r.getProvider("auth-internal")),new pP(c,r.getProvider("app-check-internal")),NP(c,o),c);return u={useFetchStreams:e,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),fr(i1,s1,t),fr(i1,s1,"esm2020")})();const _g={apiKey:"AIzaSyC4wTG-KRZF8v5vmkQXqXX5RViQFKGOFiI",authDomain:"lottery-number-viewer.firebaseapp.com",projectId:"lottery-number-viewer",storageBucket:"lottery-number-viewer.firebasestorage.app",messagingSenderId:"614619865693",appId:"1:614619865693:web:855c8e9cc95c70f917e3b4"};let Nu,yR,lu;const jy=_g.apiKey&&_g.apiKey!=="YOUR_API_KEY";if(jy){const n=lb(_g);Nu=oP(n),yR=new ds,lu=yL(n)}else console.warn("Firebase Config is missing or invalid. Please check your .env file.");const LL=["fubini4817@gmail.com","lilien6868@gmail.com"],kL=[],UL=n=>{if(!n)return!1;const t=n.split("@")[1];return LL.includes(n)||kL.includes(t)},vR=async()=>{if(!jy){alert("Firebase  .env  API Key");return}try{return(await g4(Nu,yR)).user}catch(n){throw console.error("Login failed:",n),n}},zL=async()=>{if(jy)try{await Vb(Nu)}catch(n){throw console.error("Logout failed:",n),n}},ta=[{id:"A",name:"A",zones:[new Set([2,4,5,6,7,11,12,14,15,16]),new Set([22,24,25,26,27,33,35,36,38,39]),new Set([1,3,8,9,10,13,17,18,19,20,21,23,28,29,30,31,32,34,37])]},{id:"B",name:"B",zones:[new Set([3,5,6,8,9,21,22,23,25,28]),new Set([12,13,15,16,17,30,32,33,35,39]),new Set([1,2,4,7,10,11,14,18,19,20,24,26,27,29,31,34,36,37,38])]},{id:"C",name:"C",zones:[new Set([20,21,22,23,24,25,26,27,28,29]),new Set([1,4,5,8,9,11,14,15,18,19,31,34,35,38,39]),new Set([2,3,6,7,10,12,13,16,17,30,32,33,36,37])]},{id:"A",name:"A",zones:[new Set([1,5,7,8,9,10,34,37,38,39]),new Set([21,22,23,24,25,26,27,28,29,30]),new Set([2,3,4,6,11,12,13,14,15,16,17,18,19,20,31,32,33,35,36])]},{id:"B",name:"B",zones:[new Set([1,2,3,4,5,6,7,8,9,10]),new Set([30,31,32,33,34,35,36,37,38,39]),new Set([11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29])]}],jL=(n,t)=>{let e=[0,0,0];for(const u of n)t[0].has(u)?e[0]++:t[1].has(u)?e[1]++:t[2].has(u)&&e[2]++;const r=e.join("-");let o="";return["1-2-2","2-1-2","2-2-1"].includes(r)?o="":["1-1-3","1-3-1","3-1-1"].includes(r)&&(o=""),{result:o,pattern:r}},BL=({result:n,pattern:t,value:e,onChange:r})=>Y.jsx("td",{className:"py-1.5 px-4 text-center align-middle border-x border-zinc-50/50",children:Y.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[Y.jsx("span",{className:`text-[11px] font-mono whitespace-nowrap font-bold min-w-[38px] ${n===""?"px-1 py-0 rounded bg-rose-200 text-rose-800 border border-rose-300":n===""?"px-1 py-0 rounded bg-emerald-200 text-emerald-800 border border-emerald-300":"text-zinc-500"}`,children:t}),Y.jsx("input",{type:"text",inputMode:"numeric",value:e||"",onChange:o=>r(o.target.value),className:"w-10 h-6 text-center text-[12px] font-bold border border-zinc-200 rounded-md bg-zinc-50/50 focus:outline-none focus:ring-2 focus:ring-violet-400 focus:bg-white transition-all font-mono placeholder:text-zinc-300",placeholder:"-"})]})}),FL=({data:n,year:t,showZoneTable:e,onToggleZoneTable:r,user:o})=>{const[u,c]=at.useState("A"),[m,p]=at.useState({});at.useEffect(()=>{if(!o||!lu)return;const x=JS(lu,"userNotes",o.uid),z=NL(x,L=>{L.exists()&&p(L.data())});return()=>z()},[o]);const g=async(x,z,L)=>{if(!o||!lu)return;const q=`${x}-${z}`,W={...m,[q]:L};p(W);try{const Q=JS(lu,"userNotes",o.uid);await ML(Q,W,{merge:!0})}catch(Q){console.error("Firestore Save Error:",Q)}},v=at.useMemo(()=>({groupAZones:ta[0].zones,groupBZones:ta[1].zones,groupCZones:ta[2].zones,groupNewAZones:ta[3].zones,groupNewBZones:ta[4].zones}),[]);if(n.length===0)return null;const E=x=>{e&&u===x?r():(c(x),e||r())},S=x=>{const z=x.toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"}),L=x.getDay(),q=x.toLocaleDateString("zh-TW",{weekday:"short"}).replace("",""),W=L===0?"bg-rose-100 text-rose-600 border-rose-200":L===6?"bg-indigo-100 text-indigo-600 border-indigo-200":"bg-zinc-100 text-zinc-600 border-zinc-200";return Y.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[Y.jsx("span",{className:"font-mono text-zinc-700 font-medium text-sm hidden sm:inline",children:z}),Y.jsx("span",{className:"font-mono text-zinc-700 font-medium text-sm inline sm:hidden",children:z.slice(2)}),Y.jsx("span",{className:`text-[12px] font-bold px-1.5 py-0 rounded border w-fit min-w-[20px] text-center ${W}`,children:q})]})},C=(x,z)=>{const L=z.getDay(),q=L===0,W=L===6,Q=q?"bg-rose-50 border-rose-200 text-rose-700 shadow-rose-100 group-hover:border-rose-400 group-hover:shadow-rose-200":W?"bg-indigo-50 border-indigo-200 text-indigo-700 shadow-indigo-100 group-hover:border-indigo-400 group-hover:shadow-indigo-200":"bg-white border-zinc-200 text-zinc-800 shadow-zinc-100 group-hover:border-violet-300 group-hover:shadow-violet-100",st=q?"text-rose-700 group-hover:text-rose-800":W?"text-indigo-700 group-hover:text-indigo-800":"text-zinc-800 group-hover:text-violet-600";return Y.jsx("div",{className:"flex flex-wrap items-center gap-1.5",children:x.map((nt,ut)=>Y.jsx("div",{className:"relative group",children:Y.jsx("div",{className:`w-7 h-7 flex items-center justify-center rounded-lg border shadow-sm transition-all duration-200 ${Q}`,children:Y.jsx("span",{className:`font-mono font-bold text-base transition-colors ${st}`,children:nt})})},ut))})};return Y.jsxs("div",{className:"relative w-full h-full flex overflow-hidden",children:[Y.jsx(ha.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"h-full flex flex-col min-w-0 w-full",children:Y.jsx("div",{className:"flex-1 bg-white rounded-3xl shadow-xl shadow-zinc-200/50 border border-white/50 overflow-hidden backdrop-blur-sm flex flex-col min-h-0",children:Y.jsx("div",{className:"flex-1 overflow-auto relative scrollbar-thin scrollbar-thumb-zinc-300 scrollbar-track-transparent",children:Y.jsxs("table",{className:"w-full text-left border-collapse min-w-[800px]",children:[Y.jsx("thead",{children:Y.jsxs("tr",{className:"bg-zinc-900 border-b border-zinc-700 sticky top-0 z-20 shadow-md",children:[Y.jsx("th",{className:"py-2 px-4 text-[10px] font-bold text-zinc-100 uppercase tracking-widest w-[120px] whitespace-nowrap",children:Y.jsxs("div",{className:"flex items-center gap-2",children:[Y.jsx(QA,{className:"w-3 h-3 text-violet-400"}),""]})}),Y.jsx("th",{className:"py-2 px-4 text-[10px] font-bold text-zinc-100 uppercase tracking-widest whitespace-nowrap",children:Y.jsxs("div",{className:"flex items-center gap-2",children:[Y.jsx(hM,{className:"w-3 h-3 text-violet-400"}),""]})}),ta.map(x=>Y.jsx("th",{className:"py-2 px-4 text-[10px] font-bold text-zinc-100 uppercase tracking-widest w-[130px] text-center whitespace-nowrap",children:Y.jsxs("div",{className:"flex items-center justify-center gap-1",children:[x.name,Y.jsx("button",{onClick:()=>E(x.id),className:`p-0.5 rounded-full transition-colors ${e&&u===x.id?"bg-violet-500 text-white":"hover:bg-zinc-800 text-zinc-400 hover:text-violet-400"}`,children:Y.jsx(dM,{className:"w-2.5 h-2.5"})})]})},x.id))]})}),Y.jsx("tbody",{className:"divide-y divide-zinc-50",children:n.map((x,z)=>Y.jsxs(ha.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:z*.005},className:"group hover:bg-violet-50/30 transition-colors",children:[Y.jsx("td",{className:"py-1.5 px-4 text-sm",children:S(x.date)}),Y.jsx("td",{className:"py-1.5 px-4",children:C(x.numbers,x.date)}),ta.map(L=>{const{result:q,pattern:W}=jL(x.numbers,L.zones),Q=x.date.toISOString(),st=`${Q}-${L.id}`;return Y.jsx(BL,{result:q,pattern:W,value:m[st]||"",onChange:nt=>g(Q,L.id,nt)},L.id)})]},z))})]})})})}),Y.jsx(AM,{isOpen:e,onClose:r,...v,initialTab:u,onTabChange:c})]})},HL=({files:n,selectedFile:t,onSelect:e})=>Y.jsxs(ha.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-sm relative group",children:[Y.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 to-fuchsia-500 rounded-2xl blur opacity-20 group-hover:opacity-30 transition-opacity duration-300"}),Y.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl shadow-black/5 ring-1 ring-black/5 overflow-hidden",children:[Y.jsxs("div",{className:"flex items-center px-4 py-2 border-b border-zinc-100 bg-zinc-50/50",children:[Y.jsx(QA,{className:"w-4 h-4 text-violet-500 mr-2"}),Y.jsx("label",{htmlFor:"file-select",className:"text-xs font-semibold text-zinc-500 uppercase tracking-wider",children:""})]}),Y.jsxs("div",{className:"relative",children:[Y.jsx("select",{id:"file-select",value:t||"",onChange:r=>e(r.target.value),className:"block w-full pl-4 pr-10 py-2 text-base text-zinc-800 bg-transparent focus:outline-none focus:bg-zinc-50 cursor-pointer appearance-none font-medium",children:n.map(r=>Y.jsx("option",{value:r.name,children:r.year?`${r.year} `:r.name},r.name))}),Y.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none",children:Y.jsx(oM,{className:"h-5 w-5 text-zinc-400 group-hover:text-violet-500 transition-colors"})})]})]})]}),qL=({error:n})=>{const[t,e]=at.useState(null),[r,o]=at.useState(!1);at.useEffect(()=>{n&&(e(n),o(!1))},[n]);const u=async()=>{e(null),o(!0);try{await vR()}catch{o(!1),e("")}},c=t||n;return Y.jsxs("div",{className:"min-h-screen bg-zinc-50 text-zinc-900 font-sans flex flex-col items-center justify-center relative overflow-hidden",children:[Y.jsxs("div",{className:"absolute inset-0 z-0 overflow-hidden pointer-events-none",children:[Y.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[60%] h-[60%] rounded-full bg-violet-200/40 blur-3xl animate-pulse"}),Y.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[60%] h-[60%] rounded-full bg-fuchsia-200/40 blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),Y.jsx(ha.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative z-10 w-full max-w-md px-8 py-12 bg-white/70 backdrop-blur-xl rounded-3xl shadow-2xl shadow-violet-100 ring-1 ring-black/5 border border-white/50",children:Y.jsxs("div",{className:"flex flex-col items-center text-center space-y-6",children:[Y.jsx("div",{className:"inline-flex items-center justify-center p-4 bg-white rounded-2xl shadow-lg shadow-violet-100 ring-1 ring-black/5",children:Y.jsx(WA,{className:"w-8 h-8 text-violet-600"})}),Y.jsxs("div",{className:"space-y-2",children:[Y.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-zinc-900",children:[" ",Y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-violet-600 to-fuchsia-600",children:""})]}),Y.jsx("p",{className:"text-zinc-500 font-medium",children:""})]}),Y.jsx(OA,{mode:"wait",children:c&&Y.jsxs(ha.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"w-full flex items-center gap-3 p-4 bg-rose-50 border border-rose-100 rounded-2xl text-rose-600 text-sm font-medium",children:[Y.jsx(uM,{className:"w-5 h-5 flex-none"}),Y.jsx("p",{children:c})]})}),Y.jsx("div",{className:"w-full pt-4",children:Y.jsx("button",{onClick:u,disabled:r,className:"w-full flex items-center justify-center gap-3 px-6 py-4 bg-zinc-900 hover:bg-zinc-800 disabled:bg-zinc-700 text-white rounded-2xl transition-all shadow-xl shadow-zinc-200 group relative overflow-hidden",children:r?Y.jsx(XA,{className:"w-6 h-6 animate-spin"}):Y.jsxs(Y.Fragment,{children:[Y.jsx($A,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"}),Y.jsx("span",{className:"font-semibold text-lg",children:" Google "})]})})}),Y.jsx("p",{className:"text-xs text-zinc-400",children:""})]})}),Y.jsx("footer",{className:"relative z-10 mt-8 text-zinc-400 text-xs",children:Y.jsxs("p",{children:[" ",new Date().getFullYear()," "]})})]})};function GL(){const[n,t]=at.useState([]),[e,r]=at.useState(null),[o,u]=at.useState([]),[c,m]=at.useState(null),[p,g]=at.useState(!1),[v,E]=at.useState(!1),[S,C]=at.useState(null),[x,z]=at.useState(!0),[L,q]=at.useState(null);at.useEffect(()=>{const Q=$O(Nu,async st=>{st?UL(st.email)?(C(st),q(null)):(await Vb(Nu),C(null),q(" Google ")):C(null),z(!1)});return()=>Q()},[]),at.useEffect(()=>{if(!S)return;(async()=>{try{const st=await fetch("/lottery-number-viewer/files.json");if(st.ok){const nt=await st.json();u(nt),nt.length>0&&W(nt[0].name)}}catch(st){console.error("Failed to fetch files:",st)}})()},[S]);const W=async Q=>{m(Q),g(!0);try{const st=await fetch(`/lottery-number-viewer/data/${Q}`);if(st.ok){const ut=(await st.json()).map(R=>({date:new Date(R.date),numbers:R.numbers})).sort((R,N)=>N.date.getTime()-R.date.getTime()),I=Q.match(/\d{4}/),w=I?I[0]:null;t(ut),r(w)}}catch(st){console.error("Failed to fetch file content:",st)}finally{g(!1)}};return x?Y.jsx("div",{className:"h-screen bg-zinc-50 flex items-center justify-center",children:Y.jsx(XA,{className:"w-8 h-8 text-violet-600 animate-spin"})}):S?Y.jsxs("div",{className:"h-screen bg-zinc-50 text-zinc-900 font-sans selection:bg-violet-100 selection:text-violet-900 flex flex-col overflow-hidden",children:[Y.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[Y.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] rounded-full bg-violet-200/30 blur-3xl"}),Y.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] rounded-full bg-fuchsia-200/30 blur-3xl"})]}),Y.jsxs("div",{className:"relative z-10 w-full max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8 flex flex-col h-full",children:[Y.jsxs(ha.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex-none flex flex-col md:flex-row items-center justify-between gap-4 mb-4",children:[Y.jsxs("div",{className:"flex items-center gap-4",children:[Y.jsx("div",{className:"inline-flex items-center justify-center p-2.5 bg-white rounded-xl shadow-lg shadow-violet-100 ring-1 ring-black/5",children:Y.jsx(WA,{className:"w-5 h-5 text-violet-600"})}),Y.jsxs("div",{className:"text-left",children:[Y.jsxs("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight text-zinc-900",children:[" ",Y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-violet-600 to-fuchsia-600",children:""})]}),Y.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-500 mt-1",children:[e&&Y.jsx("span",{className:"bg-violet-100 text-violet-700 px-2 py-0.5 rounded-full font-medium",children:e}),Y.jsx("span",{children:n.length>0?` ${n.length} `:""})]})]})]}),Y.jsxs("div",{className:"w-full md:w-auto min-w-[260px] flex items-center gap-3",children:[o.length>0&&Y.jsx(HL,{files:o,selectedFile:c,onSelect:W}),S?Y.jsxs("div",{className:"flex items-center min-w-[93px] bg-white/80 backdrop-blur-md p-1 pr-1.5 rounded-2xl shadow-sm ring-1 ring-black/5 transition-all hover:shadow-md hover:ring-black/10 h-11",children:[Y.jsxs("div",{className:"relative shrink-0 flex items-center justify-center p-1",children:[S.photoURL?Y.jsx("img",{src:S.photoURL,alt:S.displayName||"User",className:"w-8 h-8 rounded-xl object-cover ring-2 ring-violet-100 shadow-sm",referrerPolicy:"no-referrer"}):Y.jsx("div",{className:"w-8 h-8 rounded-xl bg-violet-100 flex items-center justify-center",children:Y.jsx(TM,{className:"w-5 h-5 text-violet-600"})}),Y.jsx("div",{className:"absolute bottom-1 right-1 w-2.5 h-2.5 bg-emerald-500 border-2 border-white rounded-full"})]}),Y.jsx("div",{className:"w-px h-4 bg-zinc-200 mx-1"}),Y.jsx("button",{onClick:()=>zL(),className:"group p-2 hover:bg-rose-50 text-zinc-400 hover:text-rose-600 rounded-xl transition-all duration-200 shrink-0 flex items-center justify-center",title:` (${S.displayName})`,children:Y.jsx(yM,{className:"w-4 h-4 transition-transform group-hover:translate-x-0.5"})})]}):Y.jsxs("button",{onClick:()=>vR(),className:"flex items-center gap-2 px-4 py-2.5 bg-violet-600 hover:bg-violet-700 text-white rounded-xl shadow-lg shadow-violet-100 transition-all font-medium",children:[Y.jsx($A,{className:"w-4 h-4"}),Y.jsx("span",{children:"Google "})]})]})]}),Y.jsx("main",{className:"flex-1 min-h-0 relative flex flex-col",children:p?Y.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-4",children:[Y.jsx("div",{className:"w-10 h-10 border-4 border-violet-200 border-t-violet-600 rounded-full animate-spin"}),Y.jsx("p",{className:"text-zinc-400 font-medium animate-pulse",children:"..."})]}):n.length>0&&Y.jsx(FL,{data:n,year:e,showZoneTable:v,onToggleZoneTable:()=>E(!v),user:S})}),Y.jsx("footer",{className:"flex-none mt-4 text-center text-zinc-400 text-[10px] py-2",children:Y.jsxs("p",{children:[" ",new Date().getFullYear()," "]})})]})]}):Y.jsx(qL,{error:L})}a2.createRoot(document.getElementById("root")).render(Y.jsx(at.StrictMode,{children:Y.jsx(GL,{})}));
